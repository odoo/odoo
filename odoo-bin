#!/usr/bin/env python

# set server timezone in UTC before time module imported
__import__('os').environ['TZ'] = 'UTC'

import sys
if 'odoo' in sys.modules and not hasattr(sys.modules['odoo'], 'cli'):
    # The odoo package was not imported normally, but instead created by the
    # namespace package machinery in *-nspkg.pth files generated by
    # setuptools >= 31.0.0. setuptools mandates that parents of a namespace
    # package are namespace packages too. For Odoo this is a problem because
    # 'odoo' is not a namespace package (only 'odoo.addons' is) and
    # contains code that must be executed at import. So we remove this
    # dummy module and let 'import odoo' do it's normal work.
    del sys.modules['odoo']

__import__('pkg_resources').declare_namespace('odoo.addons')
import odoo

if __name__ == "__main__":
    odoo.cli.main()
