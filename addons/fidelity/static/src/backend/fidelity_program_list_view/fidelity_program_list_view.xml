<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <t t-name="fidelity.FidelityProgramListController" t-inherit="web.ListView" t-inherit-mode="primary">
        <xpath expr="//t[@t-component='props.Renderer']" position="attributes">
            <attribute name="initialState">initialState</attribute>
        </xpath>
    </t>

    <t t-name="fidelity.FidelityProgramListRenderer">
        <div class="d-flex flex-column">
            <t t-call="web.ListRenderer" />
            <div class="position-relative container" t-if="this.state.show_predefined_programs">
                <div class="flex-grow-1 text-center" t-att-class="{ 'disable-buttons': loadProgram.status === 'loading' }">
                    <p class="h1 text-primary mt-5">Choose your program</p>
                    <br />
                    <div class="fidelity-programs row p-3">
                        <t t-foreach="availablePrograms" t-as="item" t-key="item_index">
                            <t t-call="fidelity.ProgramCard" />
                        </t>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="fidelity.ProgramCard">
        <div class="col-lg-4">
            <div class="card mb-3 rounded-3 fidelity-program-card" style="max-width: 540px;"
                t-on-click="() => this.clickLoadProgram(item)">
                <div class="row g-0">
                    <div class="col-lg-4">
                        <div class="img-container m-2 d-flex align-items-center justify-content-center">
                            <img t-attf-src="/fidelity/static/img/{{item.iconFile}}" class="scenario-img" />
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="card-body text-start p-3 m-2">
                            <h3 class="card-title fw-bolder" t-esc="item.name"/>
                            <p class="card-text text-large" t-esc="item.description"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</odoo>
