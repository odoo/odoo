<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.DiscussSidebar" owl="1">
        <div name="root" class="o_DiscussSidebar">
            <div class="o_DiscussSidebar_group o_DiscussSidebar_groupMailbox">
                <t t-foreach="allPinnedAndSortedMailBoxes" t-as="mailbox" t-key="mailbox.localId">
                    <CategoryItem threadLocalId="mailbox.localId" t-att-class="{'o-starred-box': mailbox === env.messaging.starred,}" />
                </t>
            </div>
            <hr class="o_DiscussSidebar_separator"/>
            <t t-if="env.messaging.allPinnedChannelModelThreads.length > 19">
                <input class="o_DiscussSidebar_quickSearch" t-on-input="_onInputQuickSearch" placeholder="Quick search..." t-ref="quickSearchInput" t-esc="discuss.sidebarQuickSearchValue"/>
            </t>
            <Category class="o_DiscussSidebar_group o_DiscussSidebar_groupChannel" categoryLocalId="discuss.categoryChannel.localId">
                <t t-set-slot="title">
                    <CategoryChannelTitle />
                </t>
                <t t-set-slot="activeThread">
                    <t t-if="currentThread and currentThread.channel_type === 'channel'">
                        <CategoryChannelItem threadLocalId="currentThread.localId"/>
                    </t>
                </t>
                <t t-set-slot="content">
                    <t t-foreach="quickSearchPinnedAndSortedChannelTypeThreads" t-as="channelThread" t-key="channelThread.localId">
                        <CategoryChannelItem threadLocalId="channelThread.localId" />
                    </t>
                </t>
            </Category>   
            <Category class="o_DiscussSidebar_group o_DiscussSidebar_groupChat" categoryLocalId="discuss.categoryChat.localId">
                <t t-set-slot="title">
                    <CategoryChatTitle />
                </t>
                <t t-set-slot="activeThread">
                    <t t-if="currentThread and currentThread.channel_type === 'chat'">
                        <CategoryChatItem threadLocalId="currentThread.localId"/>
                    </t>
                </t>
                <t t-set-slot="content">
                    <t t-foreach="quickSearchPinnedAndSortedChatTypeThreads" t-as="chatThread" t-key="chatThread.localId">
                        <CategoryChatItem threadLocalId="chatThread.localId"/>
                    </t>
                </t>
            </Category>
        </div>
    </t>

</templates>
