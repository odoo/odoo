<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.ActivityBoxView" owl="1">
        <div class="o_ActivityBoxView" t-attf-class="{{ className }}" t-ref="root">
            <a href="#" role="button" class="o_ActivityBoxView_title btn d-flex align-items-center mt-4 p-0 w-100 fw-bold" t-att-aria-expanded="isActivityListVisible ? 'true' : 'false'" t-on-click="onClickActivityBoxTitle">
                <hr class="o_ActivityBoxView_titleLine w-auto flex-grow-1 me-3" />
                <span class="o_ActivityBoxView_titleText">
                    <i class="fa fa-fw" t-att-class="isActivityListVisible ? 'fa-caret-down' : 'fa-caret-right'"/>
                    Planned activities
                </span>
                <span t-if="!isActivityListVisible" class="o_ActivityBoxView_titleBadges ms-2">
                    <span t-if="chatter.thread.overdueActivities.length > 0" class="o_ActivityBoxView_titleBadge me-1 badge text-bg-danger" t-esc="chatter.thread.overdueActivities.length"/>
                    <span t-if="chatter.thread.todayActivities.length > 0" class="o_ActivityBoxView_titleBadge me-1 badge text-bg-warning" t-esc="chatter.thread.todayActivities.length"/>
                    <span t-if="chatter.thread.futureActivities.length > 0" class="o_ActivityBoxView_titleBadge me-1 badge text-bg-success" t-esc="chatter.thread.futureActivities.length"/>
                </span>
                <hr class="o_ActivityBoxView_titleLine w-auto flex-grow-1 ms-3"/>
            </a>
            <div t-if="isActivityListVisible" class="o_ActivityBoxView_activityList">
                <ActivityView t-foreach="activityViews" t-as="activityView" t-key="activityView.localId" className="'o_ActivityBoxView_activity'" record="activityView"/>
            </div>
        </div>
    </t>

</templates>
