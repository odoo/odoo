<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.ActivityBox" owl="1">
        <t t-if="activityBoxView">
            <div t-attf-class="{{ className() }}" t-ref="root">
                <a role="button" class="btn d-flex align-items-center mt-4 p-0 w-100 font-weight-bold" t-attf-class="{{ className('title') }}" t-on-click="activityBoxView.onClickActivityBoxTitle">
                    <hr class="w-auto flex-grow-1 me-3" t-attf-class="{{ className('titleLine') }}"/>
                    <span t-attf-class="{{ className('titleText') }}">
                        <i class="fa fa-fw" t-att-class="activityBoxView.isActivityListVisible ? 'fa-caret-down' : 'fa-caret-right'"/>
                        Planned activities
                    </span>
                    <t t-if="!activityBoxView.isActivityListVisible">
                        <span class="ms-2" t-attf-class="{{ className('titleBadges') }}">
                            <t t-if="activityBoxView.chatter.thread.overdueActivities.length > 0">
                                <span class="me-1 badge border-0 badge-danger" t-attf-class="{{ className('titleBadge') }}">
                                    <t t-esc="activityBoxView.chatter.thread.overdueActivities.length"/>
                                </span>
                            </t>
                            <t t-if="activityBoxView.chatter.thread.todayActivities.length > 0">
                                <span class="me-1 badge border-0 badge-warning" t-attf-class="{{ className('titleBadge') }}">
                                    <t t-esc="activityBoxView.chatter.thread.todayActivities.length"/>
                                </span>
                            </t>
                            <t t-if="activityBoxView.chatter.thread.futureActivities.length > 0">
                                <span class="me-1 badge border-0 badge-success" t-attf-class="{{ className('titleBadge') }}">
                                    <t t-esc="activityBoxView.chatter.thread.futureActivities.length"/>
                                </span>
                            </t>
                        </span>
                    </t>
                    <hr class="w-auto flex-grow-1 ms-3" t-attf-class="{{ className('titleLine') }}"/>
                </a>
                <t t-if="activityBoxView.isActivityListVisible">
                    <div t-attf-class="{{ className('activityList') }}">
                        <t t-foreach="activityBoxView.activityViews" t-as="activityView" t-key="activityView.localId">
                            <Activity className="className('activity')" localId="activityView.localId"/>
                        </t>
                    </div>
                </t>
            </div>
        </t>
    </t>

</templates>
