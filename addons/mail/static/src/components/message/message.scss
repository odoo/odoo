// ------------------------------------------------------------------
// Layout
// ------------------------------------------------------------------

.o_Message_actionListContainer {
    z-index: 10; // Place the element in front of the Composer when they overlap
}

.o_Message_authorAvatarContainer {
    height: $o-mail-thread-avatar-size;
    width: $o-mail-thread-avatar-size;
}

.o_Message_content {
    *:not(li):not(li div) {
        // Message content can contain arbitrary HTML that might overflow and break
        // the style without this rule.
        // Lists are ignored because otherwise bullet style become hidden from overflow.
        // It's acceptable not to manage overflow of these tags for the moment.
        // It also excludes all div in li because 1st leaf and div child of list overflow
        // may impact the bullet point (at least it does on Safari).
        max-width: 100%;
        overflow-x: auto;
    }

    img {
        max-width: 100%;
        height: auto;
    }
}

.o_Message_core {
    min-width: 0; // allows this flex child to shrink more than its content
}

.o_Message_highlightIndicator {
    width: $o-mail-discuss-message-highlight-indicator-width;
    transition: background-color .5s ease-out;
}

.o_Message_prettyBody > p {
    margin-bottom: 0;
}

.o_Message_sidebar {
    flex-basis: $o-mail-message-sidebar-width;
    max-width: $o-mail-message-sidebar-width;
}

// ------------------------------------------------------------------
// Style
// ------------------------------------------------------------------

.o_Message {
    transition: background-color .5s ease-out;

    &.o-not-discussion.o-selected {
        border-bottom: 1px solid darken(map-get($grays, '400'), 5%);
    }

    &.o-highlighted {
        background-color: rgba($o-brand-primary, .1);

        &.o_Message_active {
            background-color: rgba($o-brand-primary, .2);
        }
    }
}

// Used to hide buttons on rating emails in chatter
// FIXME: should use a better approach for not having such buttons
// in chatter of such messages, but keep having them in emails.
.o_Message_content [summary~="o_mail_notification"] {
    display: none;
}
