<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

<t t-name="mail.emoji_picker" owl="1">
    <div class="o-mail-emoji-picker" t-on-click="onClick">
        <div class="o-mail-emoji-picker-top d-flex align-items-center bg-200" t-on-click="selectCategory">
            <t t-foreach="categories" t-as="category" t-key="category.sortId">
                <span class="o-emoji p-1 cursor-pointer" t-att-class="{'bg-white': category.sortId === state.categoryId}" t-att-title="category.name" t-att-data-id="category.sortId">
                    <t t-esc="category.title"/>
                </span>
            </t>
        </div>
        <div class="o-mail-emoji-picker-search p-1 d-flex">
            <input class="form-control border-0 flex-grow-1" t-ref="input" placeholder="Search an emoji" t-model="state.searchStr"/>
            <i class="oi oi-search p-2 fs-5" title="Search..." role="img" aria-label="Search..."></i>
        </div>
        <div class="o-mail-emoji-picker-content overflow-auto d-flex flex-wrap align-content-start align-items-center" t-ref="emoji-grid" t-on-click="selectEmoji">
            <t t-set="current" t-value=""/>
            <t t-foreach="getEmojis()" t-as="emoji" t-key="emoji_index">
                <t t-if="!state.searchStr and current !== emoji.category">
                    <t t-set="current" t-value="emoji.category"/>
                    <t t-set="category" t-value="categories.find(c => c.name === current)"/>
                    <div class="o-emoji-category w-100 fs-4 p-2" t-att-data-category="category.sortId">
                        <t t-esc="current"/>
                    </div>
                </t>
                <span class="o-emoji p-1 cursor-pointer" t-att-title="emoji.name" t-att-data-index="emoji_index">
                    <t t-esc="emoji.codepoints"/>
                </span>
            </t>
        </div>
    </div>
</t>

</templates>

