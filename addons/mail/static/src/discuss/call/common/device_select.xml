<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="discuss.CallDeviceSelect">
        <Dropdown
            disabled="!isPermissionGranted(props.kind)"
            openOnMouseEnter="false"
        >
            <button
                t-if="isPermissionGranted(props.kind)"
<<<<<<< d98aff1232df958b925f71190b12fd23f7245c63
                t-attf-class="o-mail-DeviceSelect-button btn btn-secondary o-dropdown-caret {{ env.inDialog ? 'w-50' : 'w-100' }}"
||||||| c63bc2441d51b4f5c4cca53f73076d9b4f7a1e74
                class="o-mail-DeviceSelect-button btn cursor-pointer border-1 border-secondary align-items-center d-flex w-100 mw-100 shadow-sm o-dropdown--no-caret overflow-hidden"
=======
                class="o-mail-DeviceSelect-button btn btn-secondary cursor-pointer border-1 border-secondary align-items-center d-flex w-100 mw-100 shadow-sm o-dropdown--no-caret overflow-hidden text-reset"
>>>>>>> a8a543153feb617f7ddca82105c7fd98e934bc10
                t-att-data-kind="props.kind"
             >
                <i t-if="props.icon" t-att-class="props.icon"/>
                <span
                    class="pe-2 text-start text-truncate"
                    t-attf-class="{{ props.icon ? 'ps-2' : '' }}"
                    t-esc="selectLabel || BROWSER_DEFAULT"/>
            </button>
            <button
                t-else=""
<<<<<<< d98aff1232df958b925f71190b12fd23f7245c63
                t-attf-class="o-mail-DeviceSelect-button btn btn-secondary {{ env.inDialog ? 'w-50' : 'w-100' }}"
||||||| c63bc2441d51b4f5c4cca53f73076d9b4f7a1e74
                class="o-mail-DeviceSelect-button btn cursor-pointer border-1 border-secondary align-items-center d-flex w-100 mw-100 shadow-sm o-dropdown--no-caret"
=======
                class="o-mail-DeviceSelect-button btn btn-secondary cursor-pointer border-1 border-secondary align-items-center d-flex w-100 mw-100 shadow-sm o-dropdown--no-caret text-reset"
>>>>>>> a8a543153feb617f7ddca82105c7fd98e934bc10
                t-att-data-kind="props.kind"
                t-on-pointerdown.prevent="() => this.showPermissionDialog(props.kind)"
                t-on-keydown.prevent="() => this.showPermissionDialog(props.kind)"
            >
                <i t-if="props.icon" t-att-class="props.icon"/>
                <span
                    class="text-start"
                    t-attf-class="{{ props.icon ? 'ps-2' : '' }}"
                >
                    <t t-esc="PERMISSION_NEEDED"/>
                </span>
            </button>
            <t t-set-slot="content">
                <DropdownItem t-if="!isBrowserChrome or props.kind === 'videoinput'" class="{ 'active': isSelected() }" onSelected="onSelectAudioDevice.bind(this)">
                    <t t-esc="BROWSER_DEFAULT"/>
                </DropdownItem>
                <t t-foreach="state.userDevices" t-as="device" t-key="device_index">
                    <DropdownItem t-if="device.kind === props.kind" class="{ 'active': isSelected(device.deviceId) }" onSelected="onSelectAudioDevice.bind(this, device)">
                        <t t-esc="device.label || 'device ' + device_index"/>
                    </DropdownItem>
                </t>
            </t>
        </Dropdown>
    </t>

</templates>
