<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="mail.MessageInReply">
        <div class="o-mail-MessageInReply mx-2 mt-1 p-1 pb-0">
            <small class="o-mail-MessageInReply-core o-mail-Message-bubble o-muted border position-relative d-flex px-2 py-1 rounded-start-0 o-rounded-end-bubble d-inline-flex" t-att-class="{
                'o-blue': props.message.parent_id.bubbleColor === 'blue',
                'o-green': props.message.parent_id.bubbleColor === 'green',
                'o-orange': props.message.parent_id.bubbleColor === 'orange',
            }">
                <span class="d-inline-flex align-items-center" t-att-class="{ 'cursor-pointer': props.onClick }" t-on-click="() => this.props.onClick?.()">
                    <t t-if="!props.message.parent_id.isEmpty">
                        <img class="o-mail-MessageInReply-avatar me-2 rounded object-fit-cover" t-att-src="authorAvatarUrl" t-att-title="props.message.parent_id.authorName" alt="Avatar"/>
                        <span class="o-mail-MessageInReply-content overflow-hidden smaller">
                            <b class="o-mail-MessageInReply-author"><t t-out="props.message.parent_id.authorName"/></b>:
                            <span class="o-mail-MessageInReply-message ms-1 text-break">
                                <i t-if="props.message.parent_id.hasAttachments" class="fa fa-fw me-1" t-att-class="props.message.parent_id.previewIcon" />
                                <i t-if="props.message.parent_id.poll" class="fa fa-fw me-1 oi oi-view-cohort"/>
                                <t t-if="!props.message.parent_id.isBodyEmpty">
                                    <t t-out="props.message.parent_id.inlineBody"/>
                                    <em t-if="props.message.parent_id.edited" class="smaller fw-bold text-500"> (edited)</em>
                                </t>
                                <span t-else="" class="fst-italic">
                                    <t t-if="props.message.parent_id.attachment_ids.length > 0">
                                        Click to see the attachments
                                    </t>
                                    <t t-elif="props.message.parent_id.ended_poll_ids.length" t-out="props.message.parent_id.poll.pollClosedText"/>
                                    <t t-elif="props.message.parent_id.poll" t-esc="props.message.parent_id.poll.poll_question"/>
                                </span>
                            </span>
                        </span>
                    </t>
                    <i t-else="">Original message was deleted</i>
                </span>
            </small>
        </div>
    </t>
</templates>
