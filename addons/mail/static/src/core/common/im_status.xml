<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.ImStatus">
        <div class="o-mail-ImStatus d-flex justify-content-center flex-shrink-0 align-items-center bg-inherit" t-attf-class="{{ props.className }}" t-att-style="props.style" t-att-class="{
            'o-md': props.size === 'md' or props.size === 'medium',
            'o-sm': props.size === 'sm' or props.size === 'small',
            'rounded-circle': !props.member?.isTyping,
            'rounded-pill': props.member?.isTyping,
        }">
            <span class="d-flex flex-column" t-att-class="{
                'smaller': props.size === 'md' or props.size === 'medium',
                'o-xsmaller': props.size === 'sm' or props.size === 'small',
            }">
                <t t-slot="pre_icon"/>
                <t name="icon">
                    <i t-if="(!props.member or !props.member.isTyping) and persona" class="fa" t-attf-class="{{imStatusData.activeData.icon}} {{colorClass}}" t-att-title="imStatusData.activeData.title" role="img" t-att-aria-label="imStatusData.activeData.ariaLabel"/>
                    <div t-if="props.member?.isTyping" class="rounded-pill" style="padding: 1px;" t-att-class="{ 'bg-300': env.inChatBubble, 'bg-inherit': !env.inChatBubble }">
                        <div class="bg-success rounded-pill" style="padding: 3px;">
                            <Typing member="props.member" channel="props.member.threadAsTyping" size="['sm', 'smaller'].includes(props.size) ? 'sm' : 'md'" displayText="false" />
                        </div>
                    </div>
                </t>
            </span>
        </div>
    </t>

</templates>
