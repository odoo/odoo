<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="mail.DiscussSidebar">
        <div class="o-mail-DiscussSidebar d-flex d-print-none flex-column overflow-auto o-scrollbar-thin flex-shrink-0 border border-secondary shadow-sm o-mail-DiscussPanel-bgColor me-0" t-att-class="{ 'o-compact': store.discuss.isSidebarCompact }">
            <div class="o-mail-DiscussSidebar-top position-sticky justify-content-center top-0 z-2 o-mail-DiscussPanel-bgColor" t-att-class="{ 'pt-2 mt-1': !store.inPublicPage, 'pt-1': store.inPublicPage, 'gap-2 d-flex flex-column': store.discuss.isSidebarCompact }">
                <div class="d-flex align-items-center justify-content-center" t-att-class="{ 'flex-column gap-2': store.discuss.isSidebarCompact }">
                    <t name="options-btn">
                        <Dropdown position="'right-start'" menuClass="'o-mail-DiscussSidebar-floatingMenu p-0 mx-2 my-0 min-w-0 o-discuss-dropdownStyle'">
                            <button class="o-mail-DiscussSidebar-optionsBtn btn btn-light p-0 align-items-center justify-content-center smaller border border-dark rounded-circle opacity-25 opacity-100-hover" title="Options" t-att-class="{ 'ms-auto': !store.discuss.isSidebarCompact, 'position-absolute': !store.discuss.isSidebarCompact and !store.inPublicPage, 'o-compact': store.discuss.isSidebarCompact }"><i class="oi oi-ellipsis-h oi-fw align-text-top" style="font-size: 15px;"/></button>
                            <t t-set-slot="content">
                                <DiscussActions dropdown="true" group="[optionActions]"/>
                            </t>
                        </Dropdown>
                    </t>
                </div>
                <Dropdown t-if="store.discuss.isSidebarCompact" state="searchFloating" position="'right-start'" menuClass="'o-mail-DiscussSidebar-floatingMenu mx-2 my-0 min-w-0 p-0 o-discuss-dropdownStyle'" manual="true">
                    <button class="o-mail-DiscussSidebarCategories-searchBtn btn btn-light d-flex align-items-center justify-content-center border-0 px-1 opacity-75 bg-transparent" t-on-click="onClickFindOrStartConversation" t-ref="search-btn" t-att-class="{ 'mx-auto': store.discuss.isSidebarCompact, 'mx-2': !store.discuss.isSidebarCompact }"><i class="fa fa-lg fa-fw fa-search"/></button>
                    <t t-set-slot="content">
                        <div class="p-2" t-ref="search-floating">
                            <span class="text-muted user-select-none">Find or start a conversation</span>
                        </div>
                    </t>
                </Dropdown>
                <div t-else="" class="o-mail-DiscussSidebarCategories-search rounded-3 o-mx-2_5 mt-2 mb-1 border border-secondary shadow-sm position-relative d-flex align-items-center justify-content-center gap-1" t-on-click="onClickFindOrStartConversation">
                    <i class="oi oi-search ms-2 opacity-50"/>
                    <input class="form-control rounded-3 border-0 bg-inherit ps-1" t-att-class="{ 'lh-1': !ui.isSmall }" disabled="true" placeholder="Find or start a conversation" tabindex="0"/>
                    <div class="o-mail-DiscussSidebarCategories-searchClickable position-absolute z-1 opacity-0 cursor-pointer w-100 h-100"/>
                </div>
            </div>
            <t t-foreach="discussSidebarItems" t-as="item" t-key="item_index" t-component="item"/>
        </div>
    </t>

</templates>
