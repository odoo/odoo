<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

<t t-name="mail.ScheduledMessage">
    <div class="o-mail-ScheduledMessage d-flex py-1 mb-2">
        <div class="o-mail-ScheduledMessage-sidebar flex-shrink-0 position-relative">
            <img class="w-100 h-100 rounded cursor-pointer" t-att-src="props.message.author.avatarUrl" t-on-click.stop.prevent="onClickAvatar"/>
            <div
                    class="o-mail-ScheduledMessage-iconContainer position-absolute top-100 start-100 translate-middle d-flex align-items-center justify-content-center mt-n1 ms-n1 rounded-circle w-50 h-50 text-bg-success"
                >
                    <i class="fa small" t-attf-class="{{ icon }}"/>
            </div>
        </div>
        <div class="flex-grow px-3">
            <div class="o-mail-ScheduledMessage-info lh-1">
                <span class="fw-bolder text-success">Sent in:</span>
                <span class="fw-bolder px-2 text-break"><t t-esc="sentIn"/></span>
                <i class="fa fa-info-circle btn-link btn-primary cursor-pointer ms-1" role="img" title="Info" aria-label="Info" t-on-click="toggleDetails"></i>
            </div>
            <div class="py-1">
                <span class="fw-bolder text-break">Subject:</span> <t t-out="props.message.subject"/>
            </div>
            <div t-if="state.showDetails">
                <table class="o-mail-ScheduledMessage-details table table-sm mt-2">
                    <tbody>
                        <tr><td class="text-end fw-bolder text-nowrap">Recipients</td><td>Followers of the document<t t-esc="recipientsNames"/></td></tr>
                        <tr><td class="text-end fw-bolder text-nowrap">Scheduled for</td><td><t t-esc="formattedScheduledDate"/></td></tr>
                        <tr>
                            <td class="text-end fw-bolder text-nowrap">Body</td>
                            <td>
                                <p class="truncate" t-out="props.message.body" />
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="lh-lg">
                <t name="tools">
                    <span class="btn btn-link btn-success p-0 me-3" t-on-click="onClickSendNow"><i class="fa fa-paper-plane"/> Send now</span>
                    <span class="o-mail-ScheduledMessage-edit btn btn-link text-action p-0 me-3" t-on-click="edit"><i class="fa fa-pencil"/> Edit</span>
                    <span class="btn btn-link btn-danger p-0" t-on-click="unlink"><i class="fa fa-times"/> Cancel</span>
                </t>
            </div>
        </div>
    </div>
</t>

</templates>
