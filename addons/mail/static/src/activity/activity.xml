<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

<t t-name="mail.activity" owl="1">
    <t t-set="activity" t-value="props.data"/>
    <div class="d-flex px-4 py-1 mb-2">
        <div class="o-mail-activity-sidebar">
            <img class="w-100 h-100 rounded-circle" t-attf-src="/web/image/res.users/{{activity.user_id[0]}}/avatar_128"/>
        </div>
        <div class="flex-grow px-3">
            <div>
                <span class="fw-bolder text-success" t-if="delay === 1">Tomorrow:</span>
                <span class="fw-bolder text-success" t-elif="delay gt 0">Due in <t t-esc="delay"/> days:</span>
                <span class="fw-bolder text-danger" t-elif="delay === -1">Yesterday:</span>
                <span class="fw-bolder text-danger" t-elif="delay lt 0"><t t-esc="-delay"/> days overdue:</span>
                <span class="fw-bolder text-warning" t-else="">Today:</span>
                <span class="fw-bolder px-2"><t t-esc="activity.display_name"/></span>
                <span class="px-1">for <t t-esc="activity.user_id[1]"/></span>
                <i class="fa fa-info-circle btn-link btn-primary cursor-pointer ms-1" role="img" title="Info" aria-label="Info" t-on-click="toggleDetails"></i>
            </div>
            <div t-if="state.showDetails">
                <table class="table table-sm">
                    <tbody>
                        <tr><td class="text-end fw-bolder">Activity type</td><td><t t-esc="activity.activity_type_id[1]"/></td></tr>
                        <tr><td class="text-end fw-bolder">Created</td><td><t t-esc="activity.create_date"/> by <t t-esc="activity.create_uid[1]"/></td></tr>
                        <tr><td class="text-end fw-bolder">Assigned to</td><td><t t-esc="activity.user_id[1]"/></td></tr>
                        <tr><td class="text-end fw-bolder">Due on</td><td><t t-esc="activity.date_deadline"/></td></tr>
                    </tbody>
                </table>
            </div>
            <div>
                <span class="btn btn-link btn-primary p-0 me-3"><i class="fa fa-check"/> Mark Done</span>
                <span class="btn btn-link btn-primary p-0 me-3" t-on-click="edit"><i class="fa fa-pencil"/> Edit</span>
                <span class="btn btn-link btn-primary p-0" t-on-click="unlink"><i class="fa fa-times"/> Cancel</span>
            </div>
        </div>
    </div>
</t>

</templates>
