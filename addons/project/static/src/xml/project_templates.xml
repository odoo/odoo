<?xml version="1.0" encoding="utf-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="day_of_week_widget">
        <table class="o_dow_widget">
            <thead>
                <tr>
                    <th t-foreach="widget.labels" t-as="label">
                        <t t-esc="label"/>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="o_dow_days" />
            </tbody>
        </table>
    </t>

    <div t-name="project.ControlPanel" t-inherit="web.ControlPanel" t-inherit-mode="primary" owl="1">
        <xpath expr="//ol[hasclass('breadcrumb')]" position="inside">
            <li t-if="show_project_update" class="o_project_updates_breadcrumb" t-on-click="onStatusClick">
                <span t-att-class="'o_status_bubble o_color_bubble_' + (data.color) + ' position-relative'"/>
                <t t-esc="data.status"/>
            </li>
        </xpath>
    </div>

    <span t-name="project.statusWithColor" t-att-class="'o_status_bubble o_color_bubble_' + (color)"></span>

    <t t-name="project.status_update_data_row">
        <tr t-att-class="'o_data_row' + (is_last ? ' o_data_row_last' : '') + (is_first ? ' o_data_row_first' : '')" t-att-data-id="id">
            <td class="o_status_timeline_cell position-relative pr-lg-2">
                <div t-att-class="'o_status_bubble o_color_bubble_' + (data.color) + ' position-relative'"/>
            </td>
            <td class="o_data_cell pt-0 w-100">
                <div class="o_status_line" t-att-data-id="id">
                    <small class="o_status_line_date pull-right">
                        <b t-esc="data.date"/>
                    </small>
                    <h4 class="o_status_line_title mt-2" t-esc="data.name"/>
                    <p class="o_status_line_desc" t-esc="data.status_id"/>
                </div>
            </td>
        </tr>
    </t>

    <span t-name="project.status_update">
        <span t-att-class="'o_status_bubble o_color_bubble_' + (data.color) + ' position-relative'"/>
        <t t-esc="data.status"/>
    </span>

    <t t-name="project.KanbanSidePanel" owl="1">
        <div class="o_rightpanel">
            <div class="o_rightpanel_section">
                <div class="o_rightpanel_header">
                    <div class="o_rightpanel_title">
                        Tasks Analysis
                    </div>
                </div>

                <div class="o_rightpanel_data">
                    <div>
                        <a class="btn btn-link o_rightpanel_left_button" t-on-click="onOpenTaskClick">Open Tasks</a>
                        <span class="o_rightpanel_right_col"><t t-esc="tasks.data.open_tasks"/></span>
                    </div>
                    <div>
                        <a class="btn btn-link o_rightpanel_left_button" t-on-click="onUpdatedTaskClick">Recently Updated Tasks (last 30 days)</a>
                        <span class="o_rightpanel_right_col"><t t-esc="tasks.data.updated_tasks"/></span>
                    </div>
                </div>
            </div>
            <div class="o_rightpanel_section">
                <div class="o_rightpanel_header">
                    <div class="o_rightpanel_title">
                        Milestones
                    </div>
                    <span class="o_rightpanel_button">
                        <a t-on-click="onAddMilestoneClick">Add Milestone</a>
                    </span>
                </div>
                <div class="o_rightpanel_data">
                    <div t-foreach="milestones.data.data" t-as="milestone" t-key="milestone.id">
                        <span class="o_milestone_checkbox" t-att-data-id="milestone.id" t-att-data-value="milestone.is_done and 1 or 0" t-on-click="onMilestoneClick">
                            <i class="fa" t-att-class="{'fa-check-square': milestone.is_done, 'fa-square-o': !milestone.is_done }"></i>
                        </span>
                        <t t-esc="milestone.name"/>
                        <span class="o_rightpanel_right_col"><t t-esc="milestone.date_deadline"/></span>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>
