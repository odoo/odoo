<?xml version="1.0" encoding="utf-8"?>

<templates>

    <t t-name="project.SubtaskKanbanList" owl="1">
        <div class="subtask_list">
            <button t-on-click.prevent.stop="onClick">BLOP</button>
            <t t-if="props.record.displaySubtasks">
            <div class="subtask_list">
                <div t-foreach="list.records" t-as="record" t-key="record.id"  class="subtask_list_row">
                    <a t-attf-class="subtask_name_col {{['1_done', '1_canceled'].includes(record.data.state) ? 'text-muted opacity-50' : ''}}"
                        t-att-title="record.data.display_name"
                        style="color: inherit;"
                        t-esc="record.data.display_name"
                        t-on-click.prevent="() => this.goToSubtask(record.resId)"/>

                    <Field
                            class="`subtask_user_widget_col justify-content-end align-items-center ${['1_done', '1_canceled'].includes(record.data.state) ? 'opacity-50' : ''}`"
                            name="'user_ids'"
                            record="record"
                            readonly="true"
                            type="'many2many_avatar_user'"/>
                        <Field name="'state'"
                            class="`subtask_state_widget_col d-flex justify-content-center align-items-center`"
                            record="record"
                            type="'project_task_state_selection'"
                            fieldInfo="{'viewType': 'kanban', 'options': {}}"/>
                </div>
            </div>
            
            </t>
        </div>
    </t>

</templates>
