<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="pos_restaurant.Navbar" t-inherit="point_of_sale.Navbar" t-inherit-mode="extension">
       <xpath expr="//div[hasclass('pos-topheader')]" position="after">
           <FloorPlanEditorNavBar  t-if="this.floorPlanStore?.isEditToolbarVisible()"/>
       </xpath>
        <xpath expr="//DropdownItem[contains(text(), 'Backend')]" position="before">
            <t t-if="this.pos.router.state.current == 'FloorScreen'">
                <DropdownItem t-if="this.showEditPlanButton and this.pos.config.floor_ids.length" onSelected="() => this.floorPlanStore.startEditMode()">
                    Edit Plan
                </DropdownItem>
            </t>
            <DropdownItem t-if="this.pos.router.state.current == 'FloorScreen'" onSelected="() => this.onSwitchButtonClick()">
                Switch Floor View
            </DropdownItem>
        </xpath>
        <xpath expr="//div[hasclass('pos-leftheader')]//OrderTabs" position="attributes">
            <attribute name="t-if">!this.pos.config.module_pos_restaurant</attribute>
        </xpath>
        <xpath expr="//div[hasclass('pos-leftheader')]//OrderTabs" position="after">
            <span t-if="this.pos.config.module_pos_restaurant and this.pos.getOrder()" t-esc="this.currentOrderName" class="badge rounded-pill text-bg-info py-2 fs-6 fw-bolder text-truncate"/>
        </xpath>
        <xpath expr="//button[hasclass('register-label')]" position="before">
            <button t-if="this.pos.config.module_pos_restaurant" class="table-button btn btn-lg btn-light lh-lg" t-att-class="{'active': this.mainButton === 'table', 'text-muted': this.pos.getOrder()?.isFilledDirectSale}" t-on-click="() => this.onClickPlanButton()">
                <span t-if="!this.ui.isSmall">Tables</span>
                <img t-else="" src="/pos_restaurant/static/img/plan.svg" class="navbar-icon" t-att-class="{'opacity-50': this.pos.getOrder()?.isFilledDirectSale}" alt="Floor Plan"/>
            </button>
        </xpath>
        <xpath expr="//div[hasclass('navbar-separator')]" position="after">
            <div class="d-flex align-items-center" t-if="this.pos.orderToTransferUuid">
                <strong class="mx-2 text-warning">
                    Select table to transfer order
                </strong>
            </div>
        </xpath>
        <xpath expr="//button[hasclass('orders-button')]" position="attributes">
            <attribute name="t-att-class">{'active': this.mainButton === 'order', 'text-muted': this.pos.getOrder()?.isFilledDirectSale}</attribute>
        </xpath>
    </t>
</templates>
