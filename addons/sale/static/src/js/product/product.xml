<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="sale_product_configurator.product"
       t-inherit="product.product_configurator.product"
       t-inherit-mode="primary">
        <xpath expr="//td[hasclass('p-3')]" position="attributes">
            <attribute name="t-att-colspan">this.props.optional ? 2:false</attribute>
        </xpath>
        <xpath expr="//td[hasclass('o_product_configurator_qty')]/div[1]" position="attributes">
            <attribute name="t-if">!this.props.optional</attribute>
        </xpath>
        <xpath expr="//td[hasclass('o_product_configurator_qty')]/div[1]" position="after">
            <div t-else="">
                <h5 class="text-nowrap" t-out="getFormattedPrice()"/>
            </div>
            <a
                class="d-block mt-2"
                role="button"
                t-if="!this.props.optional &amp;&amp; this.env.mainProductTmplId !== this.props.product_tmpl_id"
                t-on-click="() => this.env.removeProduct(this.props.product_tmpl_id)">
                Remove product
            </a>
        </xpath>
        <xpath expr="//td[last()]" position="after">
            <td class="o_sale_product_configurator_price py-3 px-0 text-end" name="price">
                <div t-if="!this.props.optional" class="input-group justify-content-end">
                    <h5 class="text-nowrap" t-out="getFormattedPrice()"/>
                </div>
                <div t-else="">
                    <button
                        t-if="this.props.optional"
                        class="btn btn-secondary"
                        t-att-class="{'disabled': !this.env.isPossibleCombination(this.props)}"
                        t-on-click="() => this.env.addProduct(this.props.product_tmpl_id)">
                        <i class="fa fa-plus"/> Add
                    </button>
                </div>
            </td>
        </xpath>
    </t>
</templates>
