<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

<record model="ir.ui.view" id="layout">
    <field name="name">website_report.layout</field>
    <field name="inherit_id" ref="website.layout"></field>
    <field name="mode">primary</field>
    <field name="type">qweb</field>
    <field name="arch" type="xml">
        <!-- Add report attributes -->
        <xpath expr="//html" position="attributes">
            <attribute name="t-att-data-report-margin-top">data_report_margin_top if data_report_margin_top else None</attribute>
            <attribute name="t-att-data-report-header-spacing">data_report_header_spacing if data_report_header_spacing else None</attribute>
            <attribute name="t-att-data-report-dpi">data_report_dpi if data_report_dpi else None</attribute>
            <attribute name="t-att-data-website-id">website.id if editable and website else None</attribute>
        </xpath>
        <!-- Add report style -->
        <xpath expr="//head" position="inside">
            <style type="text/css">
                <t t-call="report.style"/>
            </style>
        </xpath>
        <xpath expr="//body" position="attributes">
            <attribute name="class">container</attribute>
        </xpath>
        <!-- Correct view inheritance -->
        <xpath expr="//t[@t-name='website.layout']" position="attributes">
            <attribute name="t-name">website_report.layout</attribute>
        </xpath>
    </field>
</record>

<template id="website_html_container" inherit_id="report.html_container">
    <xpath expr="//t[@t-call='report.layout']" position="replace">
        <t t-call="website_report.layout">
            <t t-raw="0"/>
        </t>
    </xpath>
</template>
</data>
</openerp>
