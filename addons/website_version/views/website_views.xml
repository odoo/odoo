<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="view_website_form_extend"> 
            <field name="name">website.form</field>
            <field name="model">website</field> 
            <field name="inherit_id" ref="website.view_website_form"/>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <!-- find field name, and insert field name before it -->
                <field name="name" position="replace">
                </field>
                <field name="google_analytics_key" position="before">
                    <field name="tuto_sync"/>                           
                    <div colspan="4"> 
                        <div attrs="{'invisible':[('tuto_sync','=',False)]}">
                            <br/><h2>How to get the Google Analytics Key and the View ID</h2>
                            <ul> 
                                <li> Go to <a href='https://www.google.com/analytics/' target='_blank'>https://www.google.com/analytics/</a>
                                and connect you.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_Login.png' class='analytics_img_tuto'/> 
                                </li>
                                <li> 
                                    Click on <b>"Admin"</b>.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_admin.png' class='analytics_img_tuto'/>    
                                </li>
                                <li> 
                                    Click on <b>"Tracking Code"</b>.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_tracking_code.png' class='analytics_img_tuto'/>   
                                </li>
                                <li> 
                                    Copy the <b>"Tracking ID"</b> and paste it in the field Google Analytics key.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_tracking_id.png' class='analytics_img_tuto'/>   
                                </li>
                                <li> 
                                    Click on <b>"Admin"</b> and click on <b>"View Settings"</b>.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_view_settings.png' class='analytics_img_tuto'/>  
                                </li>
                                <li> 
                                    Copy the <b>"View ID"</b> and paste it in the field View ID.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_view_id.png' class='analytics_img_tuto'/>  
                                </li>
                                <li> 
                                    Click on Save.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_Save.png' class='analytics_img_tuto' />  
                                </li>
                                <li> 
                                    Click on Authorize google.
                                    <br/><br/><img src='/website_version/static/src/img/GA/GA_authorize.png' class='analytics_img_tuto' />  
                                </li>
                                <a href="#" class="oe_link">Return at Top</a>                                             
                            </ul>                                
                        </div>
                    </div>
                </field>
                <field name="google_analytics_key" position="after">
                        <field name="google_analytics_view_id" placeholder="7654321"/>
                        <field name="google_management_authorization" widget="rtoken"/>
                </field>
                <field name="company_id" position="after">
                    <field name="name" class="oe_inline"/>
                    <field name="company_id"/>
                    <field name="user_id" context="{'active_test': False}"/>
                </field>
                <separator string="Domain" position="replace">
                    <separator string="Statistics"/>
                </separator>

            </field>
        </record>

        <record id="action_website_view" model="ir.actions.act_window">
            <field name="name">Domains</field>
            <field name="res_model">website</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- <record id="view_website_version_configc" model="ir.ui.view">
            <field name="priority">100</field>
            <field name="name">Configuration A/B testing settings</field>
            <field name="model">website</field>
            <field name="arch" type="xml">
            <form string="Configure your settings">
                <field name="google_analytics_key" placeholder="UA-XXXXXXXX-Y"/>
                <field name="google_analytics_view_id" placeholder="7654321"/>
                <field name="google_management_authorization" widget="rtoken"/>
            </form>
            </field>
        </record>

        <record id="action_config_abc" model="ir.actions.act_window">
            <field name="name">Domains_AB</field>
            <field name="res_model">website</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_website_version_configc"/>
        </record> -->

        <menuitem name="Website" id="website_menu" sequence="10"
            parent="base.marketing_menu" />
        <menuitem action="action_website_view" id="menu_website_view" parent="website_version.website_menu"/>

        <record model="ir.ui.view" id="view_view_form_extend"> 
            <field name="model">ir.ui.view</field>

            <field name="inherit_id" ref="base.view_view_form"/>
            <field name="arch" type="xml">

                 <field name="name" position="after">
                    <!-- <field name="snapshot_id" attrs="{'invisible': [('master_id', '!=', True)]}"/> -->
                    <field name="snapshot_id"/> 
                </field>

                <group position="before">
                    <button icon="fa-pencil" name="action_publish" string="Publish" type="object" class="oe_stat_button pull-right" 
                        context="{'active_id': active_id}" attrs="{'invisible': ['|','|',('type', '!=', 'qweb'),('website_id', '=',False), ('snapshot_id', '=', False)]}" />
                </group>

            </field>
        </record>
    </data>
</openerp>
