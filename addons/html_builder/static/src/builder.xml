<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

<t t-name="html_builder.Builder">
    <div class="h-100 o-snippets-menu d-flex flex-column" t-ref="builder_sidebar">
        <div class="o-snippets-top-actions d-flex justify-content-between flex-shrink-0 p-2">
            <div class="d-flex gap-1">
                <button type="button" t-on-click="() => this.undo()" class="o-hb-btn btn fa fa-undo" t-att-disabled="!this.state.canUndo"/>
                <button type="button"  t-on-click="() => this.redo()" class="o-hb-btn btn fa fa-repeat" t-att-disabled="!this.state.canRedo"/>
            </div>
            <div class="d-flex gap-1">
                <button t-on-click="this.onMobilePreviewClick" type="button" class="o-hb-btn btn btn-success-color-active d-flex align-items-center" t-att-class="{ active: this.props.isMobile }" data-action="mobile" title="Mobile Preview" accesskey="m" style="--btn-font-size: 20px"><span class="fa fa-mobile" role="img"/></button>
                <t t-if="this.props.slots?.extraActions" t-slot="extraActions"/>
            </div>
        </div>
        <div t-if="!this.props.onlyCustomizeTab" class="o-snippets-tabs position-relative">
            <div
                class="o-snippets-tabs-highlighter position-absolute start-50 h-100 pe-none"
                t-att-class="{
                    'o-highlight-blocks': this.state.activeTab === 'blocks',
                    'o-highlight-theme': this.state.activeTab === 'theme',
                }"
            />
            <ul class="nav nav-underline" role="tablist">
                <li class="nav-item" role="presentation">
                    <button id="blocks-tab" data-name="blocks" data-hotkey="1" class="o-hb-tab nav-link position-relative w-100" t-att-class="{'active cursor-default': this.state.activeTab === 'blocks'}" t-on-click="() => this.onTabClick('blocks')" t-att-disabled="this.props.onlyCustomizeTab" role="tab" t-att-aria-selected="this.state.activeTab === 'blocks' ? 'true' : 'false'">
                        <i class="fa fa-plus me-2" role="none"/>Blocks
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button id="customize-tab" data-name="customize" class="o-hb-tab nav-link position-relative w-100" t-att-class="{'active cursor-default': this.state.activeTab === 'customize'}" t-on-click="() => this.onTabClick('customize')" role="tab" t-att-aria-selected="this.state.activeTab === 'customize' ? 'true' : 'false'">
                        <i class="fa fa-pencil me-2" role="none"/>Style
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button id="theme-tab" data-name="theme" data-hotkey="2" t-if="this.ThemeTab" class="o-hb-tab nav-link position-relative w-100" t-att-class="{'active cursor-default': this.state.activeTab === 'theme'}" t-on-click="() => this.onTabClick('theme')" t-att-disabled="this.props.onlyCustomizeTab" role="tab" t-att-aria-selected="this.state.activeTab === 'theme' ? 'true' : 'false'">
                        <i class="fa fa-cog me-2" role="none"/><t t-out="this.props.themeTabDisplayName"/>
                    </button>
                </li>
            </ul>
        </div>
        <div class="o-tab-content overflow-y-auto overflow-x-hidden flex-grow-1">
            <t t-if="this.state.activeTab === 'blocks'">
                <BlockTab snippetsName="this.props.snippetsName" />
            </t>
            <t t-if="this.state.activeTab === 'customize'">
                <CustomizeTab currentOptionsContainers="this.state.currentOptionsContainers" snippetModel="this.snippetModel"/>
            </t>
            <t t-if="this.state.activeTab === 'theme'">
                <t t-component="this.ThemeTab" colorPresetToShow="this.colorPresetToShow" shadowSizeToShow="this.shadowSizeToShow"/>
            </t>
        </div>
        <div class="o_we_lower_panel mt-auto flex-grow-0 flex-shrink-0">
            <t t-foreach="this.lowerPanelEntries()" t-as="entry" t-key="entry_index">
                <t t-component="entry.Component" t-props="entry.props"/>
            </t>
        </div>
    </div>
</t>

</templates>
