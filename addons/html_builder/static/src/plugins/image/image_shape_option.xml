<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

<t t-name="html_builder.ImageShapeOption">
    <BuilderRow label.translate="Shape">
        <div class="btn-group o-hb-button-group">
            <BuilderOverlayPanel
                label.translate="Shape"
                fullHeight="true"
                darkVersion="true"
                textContent="state.shapeLabel">
                <ShapeSelector
                    shapeActionId="'setImageShape'"
                    buttonWrapperClassName="'o-hb-img-shape-btn'"
                    selectorTitle.translate="Shapes"
                    shapeGroups="getFilteredGroups()"
                />
            </BuilderOverlayPanel>
            <BuilderButton
                action="'setImageShape'"
                actionValue=""
                preview="false"
                icon="'oi-close'"
                className="'btn-danger-color-hover rounded-start-0 m-0 py-0 flex-grow-0'"
                t-if="state.hasShape"/>
        </div>
    </BuilderRow>

    <t t-if="this.state.hasShape">
        <BuilderRow label.translate="Colors" level="1">
            <t t-foreach="this.state.showImageShapeColor" t-as="colorName" t-key="colorName_index">
                <BuilderColorPicker action="'setImgShapeColor'" actionParam="{index: colorName_index}" t-if="colorName" enabledTabs="['solid', 'custom']"/>
            </t>
        </BuilderRow>

        <BuilderRow label.translate="Transform" level="1" t-if="this.state.showImageShapeTransform" preview="false">
            <BuilderButton
                title.translate="Horizontal mirror"
                icon="'oi-arrows-h'"
                action="'flipImageShape'"
                actionParam="{axis: 'x'}"/>
            <BuilderButton
                title.translate="Vertical mirror"
                icon="'oi-arrows-v'"
                action="'flipImageShape'"
                actionParam="{axis: 'y'}"/>
            <BuilderButton
                title.translate="Rotate left"
                icon="'fa-rotate-left'"
                action="'rotateImageShape'"
                actionParam="{side: 'left'}"/>
            <BuilderButton
                title.translate="Rotate right"
                icon="'fa-rotate-right'"
                action="'rotateImageShape'"
                actionParam="{side: 'right'}"/>
        </BuilderRow>

        <BuilderRow label.translate="Speed" level="1" t-if="this.state.showImageShapeAnimation" preview="false">
            <BuilderRange
                action="'setImageShapeSpeed'"
                min="-2"
                max="2"
                step="0.1"
                displayRangeValue="true"
                computedOutput="this.toRatio"/>
        </BuilderRow>

        <BuilderRow label.translate="Stretch" level="1" t-if="this.state.togglableRatio" preview="false">
            <BuilderCheckbox action="'toggleImageShapeRatio'"/>
        </BuilderRow>
    </t>
</t>

</templates>
