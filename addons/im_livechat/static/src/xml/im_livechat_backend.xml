<?xml version="1.0" encoding="UTF-8"?>
<template>

    <t t-extend="mail.discuss.SidebarChannels">
        <t t-jquery="t[t-call='mail.discuss.SidebarItems']:last" t-operation="after">
            <t t-set="type" t-value="'livechat'"/>
            <t t-set="disableAddThread" t-value="true"/>
            <t t-call="mail.discuss.SidebarTitle">
                <t t-set="title">Livechat</t>
                <t t-set="icon" t-value="fa-comments"/>
            </t>
            <t t-call="mail.discuss.SidebarItems"/>
        </t>
    </t>

    <!-- Mobile templates -->
    <t t-extend="mail.discuss_mobile">
        <t t-jquery=".o_mail_mobile_tabs" t-operation="append">
            <div class="o_mail_mobile_tab" data-type="livechat">
                <span class="fa fa-comments"/>
                <span class="o_tab_title">Livechat</span>
            </div>
        </t>
    </t>

    <t t-extend="mail.widget.Thread.Content.ASC">
        <t t-jquery=".o_mail_thread_content" t-operation="append">
            <t t-call="mail.widget.Thread.TypingData"/>
        </t>
    </t>

    <div t-name="mail.widget.Thread.TypingData" class="o_thread_message_preview">
        <t t-if="thread and thread.hasTypingNotification() and thread._typingPartnerData and thread._typingPartnerData[thread.getID()]">
            <div class="alert alert-secondary ml32">
                <t t-call="mail.ThreadTypingIcon"/><t t-esc="thread._name"/><br/>
                <t t-esc="thread._typingPartnerData[thread.getID()]"/>
            </div>
        </t>
    </div>

</template>
