<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="im_livechat.ExpertiseTagsAutocomplete">
        <div
            class="o-livechat-ExpertiseTagsAutocomplete d-inline-flex o_tags_input flex-wrap gap-1 mb-3"
            t-att-class="{'o_input': !this.props.disabled, 'o-disabled': this.props.disabled}"
            t-ref="root"
        >
            <div class="d-flex flex-wrap gap-1">
                <BadgeTag t-foreach="this.props.channel.livechat_expertise_ids" t-as="expertise" t-key="expertise.id" text="expertise.name" color="expertise.color" onDelete="this.props.disabled ? null : () => this.unlinkExpertise(expertise)"/>
            </div>
            <div t-if="!this.props.disabled" class="flex-grow-1 d-inline-flex w-100" style="flex-basis: 0;">
                <Many2XAutocomplete
                    placeholder="this.placeholder"
                    resModel="'im_livechat.expertise'"
                    activeActions="{'link': true}"
                    isToMany="true"
                    fieldString.translate="Expertise"
                    update.bind="this.addExpertises"
                    quickCreate="this.store.self_user?.is_livechat_manager ? (name) => this.createAndLinkExpertise(name) : null"
                    getDomain="() => []"
                >
                    <t t-set-slot="autoCompleteItem" t-slot-scope="autoCompleteItemScope">
                        <span t-att-class="{ 'fw-bold': this.isSelected(autoCompleteItemScope.record.id) }">
                            <span t-out="autoCompleteItemScope.label"/>
                        </span>
                    </t>
                </Many2XAutocomplete>
            </div>
        </div>
    </t>
</templates>
