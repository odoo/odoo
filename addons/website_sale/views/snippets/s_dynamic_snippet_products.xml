<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Base definition for the product snippet, not to be used as a snippet on its own. -->
    <template id="s_dynamic_snippet_products" name="Dynamic snippet template">
        <t t-call="website.s_dynamic_snippet_template">
            <t t-set="main_page_url" t-value="'/shop'"/>
            <t t-out="0"/>
        </t>
    </template>
    <template id="s_dynamic_filter_template_product_product_borderless_1" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_borderless_1'"/>
            <!--
                TODO: `.oe_website_sale` is used as a selector in `website_sale_tracking.js`. This
                is a temporary solution to load the tracking utilities and will be removed once
                tracking utilities will be fully integrated into a service.
            -->
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_borderless_1'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_borderless_1_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_borderless_2" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_borderless_2'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_borderless_2'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_borderless_2_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_card_group" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_card_group'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_number_of_elements" t-value="2"/>
            <t t-set="snippet_row_per_slide" t-value="2" />
            <t t-set="snippet_element_on_small_device" t-value="1" />
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_card_group'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_card_group_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_centered" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_centered'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_centered'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_centered_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_add_to_cart" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_add_to_cart'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_add_to_cart'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_add_to_cart_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_view_detail" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_view_detail'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_number_of_elements" t-value="3"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_view_detail'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_view_detail_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_horizontal_card" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_horizontal_card'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products o_carousel_multiple_rows oe_website_sale'"/>
            <t t-set="snippet_number_of_elements" t-value="3"/>
            <t t-set="snippet_row_per_slide" t-value="2" />
            <t t-set="snippet_element_on_small_device" t-value="1" />
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_horizontal_card'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_horizontal_card_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_horizontal_card_2" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_horizontal_card_2'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products o_carousel_multiple_rows oe_website_sale'"/>
            <t t-set="snippet_number_of_elements" t-value="2"/>
            <t t-set="snippet_row_per_slide" t-value="2" />
            <t t-set="snippet_element_on_small_device" t-value="1" />
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_horizontal_card_2'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_horizontal_card_2_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_mini_image" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_mini_image'"/>
            <t t-set="snippet_element_on_small_device" t-value="1" />
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_mini_image'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_mini_image_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_mini_name" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_mini_name'"/>
            <t t-set="snippet_element_on_small_device" t-value="1" />
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_mini_name'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_mini_name_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_mini_price" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_mini_price'"/>
            <t t-set="snippet_element_on_small_device" t-value="1" />
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_mini_price'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_mini_price_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_filter_template_product_product_banner" name="Products">
        <t t-call="website_sale.s_dynamic_snippet_products">
            <t t-set="snippet_name" t-value="'s_product_product_banner'"/>
            <t t-set="snippet_classes" t-value="'s_dynamic_snippet_products oe_website_sale'"/>
            <t t-set="snippet_number_of_elements" t-value="1"/>
            <t t-set="snippet_element_on_small_device" t-value="1" />
            <t t-set="snippet_template_key" t-value="'website_sale.dynamic_filter_template_product_product_banner'"/>
            <t t-call="website_sale.s_dynamic_filter_template_product_product_banner_preview_data"/>
        </t>
    </template>

    <template id="s_dynamic_snippet_products_options" inherit_id="website.snippet_options">
        <xpath expr="." position="inside">
            <t t-call="website.dynamic_snippet_carousel_options_template">
                <t t-set="snippet_name" t-value="'dynamic_snippet_products'"/>
                <t t-set="snippet_selector" t-value="'.s_dynamic_snippet_products'"/>
            </t>
        </xpath>
    </template>
    <template id="s_dynamic_snippet_products_template_options" inherit_id="website.s_dynamic_snippet_options_template">
        <xpath expr="//we-select[@data-name='filter_opt']" position="after">
            <t t-if="snippet_name == 'dynamic_snippet_products'">
                <we-select string="Category" data-name="product_category_opt" data-attribute-name="productCategoryId" data-no-preview="true">
                    <we-button data-select-data-attribute="all">All Products</we-button>
                    <we-button data-select-data-attribute="current">Current Category or All</we-button>
                </we-select>
                <we-many2many string="Tags"
                    data-name="product_tag_opt"
                    data-attribute-name="productTagIds"
                    data-no-preview="true"
                    data-model="product.tag"
                    data-allow-delete="true"
                    data-fakem2m="true"
                    data-select-data-attribute=""/>
                <we-checkbox string="Show variants"
                    data-select-data-attribute="true"
                    data-attribute-name="showVariants"
                    data-no-preview="true"/>
                <we-input string="Product Names" class="o_we_large" data-name="product_names_opt"
                    data-attribute-name="productNames" data-no-preview="true" data-select-data-attribute=""
                    placeholder="e.g. lamp,bin" title="Comma-separated list of parts of product names, barcodes or internal reference"/>
            </t>
        </xpath>
    </template>

</odoo>
