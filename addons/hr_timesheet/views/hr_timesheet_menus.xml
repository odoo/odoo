<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="action_aw_onboarding" model="ir.actions.client">
        <field name="name">ActivityWatch Onboarding</field>
        <field name="tag">aw_onboarding</field>
    </record>

    <record id="action_aw_local_config" model="ir.actions.client">
        <field name="name">ActivityWatch Local Config</field>
        <field name="tag">frequency_viewer</field>
    </record>

    <record id="action_activitywatch_sync" model="ir.actions.client">
        <field name="name">ActivityWatch Sync</field>
        <field name="tag">hr_timesheet_activitywatch_action</field>
    </record>

    <record id="activitywatch_browser_rule_list" model="ir.ui.view">
        <field name="name">activitywatch.browser.rule.list</field>
        <field name="model">aw.rule</field>
        <field name="arch" type="xml">
            <list editable="top" string="Browser URL Rules">
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="regex"/>
                <field name="match_count" readonly="1"/>
                <field name="type"/>
                <field name="template"/>
                <field name="project_id" optional="hidden" placeholder="No Project"/>
                <field name="task_id" optional="hidden" placeholder="No Task"/>
                <field name="always_active"/>
                <field name="primary"/>
            </list>
        </field>
    </record>

    <record id="action_activitywatch_browser_rule" model="ir.actions.act_window">
        <field name="name">Browser URL Rules</field>
        <field name="res_model">aw.rule</field>
        <field name="view_mode">list</field>
    </record>

    <record id="action_activitywatch_browser_rule_list" model="ir.actions.act_window.view">
        <field name="sequence" eval="10"/>
        <field name="view_mode">list</field>
        <field name="view_id" ref="activitywatch_browser_rule_list"/>
        <field name="act_window_id" ref="action_activitywatch_browser_rule"/>
    </record>

    <menuitem id="timesheet_menu_root"
              name="Timesheets"
              sequence="75"
              groups="group_hr_timesheet_user"
              web_icon="hr_timesheet,static/description/icon_timesheet.png"
    >
        <menuitem id="timesheet_menu_activity_user"
                  name="My Timesheets"
                  groups="group_hr_timesheet_user"
                  action="act_hr_timesheet_line"
        />
        <menuitem id="menu_hr_time_tracking"
                  name="Timesheets"
                  groups="group_hr_timesheet_approver"
                  sequence="5"
        >
            <menuitem id="timesheet_menu_activity_mine"
                      name="My Timesheets"
                      groups="group_hr_timesheet_approver"
                      action="act_hr_timesheet_line"
            />
            <menuitem id="timesheet_menu_activity_all"
                      name="All Timesheets"
                      action="timesheet_action_all"
                      groups="hr_timesheet.group_hr_timesheet_approver"
            />
        </menuitem>
        <menuitem id="menu_activitywatch_sync"
            name="Timesheet Assistant"
            action="action_activitywatch_sync"
            sequence="85"
        />
        <menuitem id="menu_timesheets_reports"
                  name="Reporting"
                  groups="group_hr_timesheet_approver"
                  sequence="99"
        >
            <menuitem id="menu_timesheets_reports_timesheet"
                      name="Timesheets"
                      sequence="10"
            >
                <menuitem id="menu_hr_activity_analysis"
                          action="act_hr_timesheet_report"
                          groups="hr_timesheet.group_hr_timesheet_approver"
                          name="By Employee"
                          sequence="10"
                />
                <menuitem id="timesheet_menu_report_timesheet_by_project"
                          action="timesheet_action_report_by_project"
                          name="By Project"
                          sequence="15"
                />
                <menuitem id="timesheet_menu_report_timesheet_by_task"
                          action="timesheet_action_report_by_task"
                          name="By Task"
                          sequence="20"
                />
            </menuitem>
        </menuitem>
        <menuitem id="hr_timesheet_menu_configuration"
                  name="Configuration"
                  sequence="100"
        >
            <menuitem id="hr_timesheet_menu_configuration_settings"
                  name="Settings"
                  action="hr_timesheet_config_settings_action"
                  groups="base.group_system"
                  sequence="5"
            />
            <menuitem id="hr_timesheet_menu_configuration_assistant"
                name="Timesheet Assistant"
                sequence="10"
            >
                <menuitem id="menu_activitywatch_browser_rule"
                    name="Assistant Rules"
                    groups="group_timesheet_manager"
                    action="action_activitywatch_browser_rule"
                    sequence="50"
                />
                <menuitem id="menu_aw_local_config"
                    name="Local Assistant Rules"
                    groups="base.group_no_one"
                    action="action_aw_local_config"
                    sequence="100"
                />
                <menuitem id="menu_aw_onboarding"
                    name="AW Onboarding"
                    groups="base.group_no_one"
                    action="action_aw_onboarding"
                    sequence="200"
                />
            </menuitem>
        </menuitem>
    </menuitem>
</odoo>
