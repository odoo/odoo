<t t-name="hr_timesheet.OnboardingPage">
    <div class="container mt-4">
        <h4>ActivityWatch Onboarding</h4>

    <!-- Browser/OS -->
        <div class="mb-3">
            <div>Detected browser: <strong t-esc="state.browser"/></div>
            <div>Detected OS: <strong t-esc="state.os"/></div>
        </div>

    <!-- Watchers selection -->
        <div class="mb-3">
            <label class="form-label fw-bold">Select ActivityWatch watchers to run:</label>
            <div class="form-check">
                <input class="form-check-input watcher"
                    type="checkbox"
                    t-model="state.watchers"
                    t-att-value="'aw-watcher-afk'"
                    t-att-checked="state.watchers.includes('aw-watcher-afk')"/>
                <label class="form-check-label">
                    AFK watcher (detect idle time)
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input watcher"
                    type="checkbox"
                    t-model="state.watchers"
                    t-att-value="'aw-watcher-window'"
                    t-att-checked="state.watchers.includes('aw-watcher-window')"/>
                <label class="form-check-label">
                    Window watcher (detect active windows)
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input watcher"
                    type="checkbox"
                    t-model="state.watchers"
                    t-att-value="'aw-watcher-web'"
                    t-att-checked="state.watchers.includes('aw-watcher-web')"/>
                <label class="form-check-label">
                    Web watcher (browser activity)
                </label>
            </div>
        </div>


      <!-- Developer -->
      <div class="form-check mb-2">
        <input class="form-check-input" type="checkbox" t-on-change="toggleDev" t-model="state.isDev" id="isDev"/>
        <label class="form-check-label" for="isDev">I am a developer</label>
      </div>

      <div t-if="state.isDev" id="ide-section" class="mb-3">
        <div class="fw-bold">Which IDE do you use?</div>
        <div class="form-check">
          <input class="form-check-input ide-checkbox" type="checkbox" value="vscode" t-on-change="toggleIDE" t-att-checked="state.ideSelections.includes('vscode')"/>
          <label class="form-check-label">VSCode</label>
        </div>
        <div class="form-check">
          <input class="form-check-input ide-checkbox" type="checkbox" value="vim" t-on-change="toggleIDE" t-att-checked="state.ideSelections.includes('vim')"/>
          <label class="form-check-label">Vim</label>
        </div>
        <div class="form-check">
          <input class="form-check-input ide-checkbox" type="checkbox" value="jetbrains" t-on-change="toggleIDE" t-att-checked="state.ideSelections.includes('jetbrains')"/>
          <label class="form-check-label">JetBrains IDEs (IDEA, PyCharm, etc.)</label>
        </div>
      </div>

      <!-- Browser extension -->
      <div class="form-check mb-3">
        <input class="form-check-input watcher" type="checkbox" value="aw-watcher-web" t-on-change="toggleWebWatcher" t-att-checked="state.installWeb"/>
        <label class="form-check-label">Install Browser Extension (recommended for Chrome/Edge/Firefox)</label>
      </div>

      <!-- Odoo domain -->
      <div class="mb-3">
        <label class="form-label">Odoo URL (for CORS):</label>
        <input type="text" class="form-control" t-on-input="setOdooDomain" t-model="state.odooDomain"/>
      </div>

      <!-- Buttons -->
      <div class="mb-3">
        <button class="btn btn-primary me-2" t-on-click="generateScript">Generate Installer Script</button>
        <button class="btn btn-success" t-on-click="() => navigator.clipboard.writeText(state.scriptText)" t-att-disabled="!state.scriptGenerated">Copy to Clipboard</button>
      </div>

      <textarea class="form-control" rows="15" t-model="state.scriptText" readonly="1" t-if="state.scriptGenerated"/>
    </div>
  </t>
