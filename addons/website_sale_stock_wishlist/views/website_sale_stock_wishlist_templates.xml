<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="product_wishlist" inherit_id="website_sale_wishlist.product_wishlist">
        <xpath expr="//t[@t-call='website_sale.products_item']" position="inside">
            <t t-set="product_extra_information">
                <span
                    t-if="wish.product_id._is_sold_out() and not wish.product_id.allow_out_of_stock_order"
                    class="o_wsale_stock_badge badge text-bg-danger align-self-start align-top"
                >
                    <i class="fa fa-circle text-danger me-1" aria-hidden="true"/>
                    Out of stock
                </span>
            </t>
        </xpath>
        <xpath expr="//button[@id='add_to_cart_button']" position="replace">
            <t t-set="is_sold_out"
               t-value="not wish.product_id.allow_out_of_stock_order and wish.product_id._is_sold_out()"/>
            <!-- type="button" needed as default type in a `form` is "sumbit" -->
            <button
                t-if="not combination_info['prevent_zero_price_sale']"
                id="add_to_cart_button"
                type="button"
                class="o_wsale_product_btn_primary btn btn-primary o_wish_add"
                t-att-disabled="is_sold_out"
                t-att-data-show-quantity="is_view_active('website_sale.product_quantity')"
                t-att-data-product-template-id="wish.product_id.product_tmpl_id.id"
                t-att-data-product-product-id="wish.product_id.id"
                t-att-data-product-type="wish.product_id.product_tmpl_id.type"
                t-att-data-ptav-ids="json.dumps(wish.product_id.product_template_attribute_value_ids.ids)"
            >
                <i
                    class="fa fa-fw fa-shopping-cart o_not-animable"
                    role="presentation"
                />
                <span class="o_label small ms-1">Add to Cart</span>
            </button>
        </xpath>
    </template>
</odoo>
