<?xml version="1.0" encoding="UTF-8"?>

<templates xml:space="preserve">

    <t t-name="sale_pdf_quote_builder.CustomContentKanbanLike">
        <ul>
            <t t-foreach="state.header" t-as="headerId" t-key="'header' + headerId">
                <t t-if="state.header">
                    <li><h5 t-out="state.header[headerId].document_name"/></li>
                </t>
                <t t-foreach="state.header[headerId].custom_form_fields" t-as="formField" t-key="'header' + headerId + formField">
                    <div class="card align-items-stretch flex-column mt-2 w-auto">
                        <h5 t-out="formField" class="card-title text-primary mt-3 mx-2"/>
                        <div class="card-body">
                            <span
                                t-attf-class="card-text #{state.header[headerId].custom_form_fields[formField] ? '' : 'text-muted'}"
                            >
                                <textarea
                                    t-model.lazy="state.header[headerId].custom_form_fields[formField]"
                                    t-att-placeholder="this.placeholderLabel"
                                    class="form-control"
                                />
                            </span>
                        </div>
                    </div>
                </t>
            </t>
            <t t-foreach="state.line" t-as="soLineId" t-key="'sol' + soLineId">
                <t t-foreach="state.line[soLineId]" t-as="docId" t-key="'sol' + soLineId + 'doc' + docId">
                    <t t-if="docId !== 'product_name'">
                        <t t-if="docId">
                            <li>
                                <h5>
                                    <t t-out="state.line[soLineId].product_name"/>:
                                    <t t-out="state.line[soLineId][docId].document_name"/>
                                </h5>
                            </li>
                        </t>
                        <t t-foreach="state.line[soLineId][docId].custom_form_fields" t-as="formField" t-key="'sol' + soLineId + 'doc' + docId + formField">
                            <div class="card align-items-stretch flex-column mt-2 w-auto">
                                <h5 t-out="formField" class="card-title text-primary mt-3 mx-2"/>
                                <div class="card-body">
                                    <span
                                        t-attf-class="card-text #{state.line[soLineId][docId].custom_form_fields[formField] ? '' : 'text-muted'}"
                                    >
                                        <textarea
                                            t-model.lazy="state.line[soLineId][docId].custom_form_fields[formField]"
                                            t-att-placeholder="this.placeholderLabel"
                                            class="form-control"
                                        />
                                    </span>
                                </div>
                            </div>
                        </t>
                    </t>
                </t>
            </t>
            <li><h5>Quote: Price Table</h5></li>
            <t t-foreach="state.footer" t-as="footerId" t-key="'footer' + footerId">
                <t t-if="state.footer">
                    <li><h5 t-out="state.footer[footerId].document_name"/></li>
                </t>
                <t t-foreach="state.footer[footerId].custom_form_fields" t-as="formField" t-key="'footer' + footerId + formField">
                    <div class="card align-items-stretch flex-column mt-2 w-auto">
                        <h5 class="card-title text-primary mt-3 mx-2">
                            Footer: <t t-out="state.footer[footerId].document_name"/> / <t t-out="formField"/>
                        </h5>
                        <div class="card-body">
                            <span
                                t-attf-class="card-text #{state.footer[footerId].custom_form_fields[formField] ? '' : 'text-muted'}"
                            >
                                <textarea
                                    t-model.lazy="state.footer[footerId].custom_form_fields[formField]"
                                    t-att-placeholder="this.placeholderLabel"
                                />
                            </span>
                        </div>
                    </div>
                </t>
            </t>
        </ul>
    </t>

</templates>
