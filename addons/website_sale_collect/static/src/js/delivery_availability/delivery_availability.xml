<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

    <t t-inherit="delivery.availability" t-inherit-mode="extension">
        <div name="delivery_availability" position="before">
            <div
                name="click_and_collect_availability"
                t-on-click="openLocationSelector"
                class="cursor-pointer"
            >
                <h6>
                    <i class="fa fa-fw fa-map-marker text-muted"/>
                    <t
                        t-if="this.state.selectedLocationData.id"
                        t-out="this.state.selectedLocationData.name"
                    />
                    <t t-else="">Click and Collect</t>
                </h6>
                <div class="d-flex justify-content-between">
                    <t t-if="this.state.inStoreStockData?.in_stock">
                        <div
                            t-if="this.state.inStoreStockData.show_quantity &amp;&amp; this.state.selectedLocationData.id"
                            class="text-muted"
                        >
                            <i class="fa fa-fw fa-circle text-warning"/>
                            Only <t t-out="this.state.inStoreStockData.quantity"/> available
                        </div>
                        <div t-else="" class="text-muted">
                            <i class="fa fa-fw fa-circle text-success"/> Available
                        </div>
                    </t>
                    <div t-else="" class="text-muted">
                        <i class="fa fa-fw fa-circle text-danger"/> Not available
                    </div>
                    <a t-if="this.props.showSelectStoreButton" role="button" href="#">
                        <t t-if="this.state.selectedLocationData.id">Change store</t>
                        <t t-elif="this.state.inStoreStockData.in_stock">Select store</t>
                    </a>
                </div>
            </div>
        </div>
    </t>

</templates>
