<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="hr_version_list_view_enhanced_hr_attendance_base" model="ir.ui.view">
        <field name="name">hr.version.list.view.enhanced.hr.attendance.base</field>
        <field name="model">hr.version</field>
        <field name="inherit_id" ref="hr.hr_version_list_view_enhanced"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <field name="date_version" position="replace"/>
            <field name="resource_calendar_id" position="replace"/>
            <field name="job_id" position="after">
                <field name="resource_calendar_id" optional="show"/>
            </field>
            <field name="department_id" position="after">
                <field name="ruleset_id" optional="show"/>
            </field>
        </field>
    </record>

    <record id="hr_version_search_view_enhanced_hr_attendance" model="ir.ui.view">
        <field name="name">hr.version.search.view.enhanced.hr.attendance</field>
        <field name="model">hr.version</field>
        <field name="inherit_id" ref="hr.hr_version_search_view_enhanced"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <xpath expr="//search/group/filter[@name='group_department']" position="before">
                <filter name="group_resource_calendar" string="Working Hours" domain="[]" context="{'group_by': 'resource_calendar_id'}"/>
            </xpath>
            <xpath expr="//search/filter[@name='departure_reason_id']" position="after">
                <filter name="employees_with_ruleset" string="Employees With Ruleset" domain="[('ruleset_id','=', context.get('ruleset_id'))]"/>
            </xpath>
        </field>
    </record>

    <record id="hr_version_list_view" model="ir.actions.act_window">
        <field name="name">Employees</field>
        <field name="res_model">hr.version</field>
        <field name="view_mode">list</field>
        <field name="view_id" ref="hr_attendance.hr_version_list_view_enhanced_hr_attendance_base"/>
        <field name="search_view_id" ref="hr_attendance.hr_version_search_view_enhanced_hr_attendance"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No Records.
            </p><p>
                There are no employees assigned to this overtime ruleset.
            </p>
        </field>
    </record>
</odoo>
