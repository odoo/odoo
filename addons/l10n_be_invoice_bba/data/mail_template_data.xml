<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="account.email_template_edi_invoice" model="mail.template">
            <field name="body_html" type="xml">
<p>Dear <t t-esc="record.partner_id.name"/>
<t t-set="access_action" t-value="record.with_context(force_website=True).get_access_action()"/>
<t t-set="is_online" t-value="access_action and access_action['type'] == 'ir.actions.act_url'"/>
<t t-set="access_url" t-value="is_online and '/mail/view?model=account.invoice&amp;res_id=%d' % (record.id) or '/report/pdf/account.report_invoice/' + str(record.id)"/>

<t t-if="record.partner_id.parent_id">
    (<i t-esc="record.partner_id.parent_id.name"/>)
</t>
,</p>
<p>Here is your 
<t t-if="record.number">
invoice <strong t-esc="record.number"/>
</t>
<t t-else="">
pro-forma invoice
</t>
<t t-if="record.origin">
(with reference: <t t-esc="record.origin"/> )
</t>
amounting in <strong t-esc="'%s %s' % (record.amount_total, record.currency_id.name)"/>
from <t t-esc="record.company_id.name"/>.
</p>

<t t-if="is_online">
    <br/><br/>
    <center>
      <a t-att-href="access_url" style="background-color: #1abc9c; padding: 20px; text-decoration: none; color: #fff; border-radius: 5px; font-size: 16px;" class="o_default_snippet_text">View Invoice</a>
    </center>
</t>
    <br/><br/>

<p t-if="record.reference_type=='bba' and record.reference">Please use the following communication for your payment : <b t-esc="record.reference"/></p>

<p>Please remit payment at your earliest convenience.</p>
<p>Thank you,</p>
<t t-if="record.user_id and record.user_id.signature" t-raw="record.user_id.signature"/>
</field>
        </record>
    </data>
</odoo>
