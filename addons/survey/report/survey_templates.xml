<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="certification_report_view_general">
             <div
                id="o_survey_certification"
                t-att-data-oe-model="user_input._name" t-att-data-oe-id="user_input.id"
                t-attf-class="#{'article o_survey_certification position-relative o_layout_' + layout_template + ' o_color_' + layout_color + '_' + company_id } #{layout_template != 'minimal' and 'o_bg_color'}">
                <!-- Watermark -->
                <div t-if="user_input.test_entry" class="o_watermark pe-none"/>
                <div t-attf-class="o_certification_container position-absolute {{layout_template == 'minimal' and 'o_border_color'}} {{layout_template != 'classic-1' and layout_template !='classic-2' and 'bg-white'}}">
                    <table t-if="layout_template == 'modern'" t-attf-class="w-100 h-100 table table-borderless mb-0 #{layout_template != 'modern' and 'd-none'}">
                        <tr>
                            <td class="align-top">
                                <p class="mb-0 fs-5 text-uppercase text-700">Certificate of achievement</p>
                                <p class="display-4 fw-bold" t-field="user_input.survey_id.display_name">Functional Training</p>
                            </td>
                            <td>
                                <span class="o_certification_company_logo d-flex justify-content-end align-items-start ms-auto" t-field="user_input.create_uid.sudo().company_id.logo" t-options="{'widget': 'image'}" role="img"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="align-bottom">
                                <p class="fs-5 text-700">This certificate is presented to</p>
                                <p class="o_text_cursive display-5 text-900" t-out="user_input.partner_id.name or user_input.email or ''">Demo certified name</p>
                                <p class="mb-0 fs-5 text-700">by <span class="certification-company fw-semibold" t-field="user_input.create_uid.sudo().company_id.display_name">Odoo</span> for successfully completing this certification.</p>
                            </td>
                            <td class="align-bottom">
                                <div class="o_certification_number flex-column d-flex align-items-center justify-content-center rounded-circle ms-auto o_bg_color_15 fs-5 text-700">
                                    <div class="mb-3 text-center">
                                        <t t-if="user_input.scoring_success">
                                            <p class="mb-0">Certification:</p>
                                            <p class="mb-0 fw-semibold">n°<span t-out="str(user_input.id).rjust(10, '0')">0000000010</span></p>
                                        </t>
                                        <t t-else="">
                                            <p class="mb-0 fw-semibold text-danger">Certification failed</p>
                                        </t>
                                    </div>
                                    <div class="text-center">
                                        <p class="mb-0">Date:</p>
                                        <p class="mb-0 fw-semibold" t-field="user_input.create_date" t-options='{"widget": "date"}'>2023-08-18</p>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                    <table t-elif="layout_template == 'minimal'" t-attf-class="w-100 h-100 table table-borderless mb-0 #{layout_template != 'minimal' and 'd-none'}">
                        <tr>
                            <td class="align-top">
                                <p class="mb-5 display-4 fw-bold lh-1">Certificate of achievement</p>
                            </td>
                            <td class="align-top">
                                <p class="o_certification_company_logo d-flex justify-content-end align-items-start ms-auto mb-0" t-field="user_input.create_uid.sudo().company_id.logo" t-options="{'widget': 'image'}" role="img"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p class="mb-0 fs-5 text-700">This certificate is presented to</p>
                                <p class="mb-5 display-4 o_text_cursive" t-out="user_input.partner_id.name or user_input.email or ''">Demo certified name</p>
                                <p class="mb-0 fs-5 text-700">by <span class="certification-company fw-semibold" t-field="user_input.create_uid.sudo().company_id.display_name">Odoo</span> for successfully completing</p>
                                <p class="me-5 fs-1 fw-bold lh-sm" t-field="user_input.survey_id.display_name">Functional Training</p>
                            </td>
                            <td rowspan="2" class="align-bottom">
                                <div class="d-flex flex-column justify-content-between">
                                    <div class="o_certification_number d-flex align-items-center justify-content-center rounded-circle o_bg_color">
                                        <div class="text-center">
                                            <t t-if="user_input.scoring_success">
                                                <p class="mb-0">Certification:</p>
                                                <p class="mb-0 fw-semibold">n°<span t-out="str(user_input.id).rjust(10, '0')">0000000010</span></p>
                                            </t>
                                            <t t-else="">
                                                <p class="mb-0 fw-semibold text-danger">Certification failed</p>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="align-bottom">
                                <p class="mb-0">Date: <span t-field="user_input.create_date" t-options='{"widget": "date"}'>2023-08-18</span></p>
                            </td>
                        </tr>
                    </table>
                    <div t-elif="layout_template == 'classic-1'" t-attf-class="d-flex flex-column justify-content-between align-items-center h-100 text-center #{layout_template != 'classic-1' and 'd-none'}">
                        <span class="o_certification_company_logo d-flex justify-content-center align-items-center" t-field="user_input.create_uid.sudo().company_id.logo" t-options="{'widget': 'image'}" role="img"/>
                        <div>
                            <p class="display-4 fw-bold lh-1">Certificate of achievement</p>
                            <p class="text-600">This certificate is presented to</p>
                            <p class="display-4 o_text_cursive" t-out="user_input.partner_id.name or user_input.email or ''">Demo certified name</p>
                            <p class="mb-4 text-600">by <span class="certification-company fw-semibold" t-field="user_input.create_uid.sudo().company_id.display_name">Odoo</span> <br/>for successfully completing this certification.</p>
                            <p class="mb-0 fs-1 fw-bold" t-field="user_input.survey_id.display_name">Functional Training</p>
                        </div>
                        <table class="w-100 table table-borderless mb-0 o_fixed_table_layout">
                            <tr>
                                <td class="px-5 align-middle">
                                    <div class="oe_structure"/>
                                    <p t-field="user_input.create_date" t-options='{"widget": "date"}' class="border-bottom border-secondary pb-2 mb-2 fw-semibold">2023-08-18</p>
                                    <p class="mb-0">Date</p>
                                </td>
                                <td t-if="user_input.scoring_success" class="px-5 align-middle">
                                    <div class="oe_structure"/>
                                    <p class="border-bottom border-secondary pb-2 mb-2 fw-semibold">#<span t-out="str(user_input.id).rjust(10, '0')">0000000010</span></p>
                                    <p class="mb-0">Certification</p>
                                </td>
                                <td t-else="" class="px-5 align-middle">
                                    <p class="mb-0 fw-semibold text-danger">Certification failed</p>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div t-elif="layout_template == 'classic-2'" t-attf-class="d-flex flex-column justify-content-between align-items-center h-100 text-center #{layout_template != 'classic-2' and 'd-none'}">
                        <span class="o_certification_company_logo d-flex justify-content-center align-items-center" t-field="user_input.create_uid.sudo().company_id.logo" t-options="{'widget': 'image'}" role="img"/>
                        <div>
                            <p class="mb-0 fs-2 text-600 o_text_cursive">Certificate of achievement for</p>
                            <p class="mb-0 display-5 fw-bold" t-field="user_input.survey_id.display_name">Functional Training</p>
                            <p class="my-4 text-600">presented to</p>
                            <p class="mb-2 pb-2 border-bottom border-secondary display-4 o_text_cursive" t-out="user_input.partner_id.name or user_input.email or ''">Demo certified name</p>
                            <p class="mb-4 text-600">by <span class="certification-company fw-semibold" t-field="user_input.create_uid.sudo().company_id.display_name">Odoo</span> <br/>for successfully completing this certification.</p>
                        </div>
                        <table class="w-100 table table-borderless mb-0 o_fixed_table_layout">
                            <tr>
                                <td class="align-middle">
                                    <p class="mb-0">Date: <span t-field="user_input.create_date" t-options='{"widget": "date"}' class="fw-semibold">2023-08-18</span></p>
                                </td>
                                <td t-if="user_input.scoring_success" class="align-middle">
                                    <p class="mb-0">Certification: n°<span t-out="str(user_input.id).rjust(10, '0')" class="fw-semibold">0000000010</span></p>
                                </td>
                                <td t-else="" class="align-middle">
                                    <p class="mb-0 fw-semibold text-danger">Certification failed</p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </template>

        <template id="certification_report_view">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="user_input">
                    <t t-set="layout_values" t-value="user_input.survey_id.certification_report_layout.split('_') if user_input.survey_id.certification_report_layout else ['modern', 'company']"/>
                    <t t-set="layout_template" t-value="layout_values[0]"/>
                    <t t-set="layout_color" t-value="layout_values[1]"/>
                    <t t-set="company_id" t-value="str(user_input.create_uid.sudo().company_id.id)"/>
                    <t t-call="survey.certification_report_view_general"/>
                </t>
            </t>
        </template>
    </data>
</odoo>
