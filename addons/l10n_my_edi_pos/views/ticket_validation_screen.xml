<?xml version='1.0' encoding='utf-8'?>
<odoo>

    <template id="ticket_validation_screen" inherit_id="point_of_sale.ticket_validation_screen">

        <xpath expr="//div[@id='get_info_div']/parent::div" position="after">
            <t t-if="pos_order.company_id.account_fiscal_country_id.code == 'MY'">
                <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input"
                        name="company_type" value="person" id="company_type_person" checked="checked" />
                    <label class="form-check-label" for="company_type_person">Individual</label>
                </div>

                <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input"
                        name="company_type" value="company" id="company_type_company" />
                    <label class="form-check-label" for="company_type_company">Company</label>
                </div>

                <t t-if="invalid_field and messages">
                    <div class="fs-5 text-danger o_portal_address_error">
                        <t t-foreach="messages" t-as="err">
                            <t t-out="err" />
                        </t>
                    </div>
                </t>
            </t>
        </xpath>

        <xpath expr="//t[@t-call='portal.address_form_fields']" position="after">
            <t t-if="pos_order.company_id.account_fiscal_country_id.code == 'MY'">
                <t t-if="len(l10n_my_identification_types) > 1">
                    <div class="mb-3 col-xl-6">
                        <label class="col-form-label" for="l10n_my_identification_type">Identification
                            Type</label>
                        <select name="l10n_my_identification_type" class="form-select">
                            <option
                                t-foreach="l10n_my_identification_types"
                                t-as="type"
                                t-att-value="type"
                                t-att-selected="l10n_my_identification_type == type"
                                t-out="type_value"
                            />
                        </select>
                    </div>
                </t>
                <div t-attf-class="mb-3 col-xl-6">
                    <label class="col-form-label label-optional o_identification_label" for="l10n_my_identification_number">Identification
                        Number</label>
                    <input type="text" name="l10n_my_identification_number" t-attf-class="form-control"
                        t-att-value="l10n_my_identification_number or partner_sudo.l10n_my_identification_number" />
                </div>
                <div t-attf-class="mb-3 col-xl-6">
                    <label class="col-form-label label-optional"
                        for="l10n_my_edi_industrial_classification">Identification Classification</label>
                    <select name="l10n_my_edi_industrial_classification" t-attf-class="form-select">
                        <option
                            t-foreach="l10n_my_edi_industrial_classifications"
                            t-as="industrial_classification"
                            t-att-value="industrial_classification.id"
                            t-att-selected="industrial_classification.id == int(l10n_my_edi_industrial_classification) if l10n_my_edi_industrial_classification else industrial_classification.id == default_industrial_classification_id"
                            t-out="industrial_classification.name"
                        />
                    </select>
                </div>
            </t>
        </xpath>

    </template>

</odoo>
