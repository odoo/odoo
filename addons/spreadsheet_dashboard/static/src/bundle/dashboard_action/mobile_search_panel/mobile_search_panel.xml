<?xml version="1.0" encoding="utf-8"?>
<templates>
    <div t-name="spreadsheet_dashboard.DashboardMobileSearchPanel">
        <div class="offcanvas offcanvas-start bg-view" id="SearchPanel">
            <div class="offcanvas-header">
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"/>
            </div>
            <div class="o_mobile_search_content">
                <div class="o_search_panel flex-grow-0 flex-shrink-0 border-end pe-2 pb-5 ps-4 h-100 overflow-auto">
                    <section t-foreach="props.groups" t-as="group" t-key="group.id" class="o_search_panel_section o_search_panel_category">
                        <header class="o_search_panel_section_header pt-4 pb-2 text-uppercase cursor-default">
                            <b t-esc="group.name"/>
                        </header>
                        <ul class="list-group d-block o_search_panel_field">
                            <li t-foreach="group.dashboards" t-as="dashboard" t-key="dashboard.id" t-on-click="() => this.onDashboardSelected(dashboard.id)" class="o_search_panel_category_value list-group-item py-1 o_cursor_pointer border-0 ps-0 pe-2">
                                <header class="list-group-item list-group-item-action d-flex align-items-center p-0 border-0" t-att-class="{'active text-900 fw-bold': dashboard.id === props.activeDashboard.id}">
                                    <div class="o_search_panel_label d-flex align-items-center overflow-hidden w-100 o_cursor_pointer mb-0">
                                        <!-- empty button to mimick the standard search panel -->
                                        <button class="o_toggle_fold btn p-0 flex-shrink-0 text-center"/>
                                        <span t-esc="dashboard.displayName" class="o_search_panel_label_title text-truncate"/>
                                    </div>

                                </header>
                            </li>
                        </ul>
                    </section>
                </div>
            </div>
        </div>
        <button class="btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#SearchPanel" aria-controls="offcanvasExample">
            <i class="fa fa-bars"/>
        </button>
    </div>
</templates>
