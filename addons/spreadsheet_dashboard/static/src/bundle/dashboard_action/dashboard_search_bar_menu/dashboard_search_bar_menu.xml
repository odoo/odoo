<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="spreadsheet_dashboard.DashboardSearchBarMenu">
        <div class="d-flex flex-wrap">
            <div class="border-end ps-3">
                <DashboardFilterList
                    filtersAndValues="state.filtersAndValues"
                    searchableParentRelations="searchableParentRelations"
                    onFilterChange.bind="onFilterChange"
                    model="props.model"/>
            </div>
            <div class="o_dropdown_container o_favorite_menu w-100 w-lg-auto mt-4 mt-lg-0 h-100 px-3">
                <t t-set="sharedFavoritesItems" t-value="sharedFavorites" />
                <t t-set="favoriteItems" t-value="favorites" />
                <div class="px-3 fs-5 mb-2">
                    <i class="me-2 text-favourite" t-att-class="facet_icons.favorite"/>
                    <h5 class="o_dropdown_title d-inline">Favorites</h5>
                </div>
                <t t-foreach="favoriteItems" t-as="item" t-key="item.id">
                    <t t-call="web.SearchBarMenu.FavoriteItem" />
                </t>
                <t t-if="favoriteItems.length">
                    <div role="separator" class="dropdown-divider"/>
                </t>
                <t t-foreach="sharedFavoritesItems" t-as="item" t-key="item.id">
                    <t t-call="web.SearchBarMenu.FavoriteItem" />
                </t>
                <DropdownItem t-if="!this.sharedFavoritesExpanded.value" class="'o_menu_item o_expand_shared_favorites'" closingMode="'none'" onSelected.bind="() => this.sharedFavoritesExpanded.value = true">More...</DropdownItem>
                <div t-if="sharedFavoritesItems.length" role="separator" class="dropdown-divider"/>
                <DashboardCustomFavoriteItem currentGlobalFilters="state.filtersAndValues"/>
            </div>
        </div>
        <div class="o-filter-values-footer d-flex mt-3 p-3 pb-0 border-top gap-1">
            <button class="btn btn-primary" t-on-click="onConfirm">Filter</button>
            <button class="btn btn-secondary" t-on-click="onDiscard">Discard</button>
        </div>
    </t>

</templates>
