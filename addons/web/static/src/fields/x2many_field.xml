<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.X2ManyField" owl="1">
        <div t-attf-class="o_field_x2many o_field_x2many_{{viewMode}}">
            <div class="o_x2m_control_panel">
                <t t-if="displayAddButton">
                    <div class="o_cp_buttons" role="toolbar" aria-label="Control panel buttons" t-ref="buttons">
                        <div>
                            <button type="button" class="btn btn-primary o-kanban-button-new" title="Create record" accesskey="c" t-on-click="() => this.onAdd()">
                                <t t-esc="addButtonText"/>
                            </button>
                        </div>
                    </div>
                </t>
                <div class="o_cp_pager" role="search">
                    <Pager t-if="props.value.count > props.value.limit" t-props="pagerProps"/>
                </div>
            </div>
            <t t-if="Renderer" t-component="Renderer" t-props="rendererProps"/>
        </div>
    </t>

    <t t-name="web.X2ManyFieldDialog" owl="1">
        <Dialog title="title" contentClass="'o_form_view_dialog'" modalRef="modalRef">
            <FormRenderer class="'o_form_view'" record="record" fields="archInfo.fields" archInfo="archInfo"/>
            <t t-set-slot="footer">
                <t t-if="footerArchInfo">
                    <FormRenderer record="record" archInfo="footerArchInfo"/>
                </t>
                <t t-else="">
                    <t t-if="record.isInEdition and !record.resId">
                        <button class="btn btn-primary o_form_button_save" t-on-click="save" data-hotkey="c">Save &amp; Close</button>
                        <button class="btn btn-primary o_form_button_save_new" t-on-click="saveAndNew" data-hotkey="n">Save &amp; New</button>
                        <button class="btn btn-secondary o_form_button_cancel" t-on-click="discard" data-hotkey="j">Discard</button>
                    </t>
                    <t t-elif="record.isInEdition">
                        <button class="btn btn-primary o_form_button_save" t-on-click="save" data-hotkey="c">Save</button>
                        <button class="btn btn-secondary o_form_button_cancel" t-on-click="discard" data-hotkey="j">Discard</button>
                    </t>
                    <t t-else="">
                        <button class="btn btn-primary o_form_button_cancel" t-on-click="() => this.props.close()" data-hotkey="j">Close</button>
                    </t>
                </t>
            </t>
        </Dialog>
    </t>

</templates>
