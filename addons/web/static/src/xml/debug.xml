<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

<t t-name="WebClient.DebugManager">
    <li class="o_debug_manager" role="menuitem">
        <a role="button" href="#" class="o_debug_mode" t-attf-title="Open Developer Tools#{widget.debug_mode_help}"
                         t-att-data-debug-mode="widget.debug_mode" aria-label="Open Developer Tools#{widget.debug_mode_help}"
                         data-toggle="dropdown" aria-expanded="false" tabindex="-1" data-display="static">
            <span class="fa fa-bug">
                <span class="profiling_items text-danger fa fa-circle"></span>
            </span>
        </a>
        <div class="dropdown-menu dropdown-menu-right o_debug_dropdown" role="menu"/>
    </li>
</t>
<t t-name="WebClient.DebugManager.Global">
    <a role="menuitem" href="#" data-action="split_assets" class="dropdown-item o_debug_split_assets">Activate Assets Debugging</a>
    <a role="menuitem" href="#" data-action="tests_assets" class="dropdown-item">Activate Tests Assets Debugging</a>
    <a role="menuitem" href="#" data-action="regenerateAssets" class="dropdown-item">Regenerate Assets Bundles</a>
    <a t-if="manager._is_admin" role="menuitem" href="/web/become" class="dropdown-item">Become Superuser</a>
    <a role="menuitem" href="#" data-action="leave_debug_mode" class="dropdown-item">Leave the Developer Tools</a>
    <div class="dropdown-divider" role="separator"/>
    <span role="menuitem" class="dropdown-item profiling">
        <span class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="enable_profiling"/>
            <label class="custom-control-label" for="enable_profiling">
                Enable profiling
                <span class="profiling_items text-danger fa fa-circle"></span></label>
        </span>
    </span>
    <span class="profiling_items">
        <span role="menuitem" class="dropdown-item profiling">
            <span class="custom-control custom-switch">
                <input type="checkbox" class="custom-control-input profile_switch" id="profile_sql"/>
                <label class="custom-control-label" for="profile_sql">Record sql</label>
            </span>
        </span>
        <span role="menuitem" class="dropdown-item profiling">
            <span class="custom-control custom-switch">
                <input type="checkbox" class="custom-control-input profile_switch" id="profile_traces_sync"/>
                <label class="custom-control-label" for="profile_traces_sync">Record traces sync</label>
            </span>
        </span>
        <span role="menuitem" class="dropdown-item profiling">
            <span class="custom-control custom-switch">
                <input type="checkbox" class="custom-control-input profile_switch" id="profile_traces_async"/>
                <label class="custom-control-label" for="profile_traces_async">Record traces async</label>
            </span>
        </span>
    </span>
</t>
<t t-name="WebClient.DebugManager.Backend">
    <a role="menuitem" href="#" data-action="perform_js_tests" class="dropdown-item">Run JS Tests</a>
    <a role="menuitem" href="#" data-action="perform_js_mobile_tests" class="dropdown-item">Run JS Mobile Tests</a>
    <a role="menuitem" href="#" data-action="perform_click_everywhere_test" class="dropdown-item">Run Click Everywhere Test</a>
    <a role="menuitem" href="#" data-action="select_view" class="dropdown-item">Open View</a>
    <t t-if="manager._events">
        <div class="dropdown-divider" role="separator"/>
        <a role="menuitem" href="#" data-action="show_timelines" class="dropdown-item">Toggle Timelines</a>
        <a role="menuitem" href="#" data-action="requests_clear" class="dropdown-item">Clear Events</a>
    </t>
    <div class="dropdown-divider o_debug_leave_section" role="separator"/>
</t>
<t t-name="WebClient.DebugManager.Action">
    <t t-if="action">
        <div class="dropdown-divider" role="separator"/>
        <a role="menuitem" href="#" data-action="edit" t-att-data-model="action.type" t-att-data-id="action.id" class="dropdown-item">Edit Action</a>
        <t t-if="action.res_model">
            <a role="menuitem" href="#" data-action="get_view_fields" class="dropdown-item">View Fields</a>
            <a role="menuitem" href="#" data-action="manage_filters" class="dropdown-item">Manage Filters</a>
            <a role="menuitem" href="#" data-action="translate" class="dropdown-item">Technical Translation</a>
            <div t-if="manager.canSeeModelAccess || manager.canSeeRecordRules" class="dropdown-divider" role="separator"/>
            <a t-if="manager.canSeeModelAccess" role="menuitem" href="#" data-action="actionModelAccess" class="dropdown-item">View Access Rights</a>
            <a t-if="manager.canSeeRecordRules" role="menuitem" href="#" data-action="actionRecordRules" class="dropdown-item">View Record Rules</a>
        </t>
    </t>
</t>
<t t-name="WebClient.DebugManager.View">
    <t t-if="view">
        <div role="separator" class="dropdown-divider"/>
        <t t-if="view.type === 'form'">
            <a role="menuitem" href="#" data-action="set_defaults" class="dropdown-item">Set Defaults</a>
            <t t-if="controller.getSelectedIds().length === 1">
                <a role="menuitem" href="#" data-action="get_metadata" class="dropdown-item">View Metadata</a>
                <a role="menuitem" href="#" data-action="get_attachments" class="dropdown-item">Manage Attachments</a>
            </t>
        </t>
        <a role="menuitem" href="#" data-action="fvg" class="dropdown-item">Fields View Get</a>
        <t t-if="can_edit">
            <a role="menuitem" href="#" data-action="edit" data-model="ir.ui.view" t-att-data-id="view.fieldsView.view_id" class="dropdown-item">
                Edit View: <t t-esc="view.displayName"/>
            </a>
            <a t-if="withControlPanel" role="menuitem" href="#" data-action="edit" data-model="ir.ui.view" t-att-data-id="action.controlPanelFieldsView.view_id" class="dropdown-item">Edit ControlPanelView</a>
        </t>
    </t>
</t>
<t t-name="WebClient.DebugViewLog">
    <table class="table table-sm table-striped">
        <tr>
            <th>ID:</th>
            <td><t t-esc="perm.id"/></td>
        </tr>
        <tr>
            <th>XML ID:</th>
            <td><t t-esc="perm.xmlid or '/'"/></td>
        </tr>
        <tr>
            <th>No Update:</th>
            <td>
                <t t-esc="perm.noupdate"/>
                <t t-if="perm.xmlid">
                    <a data-action="toggle_noupdate">(change)</a>
                </t>
            </td>
        </tr>
        <tr>
            <th>Creation User:</th>
            <td><t t-esc="perm.creator"/></td>
        </tr>
        <tr>
            <th>Creation Date:</th>
            <td><t t-esc="perm.create_date"/></td>
        </tr>
        <tr>
            <th>Latest Modification by:</th>
            <td><t t-esc="perm.lastModifiedBy"/></td>
        </tr>
        <tr>
            <th>Latest Modification Date:</th>
            <td><t t-esc="perm.write_date"/></td>
        </tr>
    </table>
</t>
<div t-name="WebClient.DebugManager.RequestsOverlay" class="o_debug_manager_overlay">
    <header>
        <!-- enough height to display all tracks + 1px spacing between tracks -->
        <t t-set="canvas_height" t-value="widget.TRACKS * (widget.TRACK_WIDTH + 1)"/>
        <canvas t-att-height="canvas_height" id="o_debug_requests_summary"/>
        <!-- transparent overlay to display selected range -->
        <canvas t-att-height="canvas_height" id="o_debug_requests_selector"/>
    </header>
    <div class="o_debug_requests"/>
    <div class="o_debug_tooltip"/>
</div>

<t t-name="web.DebugViewProfiling">
    <div class="oe_form_field o_ace_view_editor oe_ace_open o_debug_profile_view">
        <div class="o_select_view_profiling">
            <a role="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" href="#"></a>
            <div class="dropdown-menu" role="menu">
                <t t-foreach="widget.views" t-as="view">
                    <a role="menuitem" href="#" t-att-data-id="view.id">
                        <div class="o_delay"><t t-if="view.delay" t-esc="view.delay"/> ms</div>
                        <div class="o_query"><t t-if="view.delay" t-esc="view.query"/> query</div>
                        <t t-esc="view.display_name"/>
                        <div class="o_key text-muted">(<t t-esc="view.id"/>, <t t-esc="view.key"/>)</div>
                    </a>
                </t>
            </div>
        </div>
        <div class="ace-view-editor"/>
        <small class="text-muted">
            It is possible that the "t-call" time does not correspond to the overall time of the
            template. Because the global time (in the drop down) does not take into account the
            duration which is not in the rendering (look for the template, read, inheritance,
            compilation...). During rendering, the global time also takes part of the time to make
            the profile as well as some part not logged in the function generated by the qweb.
        </small>
    </div>
</t>
<t t-name="web.DebugViewProfiling.hover">
    <div class="o_info o_detail">
        <div class="o_delay"><t t-esc="delay"/> <span>ms</span></div>
        <div class="o_query"><t t-esc="query"/> <span>query</span></div>
    </div>
</t>
<t t-name="web.DebugViewProfiling.info">
    <div class="o_info">
        <div t-if="detail" class="o_more">
            <span>*</span>
            <table class="o_detail">
                <thead>
                    <tr><th></th><th>ms</th><th>query</th></tr>
                </thead>
                <tbody>
                    <tr t-foreach="groups" t-as="directive">
                        <td><t t-esc="directive"/></td>
                        <td><t t-esc="groups[directive].delays.join(' ')"/></td>
                        <td><t t-esc="groups[directive].querys.join(' ')"/></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="o_delay"><t t-esc="delay"/></div>
        <div class="o_query"><t t-esc="query"/></div>
    </div>
</t>

</templates>
