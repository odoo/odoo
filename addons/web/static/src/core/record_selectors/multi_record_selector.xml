<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.MultiRecordSelector" >
        <div class="o_input d-flex flex-wrap gap-1 o_multi_record_selector" t-ref="multiRecordSelector">
            <t t-foreach="this.tags" t-as="tag" t-key="tag.id">
                <t t-if="tag.img">
                    <AvatarTag imageUrl="tag.img" onDelete="tag.onDelete" text="tag.text"/>
                </t>
                <t t-else="">
                    <BadgeTag onDelete="tag.onDelete" text="tag.text" color="tag.color" tooltip="tag.tooltip"/>
                </t>
            </t>
            <RecordAutocomplete
                resModel="this.props.resModel"
                value="''"
                domain="this.props.domain"
                context="this.props.context"
                className="'o_record_autocomplete_with_caret flex-grow-1'"
                fieldString="this.props.fieldString"
                placeholder="this.placeholder"
                multiSelect="true"
                getIds.bind="this.getIds"
                update.bind="this.update"
            >
                <t t-set-slot="autoCompleteItem" t-slot-scope="autoCompleteItemScope">
                    <span t-if="this.isAvatarModel" class="o_avatar_many2x_autocomplete o_avatar d-flex align-items-center">
                        <img class="rounded me-1" t-attf-src="/web/image/{{this.props.resModel}}/{{autoCompleteItemScope.data.record.id}}/avatar_128"/>
                        <t t-esc="autoCompleteItemScope.label"/>
                    </span>
                    <t t-else="" t-esc="autoCompleteItemScope.label"/>
                </t>
            </RecordAutocomplete>
        </div>
    </t>

</templates>
