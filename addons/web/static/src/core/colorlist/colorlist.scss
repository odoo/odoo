@mixin o-colorlist($-entry, $-child) {
    --columns: var(--ColorListField-columns, 6);
    --gap: var(--ColorListField-gap, #{map-get($spacers, 2)});

    width: var(--ColorListField-width, none);
    padding: var(--ColorListField-padding, 0);
    box-sizing: content-box;
    margin-bottom: var(--ColorListField-marginBottom, 0);

    #{$-entry} {
        #{$-child} {
            display: block;
            position: relative;
            min-width: var(--ColorListField-Entry-minWidth, o-to-rem(20px));
            border-radius: var(--ColorListField-Entry-borderRadius, #{$border-radius});
            overflow: hidden;
            aspect-ratio: var(--ColorListField-Entry-aspectRatio, 1);
            border-radius: var(--ColorListField-Entry-borderRadius, 100%);

            font-size: var(--ColorListField-Entry-fontSize, smaller);

            &::after {
                @include o-position-absolute(0, 0 , 0, 0);
                color: white;
                content: "";
            }
        }

        &:first-child #{$-child}:after {
            box-shadow: inset 0 0 0 $border-width var(--dropdown-color);
            border-radius: inherit;
            color: currentColor;
        }

        &.active {

            #{$-child}:after {
                display: flex;
                justify-content: center;
                align-items: center;
                font: normal normal normal 1em/1 FontAwesome;
                content: "\f00c";
            }
        }

        &:hover:not(.active) {
            opacity: $o-opacity-muted;
        }
    }
}



.o_colorlist {
    @include o-colorlist("button", "&" );

    .active {
        --btn-active-border-color: transparent;

        &:after {
            color: var(--color);
        }
    }
}

// Set all the colors but the "no-color" one
@for $size from 2 through length($o-colors) {
    .o_colorlist_item_color_#{$size - 1} {
        @include o-print-color(nth($o-colors, $size), background-color, bg-opacity);
        @include o-print-color(#FFF, color, text-opacity);
    }
}

// Set the "no-color", a red bar on white background
.o_colorlist_item_color_0 {
    background: linear-gradient(45deg, rgba($dropdown-bg, 0) 0%, rgba($dropdown-bg, 0) 48%, $danger 48%, $danger 52%, rgba($dropdown-bg, 0) 52%, rgba($dropdown-bg, 0) 100%);
}
