<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

<t t-name="web.ResUserGroupIdsPopover">
    <div class="m-2">
        <table class="table table-sm table-borderless w-100 mb-0">
            <tbody>
                <tr>
                    <td>
                        <span t-if="this.privilege" class="fw-bold" t-out="this.privilege.name"/>
                        <span t-else="">Group</span>
                    </td>
                    <td>
                        <a class="fw-bold" href="#" t-on-click="() => this.onGroupClicked(group)" t-out="group.name"/>
                    </td>
                </tr>
                <tr t-if="this.impliedGroups.length">
                    <td>Implied by</td>
                    <td>
                        <div t-foreach="this.impliedGroups" t-as="group" t-key="group.id">
                            - <t t-out="this.getGroupDisplayName(group)"/>
                        </div>
                    </td>
                </tr>
                <tr t-if="this.exclusiveImplyGroups.length">
                    <td>Exclusively implies</td>
                    <td>
                        <div t-foreach="this.exclusiveImplyGroups" t-as="group" t-key="group.id">
                            - <t t-esc="this.getGroupDisplayName(group)"/>
                        </div>
                    </td>
                </tr>
                <tr t-if="this.jointImplyGroups.length or this.jointExtraImplyGroups.length">
                    <td>Jointly implies</td>
                    <td>
                        <div t-foreach="this.jointImplyGroups" t-as="group" t-key="group.id" class="text-muted">
                            - <t t-esc="this.getGroupDisplayName(group)"/>
                        </div>
                        <t t-if="this.jointExtraImplyGroups.length">
                            <t t-if="this.state.showExtraGroups">
                                <div t-foreach="this.jointExtraImplyGroups" t-as="group" t-key="group.id" class="text-muted">
                                    - <t t-esc="this.getGroupDisplayName(group)"/>
                                </div>
                            </t>
                            <div t-else="">
                                <a href="#" t-on-click="() => this.state.showExtraGroups = true">View extra groups</a>
                            </div>
                        </t>
                    </td>
                </tr>
                <tr t-if="group.disjointIds.length">
                    <td class="align-top text-danger">Incompatibility</td>
                    <td>
                        <div t-foreach="group.disjointIds" t-as="groupId" t-key="groupId">
                            - <t t-esc="this.getGroupDisplayName(this.groups[groupId])"/>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</t>

</templates>
