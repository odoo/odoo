// = Icons
// ============================================================================


// Sizes
// ----------------------------------------------------------------------------

$oi-default-size: 1em;   // Normally 13px

$oi-sizes: (
    'small': (
        'font-size': .769em,    // ~ 10px
        'vertical-align': 10%,
    ),
    'normal': (
        'font-size': $oi-default-size,
    ),
    'large': (
        'font-size': 1.315em,   // ~ 17px
        'vertical-align': -6%,
    ),
    'larger': (
        'font-size': 1.462em,   // ~ 19px
        'vertical-align': -10%,
    ),
);

// Define base-classes' properties using CSS variables.
// Allows to dinamically update rules according to the context and eventual
// utility classes.
// ----------------------------------------------------------------------------
.oi, .fa {
    &:before {
        font-size: var(--oi-font-size, $oi-default-size);
        vertical-align: var(--oi-vertical-align, 0);
        text-rendering: geometricPrecision;
    }
}

.oi-fw, .fa-fw {
    &:before {
        display: inline-block;
        width: var(--oi-fw-width, $oi-default-size * 1.3);
        text-align: center;
    }
}

// Print CSS variables for each size/breakpoint
// ----------------------------------------------------------------------------
@each $breakpoint in map-keys($grid-breakpoints) {
    @include media-breakpoint-up($breakpoint) {
        $-infix: breakpoint-infix($breakpoint, $grid-breakpoints);

        @each $-key, $-values in $oi-sizes {
            .oi#{$-infix}-#{$-key} {
                &:before {
                    @each $-rule, $-value in $-values {
                        @include print-variable('oi-#{$-rule}', $-value);
                    }
                }

                &.oi-fw:before {
                    @include print-variable('oi-fw-width', map-get($-values, 'font-size') * 1.3);
                }
            }
        }
    }
}

// Rely on animations already defined by FontAwesome
// ----------------------------------------------------------------------------
.oi-spin {
    animation: fa-spin 2s infinite linear;
}

.oi-pulse {
    animation: fa-spin 1s infinite steps(8);
}
