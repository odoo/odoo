<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.GraphView.Buttons">
        <div class="btn-group" role="toolbar" aria-label="Main actions">
            <ReportViewMeasures
                measures="this.model.metaData.measures"
                activeMeasures="[this.model.metaData.measure]"
                onMeasureSelected.bind="this.onMeasureSelected"
                multiSelect="false"
            />
        </div>
        <div class="btn-group" role="toolbar" aria-label="Change graph">
            <button class="btn btn-secondary fa fa-bar-chart o_graph_button" data-tooltip="Bar Chart" aria-label="Bar Chart" data-mode="bar"
                t-on-click="() => this.onModeSelected('bar')"
                t-att-class="{ active: this.model.metaData.mode === 'bar' }"
            />
            <button class="btn btn-secondary fa fa-line-chart o_graph_button" data-tooltip="Line Chart" aria-label="Line Chart" data-mode="line"
                t-on-click="() => this.onModeSelected('line')"
                t-att-class="{ active: this.model.metaData.mode === 'line' }"
            />
            <button class="btn btn-secondary fa fa-pie-chart o_graph_button" data-tooltip="Pie Chart" aria-label="Pie Chart" data-mode="pie"
                t-on-click="() => this.onModeSelected('pie')"
                t-att-class="{ active: this.model.metaData.mode === 'pie' }"
            />
        </div>
        <div t-if="this.model.metaData.mode === 'bar'" class="btn-group" role="toolbar" aria-label="Change graph">
            <button class="btn btn-secondary fa fa-database o_graph_button" data-tooltip="Stacked" aria-label="Stacked"
                t-on-click="this.toggleStacked"
                t-att-class="{ active: this.model.metaData.stacked }"
            />
        </div>
        <div t-if="this.model.metaData.mode === 'line'" class="btn-group" role="toolbar" aria-label="Change graph">
            <button class="btn btn-secondary fa fa-database o_graph_button" data-tooltip="Stacked" aria-label="Stacked"
                t-on-click="this.toggleStacked"
                t-att-class="{ active: this.model.metaData.stacked }"
            />
            <button class="btn btn-secondary fa fa-signal o_graph_button" data-tooltip="Cumulative" aria-label="Cumulative"
                t-on-click="this.toggleCumulated"
                t-att-class="{ active: this.model.metaData.cumulated }"
            />
        </div>
        <div t-if="this.model.metaData.mode !== 'pie'" class="btn-group" role="toolbar" aria-label="Sort graph" name="toggleOrderToolbar">
            <button class="btn btn-secondary fa fa-sort-amount-desc o_graph_button" data-tooltip="Descending" aria-label="Descending"
                t-on-click="() => this.toggleOrder('DESC')"
                t-att-class="{ active: this.model.metaData.order === 'DESC' }"
            />
            <button class="btn btn-secondary fa fa-sort-amount-asc o_graph_button" data-tooltip="Ascending" aria-label="Ascending"
                t-on-click="() => this.toggleOrder('ASC')"
                t-att-class="{ active: this.model.metaData.order === 'ASC' }"
            />
        </div>
    </t>

    <t t-name="web.GraphView">
        <div t-att-class="this.props.className" t-ref="root">
            <Layout className="this.model.useSampleModel ? 'o_view_sample_data' : ''" display="this.props.display">
                <t t-set-slot="control-panel-additional-actions">
                    <CogMenu/>
                </t>
                <t t-set-slot="control-panel-actions">
                    <SearchBar toggler="this.searchBarToggler"/>
                </t>
                <t t-set-slot="control-panel-navigation-additional">
                    <t t-component="this.searchBarToggler.component" t-props="this.searchBarToggler.props"/>
                </t>
                <t t-if="this.model.isReady and this.model.data">
                    <t t-if="!this.model.hasData() or this.model.useSampleModel and this.props.info.noContentHelp">
                        <ActionHelper noContentHelp="this.props.info.noContentHelp" />
                    </t>
                    <t t-component="this.props.Renderer" model="this.model" buttonTemplate="this.props.buttonTemplate" />
                </t>
                <t t-elif="this.model.isReady" t-call="web.NoContentHelper">
                    <t t-set="title">Invalid data</t>
                    <t t-set="description">Pie chart cannot mix positive and negative numbers. Try to change your domain to only display positive results</t>
                </t>
            </Layout>
        </div>
    </t>

</templates>
