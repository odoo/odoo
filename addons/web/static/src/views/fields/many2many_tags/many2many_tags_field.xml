<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.Many2ManyTagsField">
        <div
            class="o_field_tags d-inline-flex flex-wrap gap-1 mw-100"
            t-att-class="{'o_tags_input o_input': !props.readonly}"
            t-ref="many2ManyTagsField"
        >
            <TagsList tags="tags"/>
            <div t-if="showM2OSelectionField" class="o_field_many2many_selection d-inline-flex w-100" t-ref="autoComplete">
                <Many2XAutocomplete
                    id="props.id"
                    placeholder="tags.length ? '' : props.placeholder"
                    resModel="relation"
                    autoSelect="true"
                    fieldString="string"
                    activeActions="activeActions"
                    update="update"
                    quickCreate="activeActions.create ? quickCreate : null"
                    context="props.context"
                    getDomain.bind="getDomain"
                    isToMany="true"
                    nameCreateField="props.nameCreateField"
                    noSearchMore="props.noSearchMore"
                    getOptionClassnames.bind="getOptionClassnames"
                />
            </div>
        </div>
    </t>

    <t t-name="web.Many2ManyTagsFieldColorListPopover">
        <div class="o_tag_popover m-2">
            <ColorList colors="props.colors" forceExpanded="true" onColorSelected="(id) => props.switchTagColor(id, props.tag)" selectedColor="props.tag.colorIndex"/>
            <div class="mt-2 cursor-pointer w-100 o_colorlist" t-attf-class="{{ 0 === props.tag.colorIndex ? 'fw-bold' : '' }}" t-on-click.prevent.stop="() => props.switchTagColor(0, props.tag)">
                <button role="menuitem" t-att-data-color="0" t-attf-class="btn p-0 me-1 rounded-0 o_colorlist_item_color_0 {{ 0 === props.tag.colorIndex ? 'o_colorlist_selected' : '' }}"/>
                Hidden in kanban
            </div>
        </div>
    </t>

</templates>
