<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.KanbanHeader" owl="1">
        <div class="o_kanban_header top-0" t-ref="root" t-attf-class="{{ !env.isSmall and group.isFolded ? 'pt-3' : 'py-3' }}">
            <div t-ref="title" class="o_kanban_header_title position-relative d-flex align-items-baseline lh-lg text-900" t-on-mouseenter="() => this.openTooltip()" t-on-mouseleave="(ev) => this.closeTooltip()">
                <span class="o_column_title flex-grow-1 d-inline-block mw-100 text-truncate fs-4 fw-bold align-top" t-att-class="{ 'overflow-visible': !env.isSmall and group.isFolded }" t-esc="groupName"/>
                <t t-if="env.isSmall or !group.isFolded">
                    <Dropdown class="'o_kanban_config'" togglerClass="'btn p-0 border-0'" position="'bottom-end'" container="() => this.rootRef.el">
                        <t t-set-slot="toggler">
                            <i class="fa fa-gear fa-stack d-block text-center text-700 small opacity-50 opacity-100-hover cursor-pointer" role="img" aria-label="Settings" title="Settings" />
                        </t>
                        <DropdownItem t-if="!env.isSmall" class="{
                                'o_kanban_toggle_fold': true,
                                'disabled': props.list.model.useSampleModel,
                            }" onSelected="() => this.toggleGroup()">
                            Fold
                        </DropdownItem>
                        <t t-if="canEditGroup()">
                            <DropdownItem class="'o_column_edit'" onSelected="() => this.editGroup()">
                                Edit
                            </DropdownItem>
                        </t>
                        <t t-if="canDeleteGroup()">
                            <DropdownItem class="'o_column_delete'" onSelected="() => this.deleteGroup()">
                                Delete
                            </DropdownItem>
                        </t>
                        <t t-if="canArchiveGroup()">
                            <DropdownItem class="'o_column_archive_records'" onSelected="() => this.archiveGroup()">
                                Archive All
                            </DropdownItem>
                            <DropdownItem class="'o_column_unarchive_records'" onSelected="() => this.unarchiveGroup()">
                                Unarchive All
                            </DropdownItem>
                        </t>
                    </Dropdown>
                    <button t-if="canQuickCreate()" class="o_kanban_quick_add btn p-0 border-0 fs-6 shadow-none" t-on-click="() => this.quickCreate()">
                        <i class="fa fa-plus fa-stack d-block small text-end text-700 opacity-50 opacity-100-hover cursor-pointer" role="img" aria-label="Quick add" title="Quick add" />
                    </button>
                </t>
                <button t-else="" class="o_column_unfold btn btn-link d-block mt-0 mt-md-2 p-0 border-0 small text-center text-700 cursor-pointer">
                    <i class="fa fa-arrows-h" role="img" aria-label="Unfold" title="Unfold" />
                </button>
            </div>
            <div t-if="(env.isSmall or !group.isFolded) and group.progressBars.length" class="o_kanban_counter position-relative d-flex align-items-center justify-content-between" t-att-class="{ 'opacity-25': !group.count }">
                <ColumnProgress group="group" aggregate="groupAggregate" onBarClicked="props.scrollTop" />
            </div>
        </div>
    </t>

    <t t-name="web.KanbanGroupTooltip" owl="1">
        <div class="o-tooltip px-2 py-1">
            <t t-foreach="props.tooltip" t-as="entry" t-key="entry_index">
                <t t-esc="entry.title"/>
                <br/>
                <t t-esc="entry.value"/>
                <br t-if="!tooltip_last"/>
            </t>
        </div>
    </t>

</templates>
