<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <!--
        ========================================================================
        Gallery Slideshow

        This template is used to display a slideshow of images inside a
        bootstrap carousel.

        ========================================================================
    -->
    <t t-name="website.gallery.slideshow">

        <div id="mySlideshow" class="s_slideshow carousel slide" data-interval="10000">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#mySlideshow" data-slide-to="0" class="active"/>
                <li data-target="#mySlideshow" data-slide-to="1"/>
                <li data-target="#mySlideshow" data-slide-to="2"/>
            </ol>

            <div class="carousel-inner">
                <t t-foreach="srcs" t-as="src">
                    <div t-attf-class="carousel-item #{src_index == index and 'active' or ''}">
                        <img t-attf-class="img img-fluid d-block #{userStyle}" t-att-src="src" alt="Slide image"/>
                    </div>
                </t>
            </div>

            <!-- Controls -->
            <div class="carousel-control-prev" data-target="#mySlideshow" data-slide="prev" role="img" aria-label="Previous" title="Previous">
                <span class="carousel-control-prev-icon"/>
                <span class="sr-only">Previous</span>
            </div>
            <ol class="carousel-indicators">
                <t t-foreach="srcs" t-as="src">
                    <li t-attf-data-target="##{id}" t-att-data-slide-to="src_index" t-att-class="src_index == index and 'active'" t-attf-style="background-image: url(#{src})"></li>
                </t>
            </ol>
            <div class="carousel-control-next" data-target="#mySlideshow" data-slide="next" role="img" aria-label="Next" title="Next">
                <span class="carousel-control-next-icon"/>
                <span class="sr-only">Next</span>
            </div>

        </div>
    </t>

    <!--
        ========================================================================
        Gallery Slideshow LightBox

        This template is used to display a lightbox with a slideshow.

        This template wraps website.gallery.slideshow in a bootstrap modal
        dialog.
        ========================================================================
    -->
    <t t-name="website.gallery.slideshow.lightbox">
        <div role="dialog" class="modal o_technical_modal fade" aria-labbelledby="Image Gallery Dialog">
            <div class="modal-dialog modal-lg" role="Picture Gallery"
                t-attf-style="min-width: #{dim.min_width}px ; min-height: #{dim.min_height}px ; max-width: #{dim.max_width}px ; max-height: #{dim.max_height}px ; height: #{dim.height}px ;">
                <div class="modal-content">
                    <main class="modal-body o_slideshow">
                        <button type="button" class="close" data-dismiss="modal" style="position: absolute; right: 12px; top: 10px;"><span role="img" aria-label="Close">&amp;times;</span><span class="sr-only">Close</span></button>
                        <t t-call="website.gallery.slideshow"></t>
                    </main>

                </div>
            </div>
        </div>
    </t>
</templates>
