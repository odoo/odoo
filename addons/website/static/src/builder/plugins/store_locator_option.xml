<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    
    <t t-name="website.StoreLocatorOption">
        <BuilderRow label.translate="Zoom">
            <BuilderSelect dataAttributeAction="'mapZoom'" preview="false">
                <t t-foreach="mapZoomOptions" t-as="zoomOption" t-key="zoomOption.value">
                    <BuilderSelectItem dataAttributeActionValue="zoomOption.value">
                    <t t-esc="zoomOption.label"/>
                </BuilderSelectItem>
            </t>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Display Sidebar" preview="false">
        <BuilderCheckbox dataAttributeAction="'mapSidebar'" id="'sidebar_opt'"  dataAttributeActionValue="'true'"/>
    </BuilderRow>
    <BuilderRow label.translate="Hide Offscreen" tooltip.translate="Hides elements outside the current map view" t-if="isActiveItem('sidebar_opt')" level="1" preview="false">
        <BuilderCheckbox dataAttributeAction="'mapHideOffscreenLocations'" dataAttributeActionValue="'true'" action="'hideLocationsOffscreen'"/>
    </BuilderRow>
    <BuilderRow label.translate="Display Searchbar" t-if="isActiveItem('sidebar_opt')" level="1" preview="false">
        <BuilderCheckbox dataAttributeAction="'mapSearchbar'" dataAttributeActionValue="'true'"/>
    </BuilderRow>
    <BuilderRow label.translate="Sidebar Location" t-if="isActiveItem('sidebar_opt')">
        <BuilderSelect dataAttributeAction="'mapSidebarLocation'" preview="false">
            <BuilderSelectItem dataAttributeActionValue="'left'">Left</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'right'">Right</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Details">
        <BuilderSelect dataAttributeAction="'mapDetails'" preview="false">
            <BuilderSelectItem dataAttributeActionValue="'area'" title.translate="Area">Area</BuilderSelectItem>
            <BuilderSelectItem dataAttributeActionValue="'tooltip'" title.translate="Tooltip">Tooltip</BuilderSelectItem>
        </BuilderSelect>
    </BuilderRow>
    <BuilderRow label.translate="Phone Number" preview="false">
        <BuilderCheckbox dataAttributeAction="'mapShowPhone'" dataAttributeActionValue="'true'"/>
    </BuilderRow>
    <BuilderRow label.translate="Email" preview="false">
        <BuilderCheckbox dataAttributeAction="'mapShowEmail'" dataAttributeActionValue="'true'"/>
    </BuilderRow>
    <BuilderRow label.translate="Store Locations" preview="false">
        <BuilderMany2Many
            action="'addLocationToStoreLocator'"
            model="'res.partner'"
            limit="10"
            fields="['commercial_company_name', 'country_id', 'contact_address_inline', 'street','city','zip','partner_latitude','partner_longitude','phone','email']"
            formatSelection="(entry) => entry.name"
            formatDropdownHeading="(entry) => entry.name"
            formatDropdownLabel="(entry) => entry.contact_address_inline"
            domain="[['is_company', '=', true], ['city', '!=', false], ['street', '!=', false], ['zip', '!=', false]]"
            fullWidthDropdown="true"
        />
    </BuilderRow>
    <BuilderRow label.translate="Refresh Locations" preview="false" t-if="this.state.hasLocations">
        <BuilderButton
        action="'refreshStoreLocator'"
        title.translate="Refresh All Data For The Listed Locations">
        Refresh Now
    </BuilderButton>
</BuilderRow>
</t>

</templates>
