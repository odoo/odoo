<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- publish/unpublish button -->
    <template id="website_publisher" name="Website Publisher">
        <t groups="website.group_website_publisher" t-if="'website_published' in main_object.fields_get() and ('can_publish' not in main_object.fields_get() or main_object.can_publish)">
            <div t-attf-class="js_publish_management #{extra_classes} #{main_object.website_published and 'css_published' or 'css_unpublished'}" t-att-data-description="env['ir.model']._get(main_object._name).display_name" t-att-data-id="main_object.id" t-att-data-object="main_object._name" t-att-data-controller="publish_controller">
                <label class="o_switch o_switch_danger_success js_publish_btn m-0" t-att-accesskey="desktop_navbar and 'p'">
                    <input type="checkbox" t-att-checked="main_object.website_published"/>
                    <span/>
                    <span class="css_publish">Unpublished</span>
                    <span class="css_unpublish">Published</span>
                </label>
            </div>
        </t>
    </template>

    <!-- Front-end/Back-end integration -->
    <template id="user_navbar" inherit_id="website.layout" name="User Navbar">
        <xpath expr="//t[@t-set='html_data']" position="after">
            <t t-set="body_classname" t-value="(body_classname if body_classname else '') + (' o_connected_user' if env['ir.ui.view'].user_has_groups('base.group_user') else '')"/>
        </xpath>
        <xpath expr="//div[@id='wrapwrap']" position="before">
            <div t-if="'with_loader' in request.params" class="o_theme_install_loader_container position-fixed fixed-top fixed-left
            h-100 w-100 d-flex flex-column align-items-center text-white font-weight-bold text-center">
                Building your website...
                <div class="o_theme_install_loader"/>
                <p class="o_theme_install_loader_tip w-25">
                    TIP: Once loaded, follow the
                    <span class="o_tooltip o_tooltip_visible bottom o_animated position-relative"></span>
                    <br/>pointer to build the perfect page in 7 steps.
                </p>
            </div>
        </xpath>
    </template>
</odoo>
