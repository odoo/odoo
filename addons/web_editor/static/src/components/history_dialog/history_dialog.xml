<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
    <t t-name="web_editor.HistoryDialog">
        <Dialog size="size" title="title" bodyClass="'html-history-dialog p-0'">
            <div class="d-sm-flex">
                <div class="revision-list d-flex flex-column flex-shrink-0 gap-2 p-3">
                    <div t-if="!state.revisionsData.length" class="text-center fw-bolder">No history</div>
                    <t t-foreach="state.revisionsData" t-as="rev" t-key="rev.revision_id">
                        <a type="object" href="#" role="button"
                           t-attf-class="btn btn-outline-primary text-start #{state.revisionId === rev.revision_id ? 'active' : ''}"
                           t-on-click="() => this.updateCurrentRevision(rev.revision_id)">
                            <strong t-esc="this.getRevisionDate(rev)"/>
                            <br/>
                            <small><t t-esc="rev.create_user_name"/></small>
                        </a>
                    </t>
                </div>
                <div class="history-container d-flex flex-grow-1 min-w-0 p-3" t-ref="history-container">
                    <Notebook defaultPage="'history'">
                        <t t-set-slot="history" name="'history'" isVisible="true" title="notebookTabs[0]">
                            <t t-if="state.revisionContent?.length" t-out="state.revisionContent"/>
                            <t t-else="" t-out="props.noContentHelper" />
                        </t>
                        <t t-set-slot="comparison" name="'comparison'" isVisible="true" title="notebookTabs[1]">
                            <t t-out="state.revisionComparison"/>
                        </t>
                    </Notebook>
                </div>
            </div>
            <t t-set-slot="footer">
                <button class="btn btn-primary" t-on-click="_onRestoreRevisionClick">Restore history</button>
                <button class="btn btn-secondary" t-on-click="props.close">Discard</button>
            </t>
        </Dialog>
    </t>
</templates>
