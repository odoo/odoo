<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_search_hr_holidays_employee_type_monthly_report" model="ir.ui.view">
        <field name="name">hr.leave.employee.type.monthly.report.view.search</field>
        <field name="model">hr.leave.employee.type.monthly.report</field>
        <field name="arch" type="xml">
            <search string="Search Time Off">
                <field name="employee_id"/>
                <field name="leave_type"/>
                <field name="month"/>
                <filter string="Month" name="groupby_month" context="{'group_by':'month:month'}"/>
                <filter string="Employee" name="groupby_employee" context="{'group_by':'employee_id'}"/>
                <filter string="Leave Type" name="groupby_leave_type" context="{'group_by':'leave_type'}"/>
            </search>
        </field>
    </record>

    <record id="hr_leave_employee_type_monthly_report" model="ir.ui.view">
        <field name="name">hr.leave.employee.type.monthly.report.view.pivot</field>
        <field name="model">hr.leave.employee.type.monthly.report</field>
        <field name="arch" type="xml">
            <pivot sample="1" disable_linking="1">
                <field name="employee_id" type="row"/>
                <field name="balance_days" type="measure"/>
                <field name="change_this_month" type="measure"/>
                <field name="month" type="col"/>
                <field name="leave_type" type="col"/>
            </pivot>
        </field>
    </record>

    <record id="hr_leave_employee_type_monthly_report_graph" model="ir.ui.view">
        <field name="name">hr.leave.employee.type.monthly.report.view.graph</field>
        <field name="model">hr.leave.employee.type.monthly.report</field>
        <field name="arch" type="xml">
            <graph type="line" stacked="0" sample="1">
                <field name="balance_days" type="measure"/>
                <field name="change_this_month" type="measure"/>
                <field name="month" interval="month"/>
                <field name="employee_id"/>
                <field name="leave_type"/>
            </graph>
        </field>
    </record>

    <record id="action_hr_holidays_by_employee_and_type_monthly_report" model="ir.actions.server">
        <field name="name">Time off Analysis by Employee and Time Off Type</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_employee_type_monthly_report"/>
        <field name="state">code</field>
        <field name="code">
            action = model.action_time_off_analysis()
        </field>
    </record>

</odoo>