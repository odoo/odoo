<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="it_retention_tax_report" model="account.report">
            <field name="name">Form 410v2: IT Withholdings</field>
            <field name="root_report_id" ref="account.generic_tax_report"/>
            <field name="country_id" ref="base.bo"/>
            <field name="filter_fiscal_position" eval="True"/>
            <field name="availability_condition">country</field>
            <field name="column_ids">
                <record id="it_retention_tax_report_code" model="account.report.column">
                    <field name="name">Box Code</field>
                    <field name="expression_label">code</field>
                    <field name="figure_type">string</field>
                </record>
                <record id="it_retention_tax_report_balance" model="account.report.column">
                    <field name="name">Amount</field>
                    <field name="expression_label">balance</field>
                    <field name="figure_type">monetary</field>
                </record>
            </field>
            <field name="line_ids">
                <record id="f410_v2_tax_report" model="account.report.line">
                    <field name="sequence" eval="False"/>
                    <field name="name">Form 410v2: IT Transactions Tax Withholding</field>
                    <field name="code">f410_v2_tax_report</field>
                    <field name="hierarchy_level" eval="False"/>
                    <field name="children_ids">
                        <record id="retained_it_retention_tax_line" model="account.report.line">
                            <field name="sequence" eval="101"/>
                            <field name="name">Tax Withheld</field>
                            <field name="code">itRet13</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="foldable" eval="True"/>
                            <field name="expression_ids">
                                <record id="retained_it_retention_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">13</field>
                                </record>
                                <record id="retained_it_retention_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">itRet13s.balance + itRet13gs.balance + itRet13g.balance + itRet13gg.balance + itRet13m.balance + itRet13gm.balance</field>
                                </record>
                            </field>
                            <field name="children_ids">
                                <record id="services_transaction_tax_line" model="account.report.line">
                                    <field name="sequence" eval="102"/>
                                    <field name="name">Service Withholding</field>
                                    <field name="code">itRet13s</field>
                                    <field name="hide_if_zero" eval="False"/>
                                    <field name="expression_ids">
                                        <record id="services_transaction_tax_tag" model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">tax_tags</field>
                                            <field name="formula">itRet13s</field>
                                        </record>
                                    </field>
                                </record>
                                <record id="grossing_up_services_transaction_tax_line" model="account.report.line">
                                    <field name="sequence" eval="103"/>
                                    <field name="name">Grossing up Services</field>
                                    <field name="code">itRet13gs</field>
                                    <field name="hide_if_zero" eval="False"/>
                                    <field name="expression_ids">
                                        <record id="grossing_up_services_transaction_tax_tag" model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">tax_tags</field>
                                            <field name="formula">itRet13gs</field>
                                        </record>
                                    </field>
                                </record>
                                <record id="goods_transaction_tax_line" model="account.report.line">
                                    <field name="sequence" eval="104"/>
                                    <field name="name">Goods Withholding</field>
                                    <field name="code">itRet13g</field>
                                    <field name="hide_if_zero" eval="False"/>
                                    <field name="expression_ids">
                                        <record id="goods_transaction_tax_tag" model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">tax_tags</field>
                                            <field name="formula">itRet13g</field>
                                        </record>
                                    </field>
                                </record>
                                <record id="grossing_up_goods_transaction_tax_line" model="account.report.line">
                                    <field name="sequence" eval="105"/>
                                    <field name="name">Grossing up Goods</field>
                                    <field name="code">itRet13gg</field>
                                    <field name="hide_if_zero" eval="False"/>
                                    <field name="expression_ids">
                                        <record id="grossing_up_goods_transaction_tax_tag" model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">tax_tags</field>
                                            <field name="formula">itRet13gg</field>
                                        </record>
                                    </field>
                                </record>
                                <record id="miscellaneous_transaction_tax_line" model="account.report.line">
                                    <field name="sequence" eval="106"/>
                                    <field name="name">RC-VAT and Other Withholding</field>
                                    <field name="code">itRet13m</field>
                                    <field name="hide_if_zero" eval="False"/>
                                    <field name="expression_ids">
                                        <record id="miscellaneous_transaction_tax_tag" model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">tax_tags</field>
                                            <field name="formula">itRet13m</field>
                                        </record>
                                    </field>
                                </record>
                                <record id="grossing_up_miscellaneous_transaction_tax_line" model="account.report.line">
                                    <field name="sequence" eval="107"/>
                                    <field name="name">Grossing up RC-VAT and Other Withholding</field>
                                    <field name="code">itRet13gm</field>
                                    <field name="hide_if_zero" eval="False"/>
                                    <field name="expression_ids">
                                        <record id="grossing_up_miscellaneous_transaction_tax_tag" model="account.report.expression">
                                            <field name="label">balance</field>
                                            <field name="engine">tax_tags</field>
                                            <field name="formula">itRet13gm</field>
                                        </record>
                                    </field>
                                </record>
                            </field>
                        </record>
                        <record id="determined_it_retention_tax_line" model="account.report.line">
                            <field name="sequence" eval="108"/>
                            <field name="name">Determined Tax (Amount from box C13)</field>
                            <field name="code">itRet909</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="expression_ids">
                                <record id="determined_it_retention_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">909</field>
                                </record>
                                <record id="determined_it_retention_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">itRet13.balance</field>
                                </record>
                            </field>
                        </record>
                        <record id="it_retention_payment_on_account_in_sworn_statements_tax_line" model="account.report.line">
                            <field name="sequence" eval="109"/>
                            <field name="name">Payments on account made in Previous Sworn Statements and/or Payment Slips</field>
                            <field name="code">itRet622</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="expression_ids">
                                <record id="it_retention_payment_on_account_in_sworn_statements_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">622</field>
                                </record>
                                <record id="it_retention_payment_on_account_in_sworn_statements_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="engine">external</field>
                                    <field name="formula">sum</field>
                                    <field name="subformula">editable</field>
                                </record>
                            </field>
                        </record>
                        <record id="previous_it_retention_payments_on_account_to_compensate_tax_line" model="account.report.line">
                            <field name="sequence" eval="110"/>
                            <field name="name">Available Balance of Payments from the Previous Period to be Offset</field>
                            <field name="code">itRet640</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="expression_ids">
                                <record id="previous_it_retention_payments_on_account_to_compensate_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">640</field>
                                </record>
                                <record id="previous_it_retention_payments_on_account_to_compensate_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="engine">external</field>
                                    <field name="formula">sum</field>
                                    <field name="subformula">editable</field>
                                </record>
                            </field>
                        </record>
                        <record id="it_retention_taxpayer_favor_balance_payments_on_account_tax_line" model="account.report.line">
                            <field name="sequence" eval="111"/>
                            <field name="name">Balance in Favor of the Taxpayer for the Next Period (C622 + C640 - C909; If > 0)</field>
                            <field name="code">itRet747</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="expression_ids">
                                <record id="it_retention_taxpayer_favor_balance_payments_on_account_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">747</field>
                                </record>
                                <record id="it_retention_taxpayer_favor_balance_payments_on_account_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">itRet622.balance + itRet640.balance - itRet909.balance</field>
                                    <field name="subformula">if_above(CUR(0))</field>
                                </record>
                            </field>
                        </record>
                        <record id="it_retention_treasury_favor_balance_tax_line" model="account.report.line">
                            <field name="sequence" eval="112"/>
                            <field name="name">Definitive Balance in Favor of the Treasury (C909 - C622 - C640; If > 0)</field>
                            <field name="code">itRet996</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="expression_ids">
                                <record id="it_retention_treasury_favor_balance_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">996</field>
                                </record>
                                <record id="it_retention_treasury_favor_balance_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">itRet909.balance - itRet622.balance - itRet640.balance</field>
                                    <field name="subformula">if_above(CUR(0))</field>
                                </record>
                            </field>
                        </record>
                        <record id="it_retention_payment_in_values_tax_line" model="account.report.line">
                            <field name="sequence" eval="113"/>
                            <field name="name">Assignment of Credit in Securities (Subject to verification and confirmation by SIN)</field>
                            <field name="code">itRet677</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="expression_ids">
                                <record id="it_retention_payment_in_values_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">677</field>
                                </record>
                                <record id="it_retention_payment_in_values_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="engine">external</field>
                                    <field name="formula">sum</field>
                                    <field name="subformula">editable</field>
                                </record>
                            </field>
                        </record>
                        <record id="it_retention_cash_payment_tax_line" model="account.report.line">
                            <field name="sequence" eval="114"/>
                            <field name="name">Cash Payment Tax (C996 - C677; If > 0)</field>
                            <field name="code">itRet576</field>
                            <field name="hide_if_zero" eval="False"/>
                            <field name="expression_ids">
                                <record id="it_cash_payment_tax_code" model="account.report.expression">
                                    <field name="label">code</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">576</field>
                                </record>
                                <record id="it_cash_payment_tax_balance" model="account.report.expression">
                                    <field name="label">balance</field>
                                    <field name="auditable" eval="False"/>
                                    <field name="engine">aggregation</field>
                                    <field name="formula">itRet996.balance - itRet677.balance</field>
                                    <field name="subformula">if_above(CUR(0))</field>
                                </record>
                            </field>
                        </record>
                    </field>
                </record>
            </field>
        </record>

    </data>
</odoo>