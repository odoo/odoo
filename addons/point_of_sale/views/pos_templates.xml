<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="pos_assets_backend" name="POS UI Backend Assets" inherit_id="web.assets_backend" primary="True">
    <xpath expr="//script[contains(@src, '/mail/static/src/js/services/mail_service.js')]" position="replace"></xpath>
</template>

<template id="point_of_sale.index" name="POS Index">&lt;!DOCTYPE html&gt;
<html>
    <head>
        <title>Odoo POS</title>

        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta http-equiv="content-type" content="text/html, charset=utf-8" />

        <meta name="viewport" content=" width=1024, user-scalable=no"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="mobile-web-app-capable" content="yes"/>

        <link rel="shortcut icon"    sizes="196x196" href="/point_of_sale/static/src/img/touch-icon-196.png"/>
        <link rel="shortcut icon"    sizes="128x128" href="/point_of_sale/static/src/img/touch-icon-128.png"/>
        <link rel="apple-touch-icon"                 href="/point_of_sale/static/src/img/touch-icon-iphone.png"/>
        <link rel="apple-touch-icon" sizes="76x76"   href="/point_of_sale/static/src/img/touch-icon-ipad.png"/>
        <link rel="apple-touch-icon" sizes="120x120" href="/point_of_sale/static/src/img/touch-icon-iphone-retina.png"/>
        <link rel="apple-touch-icon" sizes="152x152" href="/point_of_sale/static/src/img/touch-icon-ipad-retina.png"/>

        <style> body { background: #222; } </style>

        <link rel="shortcut icon" href="/web/static/src/img/favicon.ico" type="image/x-icon"/>

        <script type="text/javascript">
            var odoo = <t t-raw="json.dumps({
                'csrf_token': request.csrf_token(None),
                'session_info': session_info,
                'login_number': login_number,
                'debug': debug,
            })"/>;
        </script>

        <t t-call-assets="web.assets_common" t-css="false"/>
        <t t-call-assets="point_of_sale.pos_assets_backend" t-css="false"/>
        <t t-call-assets="point_of_sale.assets"/>
        <t t-call="web.conditional_assets_tests"/>

        <script type="text/javascript" id="loading-script" t-raw="init">
            odoo.define('web.web_client', function (require) {
                // tours require web.web_client module in order to be loaded,
                // thus we define this module and is used to start the application.
                const { startPosApp } = require('point_of_sale.main');
                const WebClient = require('web.AbstractWebClient');
                const webClient = new WebClient();
                startPosApp(webClient);
                return webClient;
            });
        </script>
    </head>
    <body>
    </body>
</html>
</template>

<template id="point_of_sale.js_tests_assets">
    <t t-call-assets="point_of_sale.pos_assets_backend" t-js="false"/>
    <t t-call-assets="web.assets_common" t-css="false"/>
    <t t-call-assets="point_of_sale.pos_assets_backend" t-css="false"/>
    <t t-call-assets="point_of_sale.assets"/>

    <link type="text/css" rel="stylesheet" href="/web/static/lib/qunit/qunit-2.9.1.css"/>
    <script type="text/javascript" src="/web/static/lib/qunit/qunit-2.9.1.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/qunit_config.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/qunit_asserts.js"></script>

    <script type="text/javascript">
            // define the 'web.web_client' module because some other modules require it
            odoo.define('web.web_client', function (require) {
                var WebClient = require('web.WebClient');
                var web_client = new WebClient();
                return web_client;
            });
    </script>

    <style>
        body {
            position: relative; // bootstrap-datepicker needs this
        }
        body:not(.debug) .modal-backdrop, body:not(.debug) .modal, body:not(.debug) .ui-autocomplete {
            opacity: 0 !important;
        }
        #qunit-testrunner-toolbar label {
            font-weight: inherit;
            margin-bottom: inherit;
        }
        #qunit-testrunner-toolbar input[type=text] {
            width: inherit;
            display: inherit;
        }
    </style>

    <script type="text/javascript" src="/web/static/tests/helpers/test_env.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_create.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_dom.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_fields.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_file.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_form.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_graph.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_kanban.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_mock.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_modal.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils_pivot.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/test_utils.js"></script>
    <script type="text/javascript" src="/web/static/tests/helpers/mock_server.js"></script>
    <script type="text/javascript" src="/web/static/tests/boot_tests.js"></script>
</template>

<template id="point_of_sale.qunit_suite">
    <t t-call="web.layout">
        <t t-set="html_data" t-value="{'style': 'height: 100%;'}"/>
        <t t-set="title">Point of Sale Tests</t>
        <t t-set="head">
            <t t-call="point_of_sale.js_tests_assets" />
            <script type="text/javascript" src="/point_of_sale/static/tests/helpers/test_setup_pos.js"></script>
            <script type="text/javascript" src="/point_of_sale/static/tests/test_popups.js"></script>
        </t>

        <div id="qunit"/>
        <div id="qunit-fixture"/>
    </t>
</template>

</odoo>
