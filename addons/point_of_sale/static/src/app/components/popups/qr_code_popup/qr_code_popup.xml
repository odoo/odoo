<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="point_of_sale.QRPopup">
        <Dialog size="props.isCustomerDisplay ? 'md' : 'sm'" contentClass="'o_qr_popup rounded-5 p-2'" header="false">
            <div class="d-flex flex-column align-items-center" t-att-class="{'pt-2 pb-3':props.isCustomerDisplay}">
                <h2 class="border-bottom border-dark w-75 text-center pb-1">QR Payment</h2>
                <div class="qr-container my-2 w-75">
                    <div
                        t-if="!state.qrLoaded"
                        class="skeleton"
                    />
                    <img
                        t-att-src="props.qrCode"
                        t-on-load="onQrLoaded" t-on-error="onQrLoaded"
                        t-attf-class="qr-code loaded w-100 {{ state.qrLoaded ? '' : 'd-none' }}"
                        alt="QR Code"
                    />
                </div>
                <div class="qr-code-amount fs-2">
                    <strong>Amount: <t t-out="props.amount" /></strong>
                </div>
            </div>
            <t t-if="props.footer" t-set-slot="footer">
                <div class="qr-code-popup-footer d-flex align-items-center justify-content-center w-100 mt-2">
                    <button t-if="props.confirm" class="btn btn-primary btn-lg confirm-button mx-2" t-on-click="confirm" t-esc="props.confirmLabel" />
                    <button t-if="props.close" class="btn btn-secondary btn-lg cancel-button mx-2" t-on-click="props.close" t-esc="props.cancelLabel" />
                </div>
            </t>
        </Dialog>
    </t>
</templates>
