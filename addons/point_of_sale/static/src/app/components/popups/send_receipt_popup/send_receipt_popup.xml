<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="point_of_sale.SendReceiptPopup">
        <Dialog title="''" footer="false" size="'md'" contentClass="`send-receipt-popup ${!this.ui.isSmall? 'rounded-4' : ''}`" bodyClass="'d-flex flex-column gap-2 py-3'">
            <t t-foreach="this.sendList" t-as="item" t-key="item_index">
                <div t-if="item.show()" class="d-flex">
                    <input type="text" t-attf-class="{{ item.inputClass }} o_input position-relative p-3 border border-end-0 rounded-start-2 text-body" t-att-placeholder="item.placeholder" t-model="this.state[item.model]" />
                    <div class="d-flex gap-1">
                        <button t-foreach="item.buttons" t-as="button" t-key="button_index" t-att-style="`width: ${this.ui.isSmall ? '4rem' : '8rem'}`" class="btn btn-primary btn-lg lh-lg rounded-start-0 h-100" t-att-disabled="button.disabled()" t-on-click="() => button.click.call()">
                            <i t-attf-class="fa {{button.status === 'loading' ? 'fa-fw fa-spin fa-circle-o-notch' : button.icon}}" />
                        </button>
                    </div>
                </div>
            </t>
            <div class="notice text-center">
                <t t-set="usedMethod" t-value="this.sendReceipt.lastArgs?.[0]?.name" />
                <div t-if="this.sendReceipt.status === 'loading'" class="text-info">Sending <t t-esc="usedMethod"/> in progress</div>
                <div t-if="this.sendReceipt.status === 'success'" class="text-success">
                    <t t-if="this.order.is_invoiced">Receipt and invoice sent successfully</t>
                    <t t-else="">Receipt sent successfully</t></div>
                <div t-if="this.sendReceipt.status === 'error'" class="text-danger">Sending <t t-esc="usedMethod"/> failed. Please try again</div>
            </div>
        </Dialog>
    </t>

</templates>
