<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <menuitem id="base.menu_crm_configuration" name="Cases"
            parent="base.menu_base_config" sequence="0" groups="base.group_extended"/>

        <menuitem id="base.next_id_64" name="Reporting"
        	parent="base.menu_base_partner" sequence="8" />

        <!-- Case Sections Form View -->

        <record id="crm_case_section_view_form" model="ir.ui.view">
            <field name="name">crm.case.section.form</field>
            <field name="model">crm.case.section</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Sales Team">
                    <group col="6" colspan="4">
                        <field name="name" select="1" colspan="2"/>
                        <field name="parent_id" select="2" widget="selection"/>
                        <field name="code" select="1"/>
                        <newline/>
                        <field name="user_id" select="2"/>
                        <field name="resource_calendar_id" select="2" widget="selection"/>
                        <field name="active" select="2"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Sales Team">
                            <group col="2" colspan="1">
                                <separator string="Mailgateway" colspan="2"/>
                                <field name="reply_to" select="2"/>
                            </group>
                            <group col="2" colspan="1">
                                <separator string="Configuration" colspan="2"/>
                                <field name="allow_unlink" select="2"/>
                            </group>
                            <separator string="Team Members" colspan="4"/>
                            <field name="member_ids" nolabel="1" colspan="4"/>
                        </page>
                        <page string="Notes">
                            <field name="note" select="1" colspan="4" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

<!-- Case Sections Tree View -->

        <record id="crm_case_section_view_tree" model="ir.ui.view">
            <field name="name">crm.case.section.tree</field>
            <field name="model">crm.case.section</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
                <tree string="Sales Team">
                    <field name="name" select="1"/>
                    <field name="code" select="1"/>
                    <field name="user_id" select="1"/>
                </tree>
            </field>
        </record>

<!-- Case Sections Action -->

        <record id="crm_case_section_act" model="ir.actions.act_window">
            <field name="name">Sales Team</field>
            <field name="res_model">crm.case.section</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="crm_case_section_view_tree"/>
        </record>

<!-- CRM Stage Tree View -->

        <record model="ir.ui.view" id="crm_case_stage_tree">
            <field name="name">crm.case.stage.tree</field>
            <field name="model">crm.case.stage</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Stages">
                    <field name="sequence"/>
                    <field name="name"/>
                    <field name="probability"/>
                    <field name="section_id"/>

                </tree>
            </field>
        </record>

<!-- CRM Stage Form View -->

        <record model="ir.ui.view" id="crm_case_stage_form">
            <field name="name">crm.case.stage.form</field>
            <field name="model">crm.case.stage</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Stage">
                    <separator string="Stage Definition" colspan="4"/>
                    <field name="name" select="1"/>
                    <field name="section_id" select="1" widget="selection"/>
                    <field name="object_id" invisible="1" />
                    <field name="sequence"/>
                    <field name="probability"/>
                    <field name="on_change"/>
                    <separator string="Requirements" colspan="4"/>
                    <field name="requirements" nolabel="1" colspan="4"/>
                </form>
            </field>
        </record>

<!-- CRM Stage Action -->

        <record id="crm_case_stage_act" model="ir.actions.act_window">
            <field name="name">Stages</field>
            <field name="res_model">crm.case.stage</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="crm_case_stage_tree"/>
        </record>

        <menuitem  id="menu_crm_case_stage" name="Stages" parent="base.menu_crm_configuration" groups="base.group_extended"/>

<!-- Case Categories Form View -->

        <record id="crm_case_categ-view" model="ir.ui.view">
            <field name="name">crm.case.categ.form</field>
            <field name="model">crm.case.categ</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Case Category">
                    <field name="name" select="1"/>
                    <field name="section_id" select="1" widget="selection"/>
                    <field name="object_id"  invisible="1" />
                </form>
            </field>
        </record>

<!-- Case Categories Tree View -->

        <record id="crm_case_categ_tree-view" model="ir.ui.view">
            <field name="name">crm.case.categ.tree</field>
            <field name="model">crm.case.categ</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Case Category">
                    <field name="name"/>
                    <field name="section_id"/>
                </tree>
            </field>
        </record>

<!-- Case Categories Action -->

        <record id="crm_case_categ-act" model="ir.actions.act_window">
            <field name="name">Categories</field>
            <field name="res_model">crm.case.categ</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="crm_case_categ_tree-view"/>
        </record>
        <menuitem id="menu_crm_case_categ"   name="Categories"  parent="base.menu_crm_configuration" groups="base.group_extended"/>

        <menuitem action="crm_case_section_act"
            id="menu_crm_case_section_act"
            parent="base.menu_crm_configuration" />


<!-- Resource Type of case Tree View -->

        <record model="ir.ui.view" id="crm_case_resource_type_tree">
            <field name="name">crm.case.resource.type.tree</field>
            <field name="model">crm.case.resource.type</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Resource Type">
                    <field name="name"/>
                    <field name="object_id"/>
                    <field name="section_id"/>
                </tree>
            </field>
        </record>

<!-- Resource Type of case Form View -->

        <record model="ir.ui.view" id="crm_case_resource_type_form">
            <field name="name">crm.case.resource.type.form</field>
            <field name="model">crm.case.resource.type</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Resource Type">
                    <field name="name" select="1"/>
                    <field name="section_id" select="1" widget="selection"/>
                    <field name="object_id"  />
                </form>
            </field>
        </record>

<!-- Resource Type of case Action -->

        <record id="crm_case_resource_type_act" model="ir.actions.act_window">
            <field name="name">Resource Type</field>
            <field name="res_model">crm.case.resource.type</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="crm_case_resource_type_tree"/>
        </record>
        <menuitem id="menu_crm_case_resource_type" name="Resource Type"
            parent="base.menu_crm_configuration" groups="base.group_extended" />

        <record id="crm_case_section_act_tree" model="ir.actions.act_window">
            <field name="name">Cases by section</field>
            <field name="res_model">crm.case.section</field>
            <field name="domain">[('parent_id','=',False)]</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="crm_case_section_view_tree"/>
        </record>

<!-- Cases Tree View  -->

        <record id="crm_case_log_tree-view" model="ir.ui.view">
            <field name="name">crm.case.log.tree</field>
            <field name="model">crm.case.log</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Case logs">
                    <field name="date"/>
                    <field name="name"/>
                    <field name="user_id"/>
                    <field name="section_id"/>
                    <!--
                    <field name="som"/>
                    <field name="canal_id"/>
                    -->
                </tree>
            </field>
        </record>


<!-- Segmentation line Tree View  -->

        <record id="crm_segmentation_line_tree-view" model="ir.ui.view">
            <field name="name">crm.segmentation.line.tree</field>
            <field name="model">crm.segmentation.line</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Partner Segmentation Lines">
                    <field name="name"/>
                    <field name="expr_name"/>
                    <field name="expr_operator"/>
                    <field name="expr_value"/>
                    <field name="operator"/>
                </tree>
            </field>
        </record>

<!-- Segmentation line Form View  -->

        <record id="crm_segmentation_line-view" model="ir.ui.view">
            <field name="name">crm.segmentation.line.form</field>
            <field name="model">crm.segmentation.line</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Partner Segmentation Lines">
                    <field colspan="4" name="name" select="1"/>
                    <group col="2" colspan="4">
                        <field name="expr_name"/>
                        <field name="expr_operator"/>
                        <field name="expr_value"/>
                    </group>
                    <newline/>
                    <field name="operator"/>
                </form>
            </field>
        </record>

<!-- CRM Segmentation  Form View  -->

        <record id="crm_segmentation-view" model="ir.ui.view">
            <field name="name">crm.segmentation.form</field>
            <field name="model">crm.segmentation</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Partner Segmentation">
                    <group col="6" colspan="4">
                        <field name="name" select="1"/>
                        <field name="categ_id"/>
                        <field name="exclusif"/>
                    </group>
                    <notebook colspan="4">
                        <page string="Sales Purchase">
                            <field name="sales_purchase_active"/>
                            <separator colspan="4" string="State of Mind Computation"/>
                            <field name="som_interval"/>
                            <field name="som_interval_max"/>
                            <field name="som_interval_decrease"/>
                            <field name="som_interval_default"/>
                            <separator colspan="4" string="Segmentation Test"/>
                            <field colspan="4" name="segmentation_line" widget="one2many_list" nolabel="1"/>
                        </page>
                        <page string="Description">
                               <field colspan="4" name="description" nolabel="1"/>
                           </page>
                    </notebook>
                    <field name="state"/>
                    <group col="3" colspan="2">
                        <button name="process_start"
                            states="not running"
                            string="Compute Segmentation" type="object"
                            icon="gtk-execute" />
                        <button name="process_stop" states="running"
                            string="Stop Process" type="object"
                            icon="gtk-cancel" />
                        <button name="process_continue" states="running"
                            string="Continue Process" type="object"
                            icon="gtk-go-forward" />
                    </group>
                </form>
            </field>
        </record>

<!-- CRM Segmentation  Tree View  -->

        <record id="crm_segmentation_tree-view" model="ir.ui.view">
            <field name="name">crm.segmentation.tree</field>
            <field name="model">crm.segmentation</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Partner Segmentations">
                    <field name="name"/>
                    <field name="description"/>
                    <field name="categ_id"/>
                </tree>
            </field>
        </record>

        <record id="crm_segmentation-act" model="ir.actions.act_window">
            <field name="name">Segmentations</field>
            <field name="res_model">crm.segmentation</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="crm_segmentation-view"/>
        </record>

        <record id="crm_segmentation_tree-act" model="ir.actions.act_window">
            <field name="name">Segmentations</field>
            <field name="res_model">crm.segmentation</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="crm_segmentation_tree-act"
            id="menu_crm_segmentation-act"
            groups="base.group_extended"
            parent="base.menu_crm_configuration" />

        <record model="ir.ui.view" id="view_users_form_simple_modif_inherited1">
            <field name="name">view.users.form.crm.modif.inherited1</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="base.view_users_form_simple_modif" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <page string="Current Activity" position="inside">
                    <field name="context_section_id" completion="1"
                        widget="selection"
                        context="{'user_prefence':True}" />
                </page>
            </field>
        </record>

        <record id="view_users_form_simple_modif_inherited2" model="ir.ui.view">
                <field name="name">view.users.form.crm.modif.inherited2</field>
                <field name="model">res.users</field>
                <field name="type">form</field>
                <field name="inherit_id" ref="base.view_users_form"/>
                <field eval="18" name="priority"/>
                <field name="arch" type="xml">
                    <field name="password" position="after">
                        <field name="context_section_id" completion="1" widget="selection"/>
                    </field>
                </field>
        </record>

<!-- Inherit View From Partner  -->

        <record id="view_partners_form_crm1" model="ir.ui.view">
                <field name="name">view.res.partner.form.crm.inherited1</field>
                <field name="model">res.partner</field>
                <field name="type">form</field>
                <field name="inherit_id" ref="base.view_partner_form"/>
                <field eval="18" name="priority"/>
                <field name="arch" type="xml">
                    <field name="parent_id" position="after">
                        <field name="section_id" completion="1" widget="selection"
                            groups="base.group_extended"/>
                    </field>
                </field>
        </record>

        <record id="view_partners_form_crm2" model="ir.ui.view">
                <field name="name">view.res.partner.tree.crm.inherited2</field>
                <field name="model">res.partner</field>
                <field name="type">tree</field>
                <field name="inherit_id" ref="base.view_partner_tree"/>
                <field eval="18" name="priority"/>
                <field name="arch" type="xml">
                    <field name="lang" position="after">
                        <field name="section_id" completion="1" widget="selection"
                            groups="base.group_extended"/>
                    </field>
                </field>
        </record>

        <record id="view_partners_form_crm3" model="ir.ui.view">
                <field name="name">view.res.partner.search.crm.inherited3</field>
                <field name="model">res.partner</field>
                <field name="type">search</field>
                <field name="inherit_id" ref="base.view_res_partner_filter"/>
                <field eval="18" name="priority"/>
                <field name="arch" type="xml">
                    <field name="category_id" position="after">
                        <field name="section_id" completion="1" widget="selection"
                            groups="base.group_extended"/>
                    </field>
                </field>
        </record>
    </data>
</openerp>
