<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="assets_website_url_charts">
            <script type="text/javascript" src="/website_url/static/src/js/website_url_charts.js"/>
            <script type="text/javascript" src="/web/static/lib/moment/moment.js"/>
            <script type="text/javascript" src="/website_url/static/src/js/ZeroClipboard.min.js"/>
            <link rel="stylesheet" type="text/css" href="/website_url/static/src/css/website_url.css" />
        </template>

        <template id="assets_nvd3">
            <link href="/web_graph/static/src/css/nv.d3.css" rel="stylesheet" type="text/css"></link>
            <script src="/web_graph/static/lib/nvd3/d3.v3.js"></script>
            <script src="/web_graph/static/lib/nvd3/nv.d3.js"></script>
        </template>

        <template id="graphs">
            <t t-call="website.layout">
                <t t-set="head">
                    <t t-call-assets="website_url.assets_nvd3"/>
                    <t t-call-assets="website_url.assets_website_url_charts"/>
                </t>

                <div class="container">
                    <div class="row mt8">
                        <div class="col-sm-6">
                            <ol class="breadcrumb">
                              <li><a href="/r">Link Tracker</a></li>
                              <li class="active"><t t-esc="host"/></li>
                            </ol>
                        </div>
                    </div>

                    <div class="page-header mt0">
                        <h1 class="mt0">Page Details</h1>
                        <input type="hidden" id="code" t-att-value="code" />
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="row">
                                <div class="col-sm-4">
                                    <p><strong>Page Title</strong></p>
                                </div>
                                <div class="col-sm-8">
                                    <p class="truncate_text"><a t-att-href="url" target="_blank"><t t-esc="title"/></a></p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-4">
                                    <p><strong>Host</strong></p>
                                </div>
                                <div class="col-sm-8">
                                    <p><t t-esc="host"/></p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-4">
                                    <p><strong>Tracked Link</strong></p>
                                </div>
                                <div class="col-sm-8">
                                    <p>
                                        <span id="short-url-host"><t t-esc="short_url_host"/></span><span id="short-url-code"><t t-esc="code"/></span>
                                        <a class="cancel-edit" href="#">cancel</a>
                                        <a class="edit-code"><span class="fa fa-pencil gray"></span></a>
                                        <a class="btn btn-sm btn-primary copy-to-clipboard" t-att-data-clipboard-text="short_url">copy</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <t t-if="campaign_id['name']">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <p><strong>Campaign</strong></p>
                                    </div>
                                    <div class="col-sm-8">
                                        <p><t t-esc="campaign_id['name']"/></p>
                                    </div>
                                </div>
                            </t>

                            <t t-if="medium_id['name']">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <p><strong>Channel</strong></p>
                                    </div>
                                    <div class="col-sm-8">
                                        <p><t t-esc="medium_id['name']"/></p>
                                    </div>
                                </div>
                            </t>

                            <t t-if="source_id['name']">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <p><strong>Source</strong></p>
                                    </div>
                                    <div class="col-sm-8">
                                        <p><t t-esc="source_id['name']"/></p>
                                    </div>
                                </div>
                            </t>
                        </div>
                    </div>

                    <div class="row page-header page-header-near bottom-align-cols">
                        <div class="col-sm-7">
                            <h1 class="mt0">Statistics</h1>
                        </div>
                        <div class="col-sm-5">
                            <span id="filters">Filter by :</span>
                            <ul class="nav nav-tabs nav-tabs-inline graph-tabs" role="tablist">
                                <li class="active"><a href="#all_time_charts" role="tab" data-toggle="tab">All Time</a></li>
                                <li><a href="#last_month_charts" role="tab" data-toggle="tab">Last Month</a></li>
                                <li><a href="#last_week_charts" role="tab" data-toggle="tab">Last Week</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-sm-12 mb8">
                            <div class="tab-content">

                                <!-- All Time Charts -->
                                <div class="tab-pane active" id="all_time_charts">
                                    <div class="row">
                                        <div class="col-sm-7" id="all_time_clicks_chart">
                                            <h3 class="title"></h3>
                                            <svg style="height:20em;"></svg>
                                        </div>
                                        <div class="col-sm-5" id="all_time_countries_charts">
                                            <h3 class="title"></h3>
                                            <svg style="height:20em;"></svg>
                                        </div>
                                    </div>
                                </div>

                                <!-- Last Month Charts -->
                                <div class="tab-pane" id="last_month_charts">
                                    <div class="row">
                                        <div class="col-sm-7" id="last_month_clicks_chart">
                                            <h3 class="title"></h3>
                                            <svg style="height:20em;"></svg>
                                        </div>
                                        <div class="col-sm-5" id="last_month_countries_charts">
                                            <h3 class="title"></h3>
                                            <svg style="height:20em;"></svg>
                                        </div>
                                    </div>
                                </div>

                                <!-- Last Week Charts -->
                                <div class="tab-pane" id="last_week_charts">
                                    <div class="row">
                                        <div class="col-sm-7" id="last_week_clicks_chart">
                                            <h3 class="title"></h3>
                                            <svg style="height:20em;"></svg>
                                        </div>
                                        <div class="col-sm-5" id="last_week_countries_charts">
                                            <h3 class="title"></h3>
                                            <svg style="height:20em;"></svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </template>
    </data>
</openerp>