<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

        <template id="assets_website_url">
            <script type="text/javascript" src="/website_url/static/src/js/website_url.js"/>
            <script type="text/javascript" src="/website_url/static/src/js/ZeroClipboard.min.js"/>
        </template>

        <template id="assets_website_url_charts">
            <script type="text/javascript" src="/website_url/static/src/js/website_url_charts.js"/>
            <script type="text/javascript" src="/web/static/lib/moment/moment.js"/>
        </template>

        <template id="assets_nvd3">
            <link href="/web_graph/static/src/css/nv.d3.css" rel="stylesheet" type="text/css"></link>
            <script src="/web_graph/static/lib/nvd3/d3.v3.js"></script>
            <script src="/web_graph/static/lib/nvd3/nv.d3.js"></script>
        </template>

        <template id="create_shorten_url">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <h2 class="text-center">URL Shortener</h2>
                        <h3 class="text-muted text-center">Get analytics with short URLs</h3>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="notification">
                            
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-group" id="url-form-group">
                            <label class="control-label">Link to shorten</label>
                            <div class="input-group">
                                <input type="text" id="url" class="form-control input"  required="True" placeholder="e.g. http://www.odoo.com"/>

                                <span class="input-group-btn">
                                    <button class="btn btn-primary" data-clipboard-target="url" id="btn_shorten_url">Get short link</button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Campaign</label>
                            <input type="hidden" class="form-control" id="campaign-select"/>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Channel</label>
                            <input type="hidden" class="form-control" id="channel-select" />
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>Source</label>
                            <input type="hidden" class="form-control" id="source-select" />
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <h2>Recently used links</h2>
                    </div>
                </div>

                <div id="recent_links">
                    <div class="notification"></div>
                </div>
            </div>
        </template>

        <template id="graphs">
            <t t-call="website.layout">
                <t t-set="head">
                    <t t-call-assets="website_url.assets_nvd3"/>
                    <t t-call-assets="website_url.assets_website_url_charts"/>
                </t>
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12">

                            <input type="hidden" id="code" t-att-value="code" />

                            <h1 class="text-center">Statistics</h1>
                            <h3 class="text-muted text-center">
                                <t t-esc="url"/>
                            </h3>


                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <h4>
                                                <span class="fa fa-circle-o-notch"></span> <span id="total_clicks_data"></span> total clicks
                                            </h4>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-6">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <h4>
                                                <span class="fa fa-flag"></span> <span id="number_of_countries_data"></span> countries
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Tabs -->
                            <ul class="nav nav-tabs hidden-print graph-tabs">
                                <li class="active">
                                    <a href="#all_time_chart" data-toggle="tab">All Time</a>
                                </li>
                                <li>
                                    <a href="#last_month_chart" data-toggle="tab">Last Month</a>
                                </li>
                                <li>
                                    <a href="#last_week_chart" data-toggle="tab">Last Week</a>
                                </li>
                                <li>
                                    <a href="#clicks_by_country" data-toggle="tab">Countries</a>
                                </li>
                            </ul>

                            <div class="tab-content">
                                <div class="tab-pane active" id="all_time_chart">
                                    <svg style="height:20em"></svg>
                                </div>
                                <div class="tab-pane" id="last_month_chart">
                                    <svg style="height:20em"></svg>
                                </div>
                                <div class="tab-pane" id="last_week_chart">
                                    <svg style="height:20em"></svg>
                                </div>
                                <div class="tab-pane" id="clicks_by_country">
                                    <svg style="height:20em;"></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </template>

        <template id="page_shorten_url">
            <t t-call="website.layout">
                <t t-set="head">
                    <t t-call-assets="website_url.assets_website_url"/>
                </t>
                <t t-call="website_url.create_shorten_url"/>
            </t>
        </template>

    </data>
</openerp>

