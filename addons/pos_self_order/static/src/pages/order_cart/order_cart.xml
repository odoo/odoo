<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="pos_self_order.OrderCart" owl="1">
        <div class="d-flex flex-column dvh-100">
            <t t-set="order" t-value="selfOrder.currentOrder"/>
            <NavBar customText="'Cart'" shadow="true" />
            <main class="h-100 bg-100 overflow-auto">
                <Lines order="order" />
                <div class="px-3 pt-4 pb-3 bg-white">
                    <PriceDetails tax="order.amount_tax" total="order.amount_total"/>
                </div>
            </main>
            <div class="d-flex flex-column align-items-center w-100 p-3 bg-white shadow-lg">
                <button t-on-click="processOrder" t-attf-class="{{ !orderToPay and !order.isChange() ? 'disabled' : '' }} o_self_order_main_button btn btn-primary w-100 px-2 py-3 mt-2 rounded">
                    <span t-if="orderToPay">Pay</span>
                    <span t-else="">Order</span>
                    <t t-if="!selfOrder.priceLoading">
                        <t t-esc="` | ${selfOrder.formatMonetary(order.amount_total)}`"/>
                    </t>
                </button>
            </div>
            <PopupTable t-if="this.state.selectTable" selectTable.bind="selectTable" />
        </div>
    </t>
</templates>
