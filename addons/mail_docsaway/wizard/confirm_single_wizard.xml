<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>

        <!-- Attendee wizard form view -->
        <record model="ir.ui.view" id="mail_docsaway_confirm_delivery_wizard_form">
            <field name="name">mail_docsaway_wizard_form</field>
            <field name="model">mail_docsaway.single_wizard</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Confirm Delivery">
                    <sheet>
                        <field name="mail_id" invisible="1"/>
                        <field name="wizard_id" invisible="1"/>
                        <field name="wizard_customer_id" invisible="1"/>
                        <field name="no_multiple_wizard" invisible="1"/>
                        <field name='remaining' invisible="1"/>
                        <field name='already_sent' invisible="1"/>
                        <field name="currency_id" invisible="1"/>
                        <field name="first_call" invisible="1"/>


                        <group attrs="{'invisible':[('free_count','&lt;=',0)]}">
                            <div class="alert alert-info"><span class="oe_form_field oe_inline">You have &#160;</span><field name="free_count" readonly="1" class="oe_inline"/><span class="oe_form_field oe_inline">&#160; free letters to send.</span></div>
                        </group>

                        
                        <group attrs="{'invisible':[('remaining','>=',0.0)]}">
                            <div class="alert alert-danger">You have insufficient funds in your account. Please refill it.</div>
                        </group>
                        <group attrs="{'invisible':[('already_sent','=',False)]}">
                            <div class="alert alert-warning"><span class="oe_form_field oe_datepicker_root oe_form_field_datetime oe_inline">The document was already sent on &#160; </span><field name="sent_date" readonly="1" class="oe_inline"/></div>
                        </group>
                        <p class="oe_black" attrs="{'invisible':[('free_count','>',0)]}">
                        This document will be sent by DocsAway at the address of
                        the customer. The service needs a prepayment in the DocsAway account.
                        Upon mailing, the account will be deducted from the cost to deliver it.
                        All prices related to DocsAway are shown in Australian Dollars (AUD).
                        </p>
                        
                        <p class="oe_black" attrs="{'invisible':[('free_count','&lt;=',0)]}">
                        This document will be sent by DocsAway at the address of
                        the customer. In order to try this service, Odoo gives free letters for your company.
                        </p>

                        <group attrs="{'invisible':[('no_multiple_wizard','=',False)]}">
                            <field name="ink" required="1"/>
                        </group>

                        <group>
                            <field name="partner_id" context="{'show_address': 1}" readonly="1"/>
                            <field name="station" groups="base.group_no_one" readonly="1"/>
                            <field name="courier" groups="base.group_no_one" readonly="1"/>
                            <field name="nb_pages" readonly="1"/>
                        </group>
                        <group class="oe_subtotal_footer oe_left" attrs="{'invisible':[('free_count','>',0)]}">
                            <field name="price" readonly="1" class="oe_subtotal_footer_separator" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                            <label for="balance"/>
                            <div>
                                <field name="balance" readonly="1" class="oe_inline" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                <a name="action_reload"
                                    href="https://www.docsaway.com/index_c.php"
                                    target="_blank"
                                    class="oe_form_field oe_link oe_inline">â‡’ Refill</a>
                            </div>
                        </group>
                        
                    </sheet>
                    <footer>
                        <group attrs="{'invisible':[('no_multiple_wizard','=',True)]}">
                            
                        </group>
                        <group attrs="{'invisible':['|',('no_multiple_wizard','=',False),('remaining','>=',0.0),('price','>',0.0)]}">
                            <span>
                                <button string="Cancel" class="oe_link" special="cancel" />
                            </span>
                        </group>
                        <group attrs="{'invisible':['|',('remaining','&lt;',0.0),'|',('price','&lt;=',0.0),('no_multiple_wizard','=',False)]}">
                            <span>
                                <button string="Send" type="object" class="oe_highlight" name="action_send_mail"/>
                                 or
                                <button string="Cancel" class="oe_link" special="cancel" />
                            </span>
                        </group>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</openerp>
