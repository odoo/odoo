<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mrp.WOStateDropdown" t-if="!['draft', 'cancel'].includes(this.props.record.data.production_state)">
        <Dropdown disabled="this.props.record.data.state === 'done'">
            <div t-attf-class="d-flex {{!this.props.record.resId ? 'invisible': ''}}">
                <t t-set="color" t-value="statusColor(this.props.record.data.state)"/>
                <div>
                    <span t-attf-class="fa fa-lg fa-circle text-{{color}} me-2"/> <!-- force .fa-lg font-size to 1.45em to == badge height, maybe also remove "vertical-align:-6%;" -->
                    <span t-attf-class="badge rounded-pill text-bg-{{color}}" t-esc="stateName(this.props.record.data.state)"/>
                </div>
            </div>
            <t t-set-slot="content">
                <t t-foreach="this.props.record._config.fields.state.selection" t-as="state" t-key="state_index">
                    <DropdownItem
                        class="`d-flex align-items-center`"
                        onSelected="() => this.setState(state[0])">
                            <span t-attf-class="fa fa-lg {{statusIcon(state[0])}} text-{{statusColor(state[0])}} me-2"/>
                            <span t-esc="state[1]"/>
                    </DropdownItem>
                </t>
            </t>
        </Dropdown>
    </t>

</templates>
