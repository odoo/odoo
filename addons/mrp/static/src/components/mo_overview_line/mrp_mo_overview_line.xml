<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <tr t-name="mrp.MoOverviewLine" t-on-click="() => this.props.hasFoldButton? this.props.toggleFolded(this.data.index) : false">
        <td class="text-start">
            <div t-attf-style="margin-left: {{ this.marginMultiplicator * 20 }}px" class="d-inline-block">
                <span t-if="this.props.hasFoldButton" class="btn btn-light p-0" t-attf-aria-label="{{ this.foldButtonTitle }}" t-attf-title="{{ this.foldButtonTitle }}" style="margin-right: 1px">
                    <i t-attf-class="fa fa-fw fa-caret-{{ this.props.isFolded ? 'right' : 'down' }}" role="img"/>
                </span>
                <a t-if="this.data.id and this.data.model === 'mrp.workorder'" href="#" t-on-click.prevent="this.openWorkorder" t-out="this.data.name"/>
                <a t-elif="this.data.id and this.data.model" href="#" t-on-click.prevent="this.openForm" t-out="this.data.name"/>
                <t t-else="" t-out="this.data.name"/>
                <button t-if="this.data.model === 'to_order'" class="ms-2 py-0 btn btn-secondary" t-on-click="this.openReplenish">Replenish</button>
            </div>
        </td>
        <td class="text-center" t-if="this.props.showOptions.replenishments">
            <div class="o_field_badge">
                <span t-attf-class="badge rounded-pill o_mrp_overview_badge {{ this.stateDecorator }}" t-out="this.data.formatted_state"/>
            </div>
        </td>
        <td t-attf-class="text-end" t-out="this.formattedQuantity"/>
        <td t-if="this.props.showOptions.uom" class="text-start" t-out="this.data.uom_name"/>
        <td class="text-end" t-if="this.props.showOptions.availabilities">
            <t t-if="this.hasQuantity('quantity_on_hand')">
                <t t-out="this.formatFloat(this.data.quantity_free)"/> /
                <t t-out="this.formatFloat(this.data.quantity_on_hand)"/>
            </t>
        </td>
        <td class="text-end" t-if="this.props.showOptions.availabilities">
            <t t-if="this.hasQuantity('quantity_reserved')" t-out="this.formatFloat(this.data.quantity_reserved)"/>
        </td>
        <td class="text-end" t-if="this.props.showOptions.receipts">
            <t t-if="this.data.receipt">
                <span t-attf-class="{{ this.getColorClass(this.data.receipt.decorator) }}" t-out="this.data.receipt.display"/>
                <a href="#" role="button" t-on-click.prevent="this.openForecast" title="Forecast Report" t-attf-class="fa fa-fw fa-area-chart ms-1 {{this.getColorClass(this.data.receipt.decorator)}}"/>
            </t>
        </td>
        <td class="text-end" t-if="this.props.showOptions.unitCosts" t-out="this.formatMonetary(this.data.unit_cost)"/>
        <td t-attf-class="text-end {{ this.getColorClass(this.data.mo_cost_decorator) }}" t-if="this.props.showOptions.moCosts" t-out="this.formatMonetary(this.data.mo_cost)"/>
        <td class="text-end" t-if="this.props.showOptions.bomCosts" t-out="this.formatMonetary(this.data.bom_cost)"/>
        <td t-attf-class="text-end {{ this.getColorClass(this.data.real_cost_decorator) }}" t-if="this.props.showOptions.realCosts" t-out="this.formatMonetary(this.data.real_cost)"/>
    </tr>

</templates>
