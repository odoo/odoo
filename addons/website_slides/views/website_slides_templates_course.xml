<?xml version="1.0" ?>
<odoo><data>

<!-- Channels sub-template: header -->
<template id="course_nav" name="Course Navigation Header">
    <div class="o_wslides_course_nav d-flex align-items-center">
        <a href="/slides" class="o_wslides_back d-lg-none flex-shrink-0"><i class="oi oi-chevron-left me-1"/>Back to Courses</a>
        <ol class="breadcrumb d-none d-lg-flex m-0 p-0">
            <li class="breadcrumb-item flex-shrink-0">
                <a href="/slides" title="Courses">Courses</a>
            </li>
            <t t-set="breadcrumb_class" t-value="'breadcrumb-item text-truncate %s' % ('active' if not slide else '')" />
            <li t-att-class="'breadcrumb-item text-truncate %s' % ('active' if not search_category and not search_tag and not search_slide_category and not slide else '')">
                <a t-if="invite_preview" t-attf-href="/slides/#{channel.id}?#{keep_query('invite_hash', 'invite_partner_id')}" class="text-truncate d-block"><span t-esc="channel.name" t-att-title="channel.name"/></a>
                <span t-elif="not slide" t-esc="channel.name" t-att-title="channel.name"/>
                <a t-else="" t-att-href="'/slides/%s' % slug(channel)" class="text-truncate d-block"><span t-esc="channel.name" t-att-title="channel.name"/></a>
            </li>
            <li t-att-class="breadcrumb_class" t-if="search_category">
                <a t-if="invite_preview" t-attf-href="/slides/#{channel.id}/category/#{search_category.id}?#{keep_query('invite_hash', 'invite_partner_id')}" aria-current='page'><span t-esc="search_category.name" t-att-title="search_category.name"/></a>
                <a t-else="" t-attf-href="/slides/#{slug(channel)}/category/#{slug(search_category)}" aria-current='page'><span t-esc="search_category.name" t-att-title="search_category.name"/></a>
            </li>
            <li t-att-class="breadcrumb_class" t-if="search_tag">
                <a t-att-href="'/slides/%s/tag/%s' % (slug(channel), slug(search_tag))" aria-current='page'><span t-esc="search_tag.name" t-att-title="search_tag.name"/></a>
            </li>
            <li t-att-class="breadcrumb_class" t-if="search_uncategorized">
                <a t-if="invite_preview" t-attf-href="/slides/#{channel.id}?uncategorized=1&amp;#{keep_query('invite_hash', 'invite_partner_id')}" aria-current='page' title="Uncategorized">Uncategorized</a>
                <a t-else="" t-attf-href="/slides/#{slug(channel)}?uncategorized=1" aria-current='page' title="Uncategorized">Uncategorized</a>
            </li>
            <li t-att-class="breadcrumb_class" t-if="search_slide_category">
                <a t-att-href="'/slides/%s?slide_category=%s' % (slug(channel), search_slide_category)" aria-current='page'>
                    <span t-esc="slide_categories.get('search_slide_category', '-')" t-att-title="slide_categories.get('search_slide_category', '-')"/>
                </a>
            </li>
            <li t-if="slide" class="breadcrumb-item text-truncate active">
                <span t-esc="slide.name" t-att-title="slide.name"/>
            </li>
        </ol>
    </div>
</template>


<!-- Channel main template -->
<template id='course_main' name="Course Main" track="1">
    <t t-set="head">
        <script type="module" src="/web/static/lib/pdfjs/build/pdf.js"/>
        <script type="module" src="/web/static/lib/pdfjs/build/pdf.worker.js"/>
        <script type="text/javascript" src="/website_slides/static/lib/pdfslidesviewer/PDFSlidesViewer.js"></script>
    </t>
    <t t-set="body_classname" t-value="'o_wslides_body'"/>
    <t t-set="opt_slide_sidebar_cover_overlap" t-value="is_view_active('website_slides.opt_slide_sidebar_cover_overlap')"/>
    <t t-set="opt_slide_description_cover_top" t-value="is_view_active('website_slides.opt_slide_description_cover_top')"/>
    <t t-call="website.layout">
        <div id="wrap" t-attf-class="o_wslide_slide mt-0">
            <div t-if="opt_slide_description_cover_top" class="oe_structure oe_empty" t-call="website.record_cover">
                <t t-set="_record" t-value="channel"/>
                <t t-set="use_filters" t-value="True"/>
                <t t-set="use_size" t-value="True"/>
                <t t-set="use_text_align" t-value="True"/>
                <t t-set="additionnal_classes" t-value="'overflow-hidden'"/>
                <div t-attf-class="o_wslides_course_header container position-relative d-flex flex-column flex-grow-1 pt-4">
                    <t t-call="website_slides.course_nav"/>
                    <div class="d-flex flex-column my-auto mw-lg-75 mw-xxl-50">
                        <h1 t-field="channel.name"/>
                        <div class="h5-fs" t-field="channel.description"/>
                        <t t-set="channel_frontend_tags" t-value="channel.tag_ids.filtered(lambda tag: tag.color)"/>
                        <div t-if="channel_frontend_tags" class="d-md-none mb-3 small">
                            <t t-foreach="channel_frontend_tags" t-as="channel_tag">
                                <span t-attf-class="badge o_wslides_channel_tag #{'o_color_'+str(channel_tag.color)}" t-esc="channel_tag.name"/>
                            </t>
                        </div>
                        <div t-if="channel.allow_comment and channel.is_member" class="mt-3">
                            <t t-call="portal_rating.rating_stars_static_popup_composer">
                                <t t-set="rating_avg" t-value="rating_avg"/>
                                <t t-set="rating_count" t-value="rating_count"/>
                                <t t-set="object" t-value="channel"/>
                                <t t-set="token" t-value="channel.access_token"/>
                                <t t-set="hash" t-value="message_post_hash"/>
                                <t t-set="pid" t-value="message_post_pid"/>
                                <t t-set="default_message" t-value="last_message"/>
                                <t t-set="default_message_id" t-value="last_message_id"/>
                                <t t-set="default_rating_value" t-value="last_rating_value"/>
                                <t t-set="default_attachment_ids" t-value="last_message_attachment_ids"/>
                                <t t-set="force_submit_url" t-value="'/mail/message/update_content' if last_message_id else False"/>
                                <t t-set="rate_with_void_content" t-value="True"/>
                                <t t-set="disable_composer" t-value="not channel.can_review"/>
                                <t t-set="_link_btn_classes" t-value="'btn btn-sm o_wslides_header_text'"/>
                                <t t-set="_text_classes" t-value="'css_editable_mode_hidden'"/>
                            </t>
                        </div>
                    </div>
                </div>
            </div>

            <div t-attf-class="o_wslides_course_main #{'o_wslides_cover_above' if opt_slide_description_cover_top and opt_slide_sidebar_cover_overlap else 'mt-4'}">
                <t t-set="channel_frontend_tags" t-value="channel.tag_ids.filtered(lambda tag: tag.color)"/>
                <div class="container mb-5">
                    <div t-if="not opt_slide_description_cover_top" t-call="website_slides.course_nav" class="mt-4 mb-3"/>
                    <div class="row">
                        <div class="col-12 col-md-6 col-lg-8 col-xxl-9 position-relative pe-lg-5">
                            <div t-if="not opt_slide_description_cover_top" class="oe_structure oe_empty" t-call="website.record_cover">
                                <t t-set="_record" t-value="channel"/>
                                <t t-set="use_filters" t-value="True"/>
                                <t t-set="use_size" t-value="False"/>
                                <t t-set="use_text_align" t-value="True"/>
                                <t t-set="additionnal_classes" t-value="'o_wslide_slide_cover_inside mb-4 rounded overflow-hidden'"/>
                                <div class="o_wslides_course_header position-relative mt-auto p-3">
                                    <h1 class="h2" t-field="channel.name"/>
                                    <p class="lead" t-field="channel.description"/>
                                    <div t-if="channel_frontend_tags" class="d-md-none mb-3 small">
                                        <t t-foreach="channel_frontend_tags" t-as="channel_tag">
                                            <span t-attf-class="badge o_wslides_channel_tag #{'o_color_'+str(channel_tag.color)}" t-esc="channel_tag.name"/>
                                        </t>
                                    </div>
                                    <div class="d-flex flex-column justify-content-center h5 flex-grow-1 o_not_editable" t-if="channel.allow_comment and channel.is_member">
                                        <t t-call="portal_rating.rating_stars_static_popup_composer">
                                            <t t-set="rating_avg" t-value="rating_avg"/>
                                            <t t-set="rating_count" t-value="rating_count"/>
                                            <t t-set="object" t-value="channel"/>
                                            <t t-set="token" t-value="channel.access_token"/>
                                            <t t-set="hash" t-value="message_post_hash"/>
                                            <t t-set="pid" t-value="message_post_pid"/>
                                            <t t-set="default_message" t-value="last_message"/>
                                            <t t-set="default_message_id" t-value="last_message_id"/>
                                            <t t-set="default_rating_value" t-value="last_rating_value"/>
                                            <t t-set="default_attachment_ids" t-value="last_message_attachment_ids"/>
                                            <t t-set="force_submit_url" t-value="'/mail/message/update_content' if last_message_id else False"/>
                                            <t t-set="rate_with_void_content" t-value="True"/>
                                            <t t-set="disable_composer" t-value="not channel.can_review"/>
                                            <t t-set="_link_btn_classes" t-value="'btn btn-sm o_wslides_header_text'"/>
                                            <t t-set="_text_classes" t-value="'css_editable_mode_hidden'"/>
                                        </t>
                                    </div>
                                </div>
                            </div>
                            <ul t-attf-class="nav o_wslides_nav_tabs flex-nowrap #{'nav-pills' if opt_slide_description_cover_top and opt_slide_sidebar_cover_overlap else 'nav-underline'}" role="tablist" id="profile_extra_info_tablist">
                                <li class="nav-item" role="presentation">
                                    <a t-att-class="'nav-link %s' % ('active' if active_tab == 'home' else '')"
                                        id="home-tab" data-bs-toggle="pill" href="#home" role="tab" aria-controls="home"
                                        t-att-aria-selected="'true' if active_tab == 'home' else 'false'">
                                        Course
                                    </a>
                                </li>
                                <li t-if="channel.allow_comment" class="nav-item o_wslides_course_header_nav_review" role="presentation">
                                    <a t-att-class="'nav-link %s' % ('active' if active_tab == 'review' else '')"
                                        id="review-tab" data-bs-toggle="pill" href="#review" role="tab" aria-controls="review"
                                        t-att-aria-selected="'true' if active_tab == 'review' else 'false'">
                                        Reviews<t t-if="rating_count"> (<t t-esc="rating_count"/>)</t>
                                    </a>
                                </li>
                            </ul>

                            <div class="tab-content o_wslides_tabs_content mt-5" id="courseMainTabContent">
                                <div t-att-class="'tab-pane fade %s' % ('show active' if active_tab == 'home' else '')" id="home" role="tabpanel" aria-labelledby="home-tab">
                                    <!-- ==== Error notification ==== -->
                                    <div t-if="access_error == 'course_content'" class="alert alert-danger alert-dismissable mb-1" role="alert">
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        You need to join this course to access &quot;<t t-out="access_error_content_name"/>&quot;.
                                    </div>
                                    <!-- ==== Invitation Banner ==== -->
                                    <div t-if="invite_preview" class="o_wslides_identification_banner alert alert-success mb-4 p-2 px-3" role="alert">
                                        You have been invited to this course.
                                        <a class="o_underline" t-attf-href="/slides/#{channel.id}/identify?#{keep_query('invite_partner_id', 'invite_hash')}">
                                            <t t-if="is_partner_without_user">Sign up</t>
                                            <t t-else="">Log in</t>
                                        </a> to browse preview content and enroll.
                                    </div>
                                    <div t-if="not channel.is_member" t-call="website_slides.course_join" class="card d-md-none p-3 small"/>
                                    <t t-if="channel.channel_type == 'training'" t-call="website_slides.course_slides_list"/>
                                    <t t-else="" t-call="website_slides.course_slides_cards"/>
                                    <div t-if="channel.is_member" class="d-md-none" t-call="website_slides.course_sidebar"/>
                                </div>
                                <div t-if="channel.allow_comment" t-att-class="'tab-pane fade %s' % ('show active' if active_tab == 'review' else '')" id="review" role="tabpanel" aria-labelledby="review-tab">
                                    <t t-call="portal.message_thread">
                                        <t t-set="object" t-value="channel"/>
                                        <t t-set="hash" t-value="message_post_hash"/>
                                        <t t-set="pid" t-value="message_post_pid"/>
                                        <t t-set="display_rating" t-value="True"/>
                                        <t t-set="disable_composer" t-value="True"/>
                                    </t>
                                </div>
                            </div>
                        </div>
                        <!-- Sidebar -->
                        <div class="position-relative d-none d-md-block col-md-6 col-lg-4 col-xxl-3">
                            <t t-call="website_slides.course_sidebar"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</template>

<template id="course_sidebar" name="Course Sidebar (infos, CTA)">
    <!-- Channel sidebar (aka general information + CTAs) -->
    <div class="o_wslides_course_sidebar o_sticky_reactive sticky-md-top card">
        <div class="card-body">
            <t t-call="website_slides.course_join"/>
            <ul class="list-group list-group-flush mt-3">
                <li class="list-group-item d-flex align-items-center justify-content-between px-0" t-if="channel.user_id">
                    <h2 class=" h6 mb-0">Responsible</h2>
                    <span class="border-top-0 text-break"><span t-esc="channel.user_id.display_name"/></span>
                </li>
                <li class="list-group-item d-flex align-items-center justify-content-between px-0">
                    <h2 class="h6 mb-0">Last update</h2>
                    <span class="border-top-0"><t t-esc="channel.slide_last_update" t-options="{'widget': 'date'}"/></span>
                </li>
                <li class="list-group-item d-flex align-items-center justify-content-between px-0" t-if="channel.total_time">
                    <h2 class="h6 mb-0">Completion</h2>
                    <td class="border-top-0"><t class="fw-bold" t-esc="channel.total_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format': 'narrow'}"/></td>
                </li>
                <li class="list-group-item d-flex align-items-center justify-content-between px-0">
                    <h2 class="h6 mb-0">Members</h2>
                    <span><t t-esc="channel.members_count"/></span>
                </li>
                <li t-if="channel_frontend_tags" class="list-group-item px-0 pt-3">
                    <div class="d-flex flex-wrap gap-1">
                        <t t-foreach="channel_frontend_tags" t-as="channel_tag">
                            <span t-attf-class="badge o_wslides_channel_tag #{'o_color_'+str(channel_tag.color)}" t-esc="channel_tag.name"/>
                        </t>
                    </div>
                </li>
            </ul>
        </div>
        <div class="card-footer p-0">
            <button role="button" class="o_wslides_share btn btn-link w-100" title="Share Channel"
                    aria-label="Share Channel" t-att-data-id="channel.id" t-att-data-name="channel.name"
                    t-att-data-url="channel.website_absolute_url" data-is-channel="True"
                    t-att-data-email-sharing="bool(channel.share_channel_template_id)">
                <i class="fa fa-share-alt me-1" role="img"/>Share
            </button>
        </div>
    </div>
</template>

<template id="course_join">
    <div class="o_wslides_js_course_join">
        <t t-if="(invite_preview and channel.enroll in ['public', 'invite']) or (not channel.is_member and (channel.enroll == 'public' or (channel.is_member_invited and channel.enroll == 'invite')))">
           <div t-if="not invite_preview and channel.prerequisite_channel_ids and not channel.prerequisite_user_has_completed" class="text-center">
                <div class="alert my-0 bg-100">
                    <h6>
                        <i class="fa fa-lock"/>
                        <span>Course Locked</span>
                    </h6>
                    <div>
                        <small>
                            Finish
                            <a t-if="len(channel.prerequisite_channel_ids) == 1"
                                t-attf-href="/slides/{{channel.prerequisite_channel_ids[0].id}}"
                                t-out="channel.prerequisite_channel_ids[0].name"/>
                            <a t-else="" href="#" class="o_wslides_js_prerequisite_course"
                                t-att-data-channels="json.dumps(
                                    [{'course_id': course.id, 'course_name': course.name}
                                    for course in channel.prerequisite_channel_ids]
                                )">
                                courses
                            </a>
                            to unlock
                        </small>
                        <small>
                            or
                            <a role="button" class="o_wslides_js_course_join_link"
                                title="Start Course" aria-label="Start Course" href="#"
                                t-att-data-channel-id="channel.id"
                                t-att-data-channel-enroll="channel.enroll"
                                t-att-data-invite-hash="invite_hash"
                                t-att-data-invite-partner-id="invite_partner_id"
                                t-att-data-invite-preview="invite_preview"
                                t-att-data-is-member-or-invited="channel.is_member or channel.is_member_invited"
                                t-att-data-is-partner-without-user="is_partner_without_user">
                                <t t-if="channel.channel_type == 'documentation'">start</t>
                                <t t-else="">join</t>
                            </a> anyway
                        </small>
                    </div>
                </div>
            </div>
            <a t-else="" role="button" class="btn btn-primary btn-block o_wslides_js_course_join_link w-100"
               title="Start Course" aria-label="Start Course" href="#"
               t-att-data-channel-id="channel.id"
               t-att-data-channel-enroll="channel.enroll"
               t-att-data-invite-hash="invite_hash"
               t-att-data-invite-partner-id="invite_partner_id"
               t-att-data-invite-preview="invite_preview"
               t-att-data-is-member-or-invited="channel.is_member or channel.is_member_invited"
               t-att-data-is-partner-without-user="is_partner_without_user">
                Enroll now
            </a>
        </t>
        <div t-elif="not invite_preview and channel.enroll == 'invite' and not channel.is_member and not channel.is_member_invited" class="text-center">
            <div t-if="channel.prerequisite_channel_ids and not channel.prerequisite_user_has_completed" class="text-center">
                <div class="alert my-0 bg-100">
                    <h6>
                        <i class="fa fa-lock"/>
                        <span>Course Locked</span>
                    </h6>
                    <div>
                        <small>
                            Finish
                            <a t-if="len(channel.prerequisite_channel_ids) == 1"
                                t-attf-href="/slides/{{channel.prerequisite_channel_ids[0].id}}"
                                t-out="channel.prerequisite_channel_ids[0].name"/>
                            <a t-else="" href="#" class="o_wslides_js_prerequisite_course"
                                t-att-data-channels="json.dumps(
                                    [{'course_id': course.id, 'course_name': course.name}
                                    for course in channel.prerequisite_channel_ids]
                                )">
                                courses
                            </a>
                            to unlock
                        </small>
                        <small t-if="is_public_user">
                            or <a t-att-href="'/web/login?redirect=/slides/%s' % (slug(channel))">sign in</a> to request access
                        </small>
                        <small t-else="">
                            or <a href="#" class="o_wslides_js_channel_enroll" t-att-data-channel-id="channel.id">request</a> direct access
                        </small>
                    </div>
                </div>
            </div>
            <div t-else="" t-attf-class="alert my-0 bg-100 p-2 #{'o_wslides_js_channel_enroll' if not is_public_user and channel.user_id else ''}"
                t-att-data-channel-id="channel.id">
                Private Course
                <div t-if="is_public_user">
                    <small>
                        Please <a t-att-href="'/web/login?redirect=/slides/%s' % (slug(channel))">sign in</a> to contact responsible
                    </small>
                </div>
                <div t-elif="channel.has_requested_access">
                    <small class="text-success">
                        Request already sent
                    </small>
                </div>
                <div t-else="" class="o_wslides_enroll_msg">
                    <small>
                        <div t-field="channel.enroll_msg"/>
                    </small>
                </div>
            </div>
        </div>
        <t t-elif="channel.is_member">
            <button class="btn btn-light d-flex align-items-center o_wslides_js_channel_unsubscribe w-100 p-3"
                    t-att-data-channel-id="channel.id"
                    t-att-data-is-follower="channel.message_is_follower"
                    t-att-data-enroll="channel.enroll"
                    t-att-data-visibility="channel.visibility">
                <t t-call="website_slides.slides_misc_user_image">
                    <t t-set="img_class" t-value="'rounded-circle me-1'"/>
                    <t t-set="img_style" t-value="'width: 1.4em; height: 1.4em;'"/>
                </t>
                <h6 class="d-flex flex-grow-1 my-0">You're enrolled</h6>
                <i class="fa fa-check" role="img"/>
            </button>
            <div t-attf-class="d-flex align-items-center mt-3 #{'d-none' if channel.completed else ''}">
                <div t-attf-class="o_wslides_channel_completion_progressbar #{'d-flex gap-3' if not channel.completed else ''} w-100 align-items-center">
                    <div class="progress flex-grow-1" style="height: 6px;">
                        <div class="progress-bar" role="progressbar" t-attf-style="width: #{channel.completion}%" t-att-aria-valuenow="channel.completion" aria-valuemin="0" aria-valuemax="100" aria-label="Progress bar"></div>
                    </div>
                    <div class="ms-3 small">
                        <span class="o_wslides_progress_percentage" t-esc="channel.completion"/> %
                    </div>
                </div>
            </div>
        </t>
    </div>
</template>

<template id="course_slides_list" name="Training Course content: list">
    <div class="mb-5 o_wslides_slides_list" t-att-data-channel-id="channel.id">
        <div t-attf-class="o_wslides_channel_completion_completed alert alert-success #{'d-none' if not channel.completed else ''}">
            <i class="fa fa-check-circle me-2" role="img"/><span>You've successfully completed this course !</span>
        </div>
        <ul class="o_wslides_js_slides_list_container list-unstyled">
            <t t-set="j" t-value="0"/>
            <t t-set="category_counter" t-value="0"/>
            <t t-foreach="category_data" t-as="category">
                <t t-set="category_id" t-value="category['id'] if category['id'] else None"/>

                <li t-if="category['total_slides'] or channel.can_publish" t-attf-class="mt-5 #{'o_wslides_slide_list_category o_wslides_js_list_item' if category_id else ''}" t-att-data-slide-id="category_id" t-att-data-category-id="category_id">
                    <div t-if="category_id" st-att-data-category-id="category_id">
                        <h2 class="h5 mt-5 pb-2 border-bottom">
                            <t t-set="category_counter" t-value="category_counter + 1"/>
                            <t t-out="str(category_counter).zfill(2)"/>.
                            <span t-field="category['category'].name"/>
                        </h2>
                    </div>
                    <ul t-att-data-category-id="category_id" class="list-unstyled">
                        <t t-foreach="category['slides']" t-as="slide">
                            <t t-call="website_slides.course_slides_list_slide" />
                            <t t-set="j" t-value="j+1"/>
                        </t>
                    </ul>
                </li>
            </t>
        </ul>
        <t t-if="not channel.slide_ids and channel.can_publish" t-call="website_slides.course_slides_list_sample"/>
        <t t-elif="slide_count == 0 and not channel.can_publish" t-call="website_slides.course_slides_list_placeholder"/>
    </div>
    <div t-field="channel.description_html"/>
</template>

<template id="course_slides_list_placeholder" name="Course Placeholder Content">
    <div class="my-5 d-flex">
        <div class="mx-auto">
            <img class="mx-auto mb-3" src="/web/static/img/smiling_face.svg"/>
            <div class="text-muted fw-bold">No lessons are available yet.</div>
        </div>
    </div>
</template>

<template id="course_slides_list_sample" name="Course Sample Content">
    <div class="alert alert-light">This is just a sample. Start adding content to make it your own !</div>
    <ul class="list-unstyled mt-3 opacity-50">
        <li class="o_wslides_slide_list_category mt-5">
            <h5 class="border-bottom pb-2 text-muted">1. Common tasks for a computer scientist</h5>
            <ul class="list-unstyled">
                <li class="o_wslides_slides_list_slide d-flex align-items-baseline py-2">
                    <i class="fa fa-circle-thin"/>
                    <i class="fa fa-file-text mx-2"/>
                    <div class="me-auto">
                        <span>Asking Question</span>
                    </div>
                    <div class="small lh-1">
                        <span class="badge fw-bold text-bg-warning">
                            10 xp
                        </span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide d-flex align-items-baseline py-2">
                    <i class="fa fa-circle-thin"/>
                    <i class="fa fa-question-circle mx-2"/>
                    <div class="text-truncate me-2">
                        <span>Asking the right question</span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide d-flex align-items-baseline py-2">
                    <i class="fa fa-circle-thin"/>
                    <i class="fa fa-file-pdf-o mx-2"/>
                    <div class="me-auto">
                        <span>Answering Questions</span>
                    </div>
                    <div class="small lh-1">
                        <span class="badge text-bg-info fw-normal">New</span>
                    </div>
                </li>
            </ul>
        </li>
        <li class="o_wslides_slide_list_category mt-5">
            <h5 class="border-bottom pb-2 text-muted">2. Parts of computer science</h5>
            <ul class="list-unstyled">
                <li class="o_wslides_slides_list_slide d-flex align-items-baseline py-2">
                    <i class="fa fa-circle-thin"/>
                    <i class="fa fa-file-pdf-o mx-2"/>
                    <div class="me-auto">
                        <span>Mathematics</span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide d-flex align-items-baseline py-2">
                    <i class="fa fa-circle-thin"/>
                    <i class="fa fa-file-pdf-o mx-2"/>
                    <div class="me-auto">
                        <span>Science</span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide d-flex align-items-baseline py-2">
                    <i class="fa fa-circle-thin"/>
                    <i class="fa fa-play mx-2"/>
                    <div class="me-auto">
                        <span>Logic</span>
                    </div>
                    <div class="small lh-1">
                        <span class="badge text-bg-success fw-normal">Preview</span>
                    </div>
                </li>
            </ul>
        </li>
    </ul>
</template>

<template id="course_slides_list_slide" name="Slide template for a training channel">
    <li t-att-index="j" t-att-data-slide-id="slide.id" t-att-data-category-id="category_id" t-attf-class="o_wslides_slides_list_slide o_wslides_js_list_item d-flex align-items-baseline py-2">
        <div t-if="channel.is_member or channel.can_publish" class="o_not_editable">
            <t t-call="website_slides.slide_sidebar_done_button">
                <t t-set="is_member" t-value="channel.is_member"/>
                <t t-set="slide_completed" t-value="channel_progress[slide.id].get('completed')"/>
                <t t-set="use_slide_icon" t-value="False"/>
            </t>
        </div>
        <i t-attf-class="fa #{slide.slide_icon_class} me-2" role="img"/>
        <div class="me-auto">
            <a t-if="not invite_preview and (slide.is_preview or channel.is_member or channel.can_publish)" class="o_wslides_js_slides_list_slide_link" t-attf-href="/slides/slide/#{slug(slide)}">
                <span t-field="slide.name"/>
            </a>
            <span t-else="">
                <span t-esc="slide.name"/>
            </span>
        </div>

        <div class="d-flex flex-row o_not_editable align-items-center small">
            <span t-if="slide.is_preview and not channel.is_member" class="badge text-bg-success fw-normal m-1">Preview</span>
            <span t-if="slide.is_new_slide and not channel_progress[slide.id].get('completed')" class="badge text-bg-info badge-arrow-right fw-normal m-1">
                New
            </span>
            <span t-if="slide.question_ids" t-att-class="'badge fw-bold m-1 %s' % ('text-bg-success' if channel_progress[slide.id].get('completed') else 'text-bg-warning')">
                <i t-if="channel_progress[slide.id].get('completed')" class="fa fa-check"/>
                <t t-esc="channel_progress[slide.id].get('quiz_karma_won', 0) if channel_progress[slide.id].get('completed') else channel_progress[slide.id].get('quiz_karma_gain', 0)"/> xp
            </span>
            <span class="badge text-bg-danger fw-normal m-1" t-if="not slide.website_published">Unpublished</span>
        </div>
        <span t-if="slide.completion_time" class="flex-shrink-0 ms-2 text-muted" t-field="slide.completion_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format' : 'short'}"/>
    </li>
</template>

<!-- ======= Documentation Course content: cards / categories=======  -->
<template id="course_promoted_slide" name="Documentation Course content: promoted slide">
    <div t-attf-class="o_wslides_promoted_slide #{'mb-3' if channel.completed else ''}">
        <t t-if="not search and not search_slide_category and slide_promoted">
            <div class="position-relative bg-light rounded p-3">
                <p class="small fw-bold text-muted">Featured Content</p>
                <h2 t-field="slide_promoted.name" class="h4"/>
                <p class="o_wslides_desc_truncate_10" t-field="slide_promoted.description"/>
                <a t-if="not invite_preview and (slide_promoted.is_preview or channel.is_member or is_slides_publisher)"
                t-attf-href="/slides/slide/#{slug(slide_promoted)}#{query_string}"
                class="stretched-link btn btn-primary" title="View">View <i class="oi oi-arrow-right ms-1"/></a>
            </div>
        </t>
    </div>
</template>

<template id="course_slides_cards" name="Documentation Course content: cards / categories">
    <div t-if="not invite_preview" class="o_wslides_lesson_nav mb-4 d-flex flex-md-column flex-lg-row gap-2">
        <div class="dropdown">
            <a class="dropdown-toggle btn btn-light" type="button" id="slidesChannelDropdownSort"
                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#" role="button">
                <span>
                    <small class="d-none d-md-inline text-muted">Sort by:</small>
                    <t t-if="sorting == 'most_voted'">Most Voted</t>
                    <t t-elif="sorting == 'most_viewed'">Most Viewed</t>
                    <t t-else="">Newest</t>
                </span>
            </a>
            <div class="dropdown-menu" aria-labelledby="slidesChannelDropdownSort" role="menu">
                <a role="menuitem" t-att-href="'/slides/%s?%s' % (slug(channel), keep_query('slide_category', sorting='latest'))"
                    t-att-class="'dropdown-item %s' % ('active' if sorting and sorting == 'latest' else '')">Newest</a>
                <a role="menuitem" t-att-href="'/slides/%s?%s' % (slug(channel), keep_query('slide_category', sorting='most_voted'))"
                    t-att-class="'dropdown-item %s' % ('active' if sorting and sorting == 'most_voted' else '')">Most Voted</a>
                <a role="menuitem" t-att-href="'/slides/%s?%s' % (slug(channel), keep_query('slide_category', sorting='most_viewed'))"
                    t-att-class="'dropdown-item %s' % ('active' if sorting and sorting == 'most_viewed' else '')">Most Viewed</a>
            </div>
        </div>
        <div class="d-flex gap-2 ms-auto">
            <div class="dropdown">
                <button class="btn btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <t t-set="slide_category_keys" t-value="slide_categories.keys()"/>
                    <t t-foreach="slide_category_keys" t-as="slide_category_key">
                        <t t-if="search_slide_category == slide_category_key">
                            <span t-esc="slide_categories[slide_category_key]"/>
                        </t>
                    </t>
                    <t t-if="not search_slide_category">
                        <span>All</span>
                    </t>
                </button>
                <ul class="dropdown-menu">
                    <t t-set="slide_category_keys" t-value="slide_categories.keys()"/>
                    <t t-foreach="slide_category_keys" t-as="slide_category_key">
                        <t t-if="search_category">
                            <li t-if="search_category['nbr_%s' % slide_category_key] > 0">
                                <a t-att-href="'/slides/%s/category/%s?%s' % (slug(channel), slug(search_category), keep_query(slide_category=slide_category_key))"
                                t-att-class="'dropdown-item d-flex align-items-center justify-content-between me-1 %s' % ('active' if search_slide_category == slide_category_key else '')">
                                <t t-esc="slide_categories[slide_category_key]"/>
                                <span t-attf-class="badge ms-1 #{'text-bg-primary' if search_slide_category == slide_category_key else 'bg-light'}" t-esc="search_category['nbr_%s' % slide_category_key]"/>
                                </a>
                            </li>
                        </t>
                        <t t-else="">
                            <li t-if="channel['nbr_%s' % slide_category_key] > 0">
                                <a t-att-href="'/slides/%s?%s' % (slug(channel), keep_query(slide_category=slide_category_key))"
                                t-att-class="'dropdown-item d-flex align-items-center justify-content-between me-1 %s' % ('active' if search_slide_category == slide_category_key else '')">
                                <t t-esc="slide_categories[slide_category_key]"/>
                                <span t-attf-class="badge ms-1 #{'text-bg-primary' if search_slide_category == slide_category_key else 'bg-light'}" t-esc="channel['nbr_%s' % slide_category_key]"/>
                                </a>
                            </li>
                        </t>
                    </t>
                </ul>
            </div>
            <!-- Mobile Search -->
            <a data-bs-target="#o_wslides_search_modal"
               data-bs-toggle="modal"
               role="button"
               title="Search Products"
               href="#"
               class="btn btn-light d-sm-none"
            >
                <i class="oi oi-search" role="img"/>
            </a>
            <div
                id="o_wslides_search_modal"
                class="modal fade css_editable_mode_hidden"
                aria-hidden="true"
                tabindex="-1"
                >
                <div class="modal-dialog modal-lg pt-5">
                    <div class="modal-content mt-5 bg-transparent border-0">
                        <div class="o_container_small">
                            <t t-call="website.website_search_box_input">
                                <t t-set="search_type" t-valuef="slides"/>
                                <t t-set="action" t-valuef="/slides/#{slug(channel)}"/>
                                <t t-set="display_description" t-valuef="false"/>
                                <t t-set="display_detail" t-valuef="false"/>
                                <t t-set="placeholder">Search...</t>
                            </t>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Search for md and above -->
            <t t-call="website.website_search_box_input">
                <t t-set="_form_classes" t-value="'d-none d-sm-block'"/>
                <t t-set="search_type" t-valuef="slides"/>
                <t t-set="action" t-valuef="/slides/#{slug(channel)}"/>
                <t t-set="display_description" t-valuef="false"/>
                <t t-set="display_detail" t-valuef="false"/>
                <t t-set="placeholder">Search...</t>
            </t>
        </div>
    </div>

    <!-- Featured lesson  -->
    <t t-if="channel.promote_strategy != 'none'">
        <t t-call="website_slides.course_promoted_slide"/>
    </t>

    <div>
        <t t-if="search">
            <t t-set="search_results_number" t-value="0"/>
            <t t-foreach="category_data" t-as="category">
                <t t-set="search_results_number" t-value="search_results_number + category['total_slides']"/>
            </t>
            <div t-if="search_results_number == 0" class="alert alert-info mt-4 mb-5 text-center">
                No content was found using your search <span class="fw-bold" t-esc="search"/>.
            </div>
        </t>
        <div t-call="website_slides.course_slides_list"/>
    </div>
    <t t-if="search_category or search_uncategorized">
        <div class="d-flex justify-content-center pb-5">
            <t t-call="website_profile.pager_nobox"></t>
        </div>
    </t>
</template>

<!-- Cover Options -->
<template id="opt_slide_description_cover_top" name="Slide Description Cover Top Option" inherit_id="website_slides.course_main" active="True"/>
<template id="opt_slide_sidebar_cover_overlap" name="Slide Overlapping Cover" inherit_id="website_slides.course_main" active="True"/>

</data></odoo>
