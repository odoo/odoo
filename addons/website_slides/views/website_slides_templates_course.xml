<?xml version="1.0" ?>
<odoo><data>

<!-- Channels sub-template: header -->
<template id="course_nav" name="Course Navigation Header">
    <div t-attf-class="o_wslides_course_nav #{_navClasses}">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <!-- Desktop Mode -->
                <nav aria-label="breadcrumb" class="col-md-8 d-flex">
                    <ol class="breadcrumb p-0 m-0">
                        <li class="breadcrumb-item flex-shrink-0 d-md-none active">
                            <a href="/slides" title="Courses"><span><i class="oi oi-arrow-left me-1"/>Back</span></a>
                        </li>
                        <li class="breadcrumb-item flex-shrink-0 d-none d-md-block">
                            <a href="/slides" title="Courses">Courses</a>
                        </li>
                        <t t-set="breadcrumb_class" t-value="'breadcrumb-item %s' % ('active' if not slide else '')" />
                        <li t-att-class="'breadcrumb-item %s' % ('active d-none d-md-block' if not search_category and not search_tag and not search_slide_category and not slide else '')">
                            <a t-if="invite_preview" t-attf-href="/slides/#{channel.id}?#{keep_query('invite_hash', 'invite_partner_id')}"><span t-out="channel.name" t-att-title="channel.name"/></a>
                            <a t-else="" t-att-href="'/slides/%s' % slug(channel)"><span t-out="channel.name" t-att-title="channel.name"/></a>
                        </li>
                        <li t-att-class="breadcrumb_class" t-if="search_category">
                            <a t-if="invite_preview" t-attf-href="/slides/#{channel.id}/category/#{search_category.id}?#{keep_query('invite_hash', 'invite_partner_id')}" aria-current='page'><span t-out="search_category.name" t-att-title="search_category.name"/></a>
                            <a t-else="" t-attf-href="/slides/#{slug(channel)}/category/#{slug(search_category)}" aria-current='page'><span t-out="search_category.name" t-att-title="search_category.name"/></a>
                        </li>
                        <li t-att-class="breadcrumb_class" t-if="search_tag">
                            <a t-att-href="'/slides/%s/tag/%s' % (slug(channel), slug(search_tag))" aria-current='page'><span t-out="search_tag.name" t-att-title="search_tag.name"/></a>
                        </li>
                        <li t-att-class="breadcrumb_class" t-if="search_uncategorized">
                            <a t-if="invite_preview" t-attf-href="/slides/#{channel.id}?uncategorized=1&amp;#{keep_query('invite_hash', 'invite_partner_id')}" aria-current='page' title="Uncategorized">Uncategorized</a>
                            <a t-else="" t-attf-href="/slides/#{slug(channel)}?uncategorized=1" aria-current='page' title="Uncategorized">Uncategorized</a>
                        </li>
                        <li t-att-class="breadcrumb_class" t-if="search_slide_category">
                            <a t-att-href="'/slides/%s?slide_category=%s' % (slug(channel), search_slide_category)" aria-current='page'>
                                <span t-out="slide_categories.get('search_slide_category', '-')" t-att-title="slide_categories.get('search_slide_category', '-')"/>
                            </a>
                        </li>
                        <li t-if="slide" class="breadcrumb-item active">
                            <a t-att-href="'/slides/slide/%s' % slug(slide)"><span t-out="slide.name" t-att-title="slide.name"/></a>
                        </li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</template>


<!-- Channel main template -->
<template id='course_main' name="Course Main" track="1">
    <t t-set="head">
        <script type="module" src="/web/static/lib/pdfjs/build/pdf.js"/>
        <script type="module" src="/web/static/lib/pdfjs/build/pdf.worker.js"/>
        <script type="text/javascript" src="/website_slides/static/lib/pdfslidesviewer/PDFSlidesViewer.js"></script>
    </t>
    <t t-set="body_classname" t-value="'o_wslides_body'"/>
    <t t-set="channel_frontend_tags" t-value="channel.tag_ids.filtered(lambda tag: tag.color)"/>
    <t t-set="opt_course_cover_overlap" t-value="is_view_active('website_slides.opt_course_cover_overlap')"/>
    <t t-set="opt_course_cover_top" t-value="is_view_active('website_slides.opt_course_cover_top')"/>
    <t t-set="opt_course_cover_inside" t-value="is_view_active('website_slides.opt_course_cover_inside')"/>
    <t t-call="website.layout">
        <div id="wrap" t-attf-class="wrap mt-0">
            <div class="oe_structure oe_empty">
                <t t-if="opt_course_cover_overlap" t-call="website.record_cover" _record="channel" use_filters="True" use_size="True" use_text_align="True">
                    <div class="o_wslides_course_header position-relative container mt-md-5">
                        <t t-call="website_slides.course_nav"/>
                        <div class="d-flex flex-column">
                            <h1 class="h2" t-field="channel.name"/>
                            <div class="lead" t-field="channel.description"/>
                            <div class="d-flex flex-column justify-content-center h5 flex-grow-1 mb-md-5 o_not_editable" t-if="channel.allow_comment">
                                <t t-call="portal_rating.rating_stars_static_popup_composer"
                                    rating_avg="rating_avg"
                                    rating_total="rating_count"
                                    object="channel"
                                    token="channel.access_token"
                                    hash="message_post_hash"
                                    pid="message_post_pid"
                                    default_message="last_message"
                                    default_message_id="last_message_id"
                                    default_rating_value="last_rating_value"
                                    default_attachment_ids="last_message_attachment_ids"
                                    force_submit_url="'/mail/message/update_content' if last_message_id else False"
                                    rate_with_void_content="True"
                                    disable_composer="not channel.can_review"
                                    _link_btn_classes.f="btn-sm btn-link mx-3 o_wslides_header_text"
                                    _text_classes.f="css_editable_mode_hidden"/>
                            </div>
                        </div>
                    </div>
                </t>
                <t t-elif="opt_course_cover_top" t-call="website.record_cover" _record="channel" use_filters="True" use_size="True" use_text_align="True">
                    <div class="o_wslides_course_header position-relative container mt-md-5">
                        <t t-call="website_slides.course_nav"/>
                        <div class="d-flex flex-column">
                            <h1 class="h2" t-field="channel.name"/>
                            <div class="lead" t-field="channel.description"/>
                            <div class="d-flex flex-column justify-content-center h5 flex-grow-1 mb-md-5 o_not_editable" t-if="channel.allow_comment">
                                <t t-call="portal_rating.rating_stars_static_popup_composer"
                                    rating_avg="rating_avg"
                                    rating_count="rating_count"
                                    object="channel"
                                    token="channel.access_token"
                                    hash="message_post_hash"
                                    pid="message_post_pid"
                                    default_message="last_message"
                                    default_message_id="last_message_id"
                                    default_rating_value="last_rating_value"
                                    default_attachment_ids="last_message_attachment_ids"
                                    force_submit_url="'/mail/message/update_content' if last_message_id else False"
                                    rate_with_void_content="True"
                                    disable_composer="not channel.can_review"
                                    _link_btn_classes.f="btn-sm btn-link mx-3 o_wslides_header_text"
                                    _text_classes.f="css_editable_mode_hidden"/>
                            </div>
                        </div>
                    </div>
                </t>
            </div>

            <div t-attf-class="o_wslides_course_main #{'o_wslides_course_cover_overlap' if opt_course_cover_overlap else ''}">
                <t t-set="channel_frontend_tags" t-value="channel.tag_ids.filtered(lambda tag: tag.color)"/>
                <div class="container mb-5">
                    <div t-if="opt_course_cover_inside" class="mt-4 mb-3">
                        <t t-call="website_slides.course_nav"/>
                    </div>
                    <div class="row">
                        <div class="col-12 col-lg-7 col-xxl-8 position-relative">
                            <t t-if="opt_course_cover_inside" t-call="website.record_cover" additionnal_classes="'cover_auto h-auto p-3 rounded overflow-hidden'" _record="channel" use_filters="True" use_text_align="True">
                                <div class="o_wslides_course_header position-relative mt-4">
                                    <div class="d-flex flex-column">
                                        <h1 class="h2" t-field="channel.name"/>
                                        <div class="lead" t-field="channel.description"/>
                                    </div>
                                    <div class="d-flex flex-column justify-content-center h5 flex-grow-1 o_not_editable" t-if="channel.allow_comment">
                                        <t t-call="portal_rating.rating_stars_static_popup_composer">
                                            <t t-set="rating_avg" t-value="rating_avg"/>
                                            <t t-set="rating_count" t-value="rating_count"/>
                                            <t t-set="object" t-value="channel"/>
                                            <t t-set="token" t-value="channel.access_token"/>
                                            <t t-set="hash" t-value="message_post_hash"/>
                                            <t t-set="pid" t-value="message_post_pid"/>
                                            <t t-set="default_message" t-value="last_message"/>
                                            <t t-set="default_message_id" t-value="last_message_id"/>
                                            <t t-set="default_rating_value" t-value="last_rating_value"/>
                                            <t t-set="default_attachment_ids" t-value="last_message_attachment_ids"/>
                                            <t t-set="force_submit_url" t-value="'/mail/message/update_content' if last_message_id else False"/>
                                            <t t-set="rate_with_void_content" t-value="True"/>
                                            <t t-set="disable_composer" t-value="not channel.can_review"/>
                                            <t t-set="_link_btn_classes" t-value="'btn-sm btn-link mx-3 o_wslides_header_text'"/>
                                            <t t-set="_text_classes" t-value="'css_editable_mode_hidden'"/>
                                        </t>
                                    </div>
                                </div>
                            </t>
                            <ul t-attf-class="nav o_wslides_nav_tabs flex-nowrap #{'nav-underline mt-4 border-bottom' if not opt_course_cover_overlap else 'nav-pills'}" role="tablist" id="profile_extra_info_tablist">
                                <li class="nav-item" role="presentation">
                                    <a t-att-class="'nav-link %s' % ('active' if active_tab == 'home' else '')"
                                        id="home-tab" data-bs-toggle="pill" href="#home" role="tab" aria-controls="home"
                                        t-att-aria-selected="'true' if active_tab == 'home' else 'false'">
                                        Course
                                    </a>
                                </li>
                                <li t-if="channel.allow_comment" class="nav-item o_wslides_course_header_nav_review" role="presentation">
                                    <a t-att-class="'nav-link %s' % ('active' if active_tab == 'review' else '')"
                                        id="review-tab" data-bs-toggle="pill" href="#review" role="tab" aria-controls="review"
                                        t-att-aria-selected="'true' if active_tab == 'review' else 'false'">
                                        Reviews<t t-if="rating_count"> (<t t-out="rating_count"/>)</t>
                                    </a>
                                </li>
                            </ul>

                            <div class="tab-content py-4 o_wslides_tabs_content mb-4" id="courseMainTabContent">
                                <div t-att-class="'tab-pane fade %s' % ('show active' if active_tab == 'home' else '')" id="home" role="tabpanel" aria-labelledby="home-tab">
                                    <!-- ==== Error notification ==== -->
                                    <div t-if="access_error == 'course_content'" class="alert alert-danger alert-dismissable mb-1" role="alert">
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        You need to join this course to access "<t t-out="access_error_content_name"/>".
                                    </div>
                                    <!-- ==== Invitation Banner ==== -->
                                    <div t-if="invite_preview" class="o_wslides_identification_banner alert alert-success mb-4 p-2 px-3" role="alert">
                                        You have been invited to this course.
                                        <a class="o_underline" t-attf-href="/slides/#{channel.id}/identify?#{keep_query('invite_partner_id', 'invite_hash')}">
                                            <t t-if="is_partner_without_user">Sign up</t>
                                            <t t-else="">Log in</t>
                                        </a> to browse preview content and enroll.
                                    </div>
                                    <!-- Featured lesson  -->
                                    <t t-if="channel.channel_type == 'documentation' and channel.promote_strategy != 'none'">
                                        <t t-call="website_slides.course_promoted_slide"/>
                                    </t>
                                    <t t-call="website_slides.course_slides_list"/>
                                </div>
                                <div t-if="channel.allow_comment" t-att-class="'tab-pane fade %s' % ('show active' if active_tab == 'review' else '')" id="review" role="tabpanel" aria-labelledby="review-tab">
                                    <t t-call="portal.message_thread"
                                        object="channel"
                                        hash="message_post_hash"
                                        pid="message_post_pid"
                                        display_rating="True"
                                        disable_composer="True"/>
                                </div>
                            </div>
                        </div>
                        <!-- Sidebar -->
                        <div class="col-12 col-lg-5 col-xxl-4 mt-3 mt-md-0">
                            <t t-call="website_slides.course_sidebar"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</template>

<template id="course_sidebar" name="Course Sidebar (infos, CTA)">
    <!-- Channel sidebar (aka general information + CTAs) -->
    <div class="o_wslides_course_sidebar sticky-md-top card ms-lg-4">
        <div class="card-body">
            <t t-call="website_slides.course_join"/>
            <ul class="list-group list-group-flush">
                <li t-if="channel.total_time" class="list-group-item d-flex align-items-center px-0">
                    <i class="fa fa-fw fa-clock-o me-1 text-muted" aria-hidden="true"/>
                    <span>Duration</span>
                    <span class="ms-auto" t-out="channel.total_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format': 'long'}"/>
                </li>
                <li t-if="channel.total_slides" class="list-group-item d-flex align-items-center px-0">
                    <i class="fa fa-fw fa-file-text me-1 text-muted" aria-hidden="true"/>
                    <span>Lessons</span>
                    <span class="ms-auto" t-out="channel.total_slides"/>
                </li>
                <li class="list-group-item d-flex align-items-center px-0">
                    <i class="fa fa-fw fa-mortar-board me-1 text-muted" aria-hidden="true"/>
                    <span>Certificate</span>
                    <span class="ms-auto" t-if="channel.slide_ids.filtered(lambda s: s.slide_category == 'certification')">Yes</span>
                    <span class="ms-auto" t-else="">No</span>
                </li>
                <li t-if="channel.user_id" class="list-group-item d-flex align-items-center px-0">
                    <i class="oi fa-fw oi-user me-1 text-muted" aria-hidden="true"/>
                    <span>Responsible</span>
                    <span class="ms-auto" t-out="channel.user_id.display_name"/>
                </li>
                <li class="list-group-item d-flex align-items-center px-0">
                    <i class="oi fa-fw oi-activity me-1 text-muted" aria-hidden="true"/>
                    <span>Updated</span>
                    <span class="ms-auto" t-out="channel.slide_last_update" t-options="{'widget': 'date'}"/>
                </li>
                <li class="list-group-item d-flex align-items-center px-0">
                    <i class="oi fa-fw oi-users me-1 text-muted" aria-hidden="true"/>
                    <span>Members</span>
                    <span class="ms-auto" t-out="channel.members_count"/>
                </li>
                <li t-if="channel_frontend_tags" class="list-group-item d-flex px-0">
                    <div class="flex-shrink-0 me-5">
                        <i class="fa fa-fw fa-tags me-1 text-muted" aria-hidden="true"/>
                        <span>Tags</span>
                    </div>
                    <div class="ms-auto text-end">
                        <t t-foreach="channel_frontend_tags" t-as="channel_tag">
                            <span t-out="channel_tag.name"/><t t-if="not channel_tag_last">, </t>
                        </t>
                    </div>
                </li>
            </ul>
            <button t-if="channel.is_member"
                    class="btn btn-secondary w-100 mt-3 o_wslides_js_channel_unsubscribe"
                    t-att-data-channel-id="channel.id"
                    t-att-data-is-follower="channel.message_is_follower"
                    t-att-data-enroll="channel.enroll"
                    t-att-data-visibility="channel.visibility">
                <i class="fa fa-sign-out me-2"/>
                Leave course
            </button>
        </div>
    </div>
</template>

<template id="course_join">
    <div class="o_wslides_js_course_join d-grid mb-3">
        <t t-if="(invite_preview and channel.enroll in ['public', 'invite']) or (not channel.is_member and (channel.enroll == 'public' or (channel.is_member_invited and channel.enroll == 'invite')))">
           <div t-if="not invite_preview and channel.prerequisite_channel_ids and not channel.prerequisite_user_has_completed" class="text-center">
                <div class="alert alert-light mb-0 text-start">
                    <h6><i class="fa fa-info-circle me-1" aria-hidden="true"/>Recommended courses</h6>
                    <div class="small">The following courses are recommended before starting:</div>
                    <div>
                        <ul class="small">
                            <li t-foreach="channel.prerequisite_channel_ids" t-as="prerequisite_course">
                                <a t-attf-href="/slides/{{prerequisite_course.id}}"
                                    t-att-class="'alert-link text-decoration-line-through disabled text-muted' if prerequisite_course.completed else 'alert-link'">
                                    <t t-out="prerequisite_course.name"/>
                                    <i class="fa fa-check ms-1 text-success" aria-hidden="true" t-if="prerequisite_course.completed"/>
                                </a>
                            </li>
                        </ul>
                        <a role="button" class="o_wslides_js_course_join_link btn btn-primary d-grid"
                            title="Start Course" aria-label="Start Course" href="#"
                            t-att-data-channel-id="channel.id"
                            t-att-data-channel-enroll="channel.enroll"
                            t-att-data-invite-hash="invite_hash"
                            t-att-data-invite-partner-id="invite_partner_id"
                            t-att-data-invite-preview="invite_preview"
                            t-att-data-is-member-or-invited="channel.is_member or channel.is_member_invited"
                            t-att-data-is-partner-without-user="is_partner_without_user">
                            Start anyway
                        </a>
                    </div>
                </div>
            </div>
            <t t-else="">
            <h4>Free</h4>
            <a role="button" class="btn btn-primary o_wslides_js_course_join_link"
               title="Start Course" aria-label="Start Course" href="#"
               t-att-data-channel-id="channel.id"
               t-att-data-channel-enroll="channel.enroll"
               t-att-data-invite-hash="invite_hash"
               t-att-data-invite-partner-id="invite_partner_id"
               t-att-data-invite-preview="invite_preview"
               t-att-data-is-member-or-invited="channel.is_member or channel.is_member_invited"
               t-att-data-is-partner-without-user="is_partner_without_user">
                <span class="cta-title text_small_caps">
                    <t t-if="channel.channel_type == 'documentation'">Start this Course</t>
                    <t t-else="">Join this Course</t>
                    </span>
                </a>
            </t>
        </t>
        <div t-elif="not invite_preview and channel.enroll == 'invite' and not channel.is_member and not channel.is_member_invited" class="text-center">
            <div t-if="channel.prerequisite_channel_ids and not channel.prerequisite_user_has_completed" class="text-center">
                <div class="alert my-0 bg-100">
                    <h6>
                        <i class="fa fa-lock"/>
                        <span>Course Locked</span>
                    </h6>
                    <div>
                        <small>
                            Finish
                            <t t-foreach="channel.prerequisite_channel_ids" t-as="prerequisite_course">
                                <a t-attf-href="/slides/{{prerequisite_course.id}}"
                                   t-att-class="'text-decoration-line-through pe-none' if prerequisite_course.completed else ''">
                                   <t t-out="prerequisite_course.name"/>
                                </a>
                                <t t-if="not prerequisite_course_last">, </t>
                            </t>
                            to unlock
                        </small>
                        <small t-if="is_public_user">
                            or <a t-att-href="'/web/login?redirect=/slides/%s' % (slug(channel))">sign in</a> to request access
                        </small>
                        <small t-else="">
                            or <a href="#" class="o_wslides_js_channel_enroll" t-att-data-channel-id="channel.id">request</a> direct access
                        </small>
                    </div>
                </div>
            </div>
            <div t-else="" t-attf-class="alert alert-info mb-0 #{'o_wslides_js_channel_enroll' if not is_public_user and channel.user_id else ''}"
                t-att-data-channel-id="channel.id">
                <i class="fa fa-lock me-1" aria-hidden="true"/>This course is private
                <div t-if="is_public_user">
                    <small>
                        Please <a t-att-href="'/web/login?redirect=/slides/%s' % (slug(channel))" class="alert-link">sign in</a> to contact responsible
                    </small>
                </div>
                <div t-elif="channel.has_requested_access">
                    <small class="text-success">
                        Request already sent
                    </small>
                </div>
                <div t-else="" class="o_wslides_enroll_msg">
                    <small>
                        <div t-field="channel.enroll_msg"/>
                    </small>
                </div>
            </div>
        </div>
        <t t-elif="channel.is_member">
            <div t-attf-class="alert #{('alert-success' if channel.completed else 'alert-light')} d-flex flex-column mb-0" role="alert">
                <h6>
                    <t t-if="not channel.completed">You're enrolled!</t>
                    <span t-else="" class="o_wslides_channel_completion_completed"><i class="fa fa-check me-1" aria-hidden="true"/>Course completed</span>
                </h6>
                <small t-if="channel.completed and completion_date">You finished this course on <t t-out="completion_date" t-options="{'widget': 'date', 'format': 'MMM DD YYYY'}"/>.</small>
                <div t-attf-class="o_wslides_channel_completion_progressbar w-100 align-items-center #{'d-none' if channel.completed else 'd-flex'}">
                    <div class="progress flex-grow-1" style="--progress-height: .5rem;">
                        <div class="progress-bar" role="progressbar" t-attf-style="width: #{channel.completion}%" t-att-aria-valuenow="channel.completion" aria-valuemin="0" aria-valuemax="100" aria-label="Progress bar"></div>
                    </div>
                    <div class="ms-3 small">
                        <span class="o_wslides_progress_percentage" t-out="channel.completion"/>% complete
                    </div>
                </div>
            </div>
        </t>
    </div>
</template>

<template id="course_slides_list" name="Training Course content: list">
    <div class="mb-5 o_wslides_slides_list" t-att-data-channel-id="channel.id">
        <ul class="o_wslides_js_slides_list_container list-unstyled">
            <t t-set="j" t-value="0"/>
            <t t-set="category_counter" t-value="0"/>
            <t t-foreach="category_data" t-as="category">
                <t t-set="category_id" t-value="category['id'] if category['id'] else None"/>
                <li t-if="category['total_slides'] or (category_id and channel.can_publish)" t-att-class="('mt-5 ' if category_counter > 0 else 'mt-3 ') + 'o_wslides_slide_list_category o_wslides_js_list_item' if category_id else ''" t-att-data-slide-id="category_id" t-att-data-category-id="category_id">
                    <div t-if="category_id" t-att-data-category-id="category_id"
                         class="o_wslides_slide_list_category_header">
                        <h2 class="h5">
                            <t t-set="category_counter" t-value="category_counter + 1"/>
                            <t t-out="str(category_counter).zfill(1)"/>.
                            <span t-field="category['category'].name"/>
                        </h2>
                    </div>
                    <ul t-att-data-category-id="category_id" class="list-unstyled">
                        <t t-foreach="category['slides']" t-as="slide">
                            <t t-call="website_slides.course_slides_list_slide" />
                            <t t-set="j" t-value="j+1"/>
                        </t>
                    </ul>
                </li>
            </t>
        </ul>
        <t t-if="not channel.slide_ids and channel.can_publish" t-call="website_slides.course_slides_list_sample"/>
        <t t-elif="slide_count == 0 and not channel.can_publish" t-call="website_slides.course_slides_list_placeholder"/>
    </div>
    <div t-field="channel.description_html"/>
</template>

<template id="course_slides_list_placeholder" name="Course Placeholder Content">
    <div class="my-5 d-flex">
        <div class="mx-auto">
            <img class="mx-auto mb-3" src="/web/static/img/smiling_face.svg"/>
            <div class="text-muted fw-bold">No lessons are available yet.</div>
        </div>
    </div>
</template>

<template id="course_slides_list_sample" name="Course Sample Content">
    <ul class="list-unstyled mt-3" style="opacity: 50%;">
        <li class="o_wslides_slide_list_category mb-2">
            <div class="o_wslides_slide_list_category_header position-relative d-flex justify-content-between align-items-center mt8 bg-white shadow-sm border-bottom-0 py-2">
                <div class="d-flex align-items-center ps-3">
                    <span class="text-muted">Common tasks for a computer scientist</span>
                </div>
            </div>
            <ul class="list-unstyled pb-1 border-top card">
                <div class="h5 o_ribbon_right bg-primary text-uppercase">Sample</div>
                <li class="o_wslides_slides_list_slide bg-white-50 border-top-0 d-flex align-items-center ps-2 py-1 pe-2">
                    <i class="fa fa-file-text py-2 mx-2"/>
                    <div class="text-truncate me-auto">
                        <span>Asking Question</span>
                    </div>
                    <div class="d-flex flex-row">
                        <span class="badge fw-bold m-1 text-bg-warning">
                            <i class="fa fa-fw fa-flag"/> 10 xp
                        </span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide bg-white-50 border-top-0 d-flex align-items-center ps-2 py-1 pe-2">
                    <i class="fa fa-question-circle py-2 mx-2"/>
                    <div class="text-truncate me-auto">
                        <span>Asking the right question</span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide bg-white-50 border-top-0 d-flex align-items-center ps-2 py-1 pe-2">
                    <i class="fa fa-file-pdf-o py-2 mx-2"/>
                    <div class="text-truncate me-auto">
                        <span>Answering Questions</span>
                    </div>
                    <div class="d-flex flex-row">
                        <span class="badge text-bg-info badge-arrow-right fw-normal m-1">New</span>
                    </div>
                </li>
            </ul>
        </li>
        <li class="o_wslides_slide_list_category mb-2">
            <div class="o_wslides_slide_list_category_header position-relative d-flex justify-content-between align-items-center mt8 bg-white shadow-sm border-bottom-0 py-2">
                <div class="d-flex align-items-center ps-3">
                    <span class="text-muted">Parts of computer science</span>
                </div>
            </div>
            <ul class="list-unstyled pb-1 border-top card">
                <div class="h5 o_ribbon_right bg-primary text-uppercase">Sample</div>
                <li class="o_wslides_slides_list_slide bg-white-50 border-top-0 d-flex align-items-center ps-2 py-1 pe-2">
                    <i class="fa fa-file-pdf-o py-2 mx-2"/>
                    <div class="text-truncate me-auto">
                        <span>Mathematics</span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide bg-white-50 border-top-0 d-flex align-items-center ps-2 py-1 pe-2">
                    <i class="fa fa-file-pdf-o py-2 mx-2"/>
                    <div class="text-truncate me-auto">
                        <span>Science</span>
                    </div>
                </li>
                <li class="o_wslides_slides_list_slide bg-white-50 border-top-0 d-flex align-items-center ps-2 py-1 pe-2">
                    <i class="fa fa-play py-2 mx-2"/>
                    <div class="text-truncate me-auto">
                        <span>Logic</span>
                    </div>
                    <div class="d-flex flex-row">
                        <span class="badge text-bg-success fw-normal m-1">Preview</span>
                    </div>
                </li>
            </ul>
        </li>
    </ul>
</template>

<template id="course_slides_list_slide" name="Slide template for a training channel">
    <li t-att-index="j" t-att-data-slide-id="slide.id" t-att-data-category-id="category_id" class="o_wslides_slides_list_slide o_wslides_js_list_item d-flex py-2 border-bottom border-light-subtle">
        <t t-if="channel.is_member or channel.can_publish" t-call="website_slides.slide_sidebar_done_button"
            is_member="channel.is_member"
            slide_completed="channel_progress[slide.id].get('completed')"
            use_slide_icon="False"/>
        <a t-if="not invite_preview and (slide.is_preview or channel.is_member or channel.can_publish)" class="o_wslides_js_slides_list_slide_link d-flex flex-grow-1 align-items-center text-decoration-none text-reset" t-attf-href="/slides/slide/#{slug(slide)}">
            <i t-attf-class="fa #{slide.slide_icon_class} me-2"/>
            <small t-field="slide.name" class="me-auto"/>
            <div class="d-flex flex-row o_not_editable align-items-center">
                <span t-if="slide.is_new_slide and not channel_progress[slide.id].get('completed')" class="badge text-bg-info badge-arrow-right fw-normal mx-1">
                    New
                </span>
                <span class="badge text-bg-danger fw-normal m-1" t-if="not slide.website_published">Unpublished</span>
            </div>
            <small t-if="slide.completion_time" t-out="slide.completion_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format': 'narrow'}"/>
            <i t-if="slide.is_preview and not channel.is_member">
                <i class="ms-2 fa fa-fw fa-eye text-primary"/>
            </i>
        </a>
        <div t-else="" class="d-flex align-items-center flex-grow-1">
            <i t-attf-class="fa #{slide.slide_icon_class} me-2 text-muted"/>
            <small t-out="slide.name" class="me-auto text-muted"/>
            <div class="d-flex flex-row o_not_editable align-items-center">
                <t t-if="slide.is_preview and not channel.is_member">
                    <span class="badge text-bg-success fw-normal m-1"><span>Preview</span></span>
                </t>
                <span t-if="slide.is_new_slide and not channel_progress[slide.id].get('completed')" class="badge text-bg-info badge-arrow-right fw-normal mx-1">
                    New
                </span>
                <span t-if="slide.question_ids" t-att-class="'badge fw-bold m-1 %s' % ('text-bg-success' if channel_progress[slide.id].get('completed') else 'text-bg-warning')">
                    <i t-attf-class="fa fa-fw #{'fa-check' if channel_progress[slide.id].get('completed') else 'fa-flag'}"/>
                    <t t-out="channel_progress[slide.id].get('quiz_karma_won', 0) if channel_progress[slide.id].get('completed') else channel_progress[slide.id].get('quiz_karma_gain', 0)"/> xp
                </span>
                <span class="badge text-bg-danger fw-normal m-1" t-if="not slide.website_published">Unpublished</span>
            </div>
            <small t-if="slide.completion_time" t-out="slide.completion_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format': 'narrow'}"/>
            <i class="ms-2 fa fa-fw fa-lock text-muted"/>
        </div>
    </li>
</template>

<!-- ======= Documentation Course content: cards / categories=======  -->
<template id="course_promoted_slide" name="Documentation Course content: promoted slide">
    <div class="o_wslides_promoted_slide">
        <div t-if="not search and not search_slide_category and slide_promoted" class="container py-1 my-2">
            <div class="card flex-row gap-4 p-4">
                <div class="d-flex flex-column justify-content-center align-items-start">
                    <span class="badge text-bg-primary mb-2"><i class="fa fa-star me-1" aria-hidden="true"/>Promoted content</span>
                    <h4 t-field="slide_promoted.name"/>
                    <p t-field="slide_promoted.description"/>
                    <a t-if="not invite_preview and (slide_promoted.is_preview or channel.is_member or is_slides_publisher)"
                    t-attf-href="/slides/slide/#{slug(slide_promoted)}#{query_string}"
                    t-att-title="slide_promoted.name" class="btn btn-primary align-self-lg-start">Start lesson <i class="oi oi-arrow-right ms-2"/></a>
                </div>
            </div>
        </div>
    </div>
</template>

<template id='lesson_card' name="Lesson Card">
    <div class="card w-100 o_wslides_lesson_card mb-4">
        <t t-if="slide.is_new_slide and not channel_progress[slide.id].get('completed')" t-call="website_slides.course_card_information"/>
        <t t-set="can_access" t-value="not invite_preview and (slide.is_preview or channel.is_member or channel.can_publish)"/>
        <a t-if="can_access" t-attf-href="/slides/slide/#{slug(slide)}#{query_string}" t-title="slide.name" style="height:150px">
            <div t-field="slide.image_1920" t-options="{'widget': 'image', 'preview_image': 'image_512'}" class="o_wslides_background_image h-100"/>
        </a>
        <div t-else="" class="o_wslides_background_image" style="height:150px">
            <div t-field="slide.channel_id.image_1920" t-options="{'widget': 'image', 'preview_image': 'image_512'}" class="o_wslides_background_image h-100"/>
        </div>
        <i t-if="channel_progress[slide.id].get('completed')" class="position-absolute py-1 px-2 h5 fa fa-check-circle text-primary" style="right:0; top:0;"/>

        <div class="card-body d-flex flex-column px-3">
            <a t-if="can_access" class="card-title h5 o_wslides_desc_truncate_2" t-attf-href="/slides/slide/#{slug(slide)}#{query_string}" t-out="slide.name"/>
            <span t-else="" class="card-title h5 o_wslides_desc_truncate_2 text-muted" t-out="slide.name"/>
            <div class="text-muted o_wslides_desc_truncate_2 mb-2" t-if="slide.is_preview or (not slide.is_published and user.has_group('website_slides.group_website_slides_officer'))">
                <span t-if="slide.is_preview" class="badge text-bg-info">Preview</span>
                <span t-if="not slide.is_published and channel.can_publish" class="badge text-bg-danger">Unpublished</span>
            </div>
            <div class="card-text mb-auto">
                <div class="o_wslides_desc_truncate_3 fw-light oe_no_empty" t-field="slide.description"/>
            </div>
            <div class="text-muted o_wslides_desc_truncate_2 my-2">
                <t t-foreach="slide.tag_ids" t-as="tag">
                    <h4 t-if="invite_preview" class="badge text-bg-info" t-out="tag.name"/>
                    <a t-else="" t-attf-href="/slides/#{slug(slide.channel_id)}/tag/#{slug(tag)}" class="badge text-bg-primary" t-out="tag.name"/>
                </t>
            </div>
            <span t-if="channel.is_member and channel_progress[slide.id].get('completed')" class="badge text-bg-success align-self-start"><i class="fa fa-check me-1"/>Completed</span>
        </div>
        <div class="card-footer bg-white text-600">
            <div class="d-flex align-items-center small">
                <span class="fw-bold me-auto" t-field="slide.completion_time" t-options='{"widget": "float_time"}'/>
                <div class="o_wslides_js_slide_like">
                    <span t-attf-class="d-inline-block text-center o_wslides_js_slide_like_up #{'disabled' if not channel.can_vote else ''}" tabindex="0" data-bs-toggle="popover" t-att-data-slide-id="slide.id" t-att-data-user-vote="slide.user_vote">
                        <i t-attf-class="fa fa-1x #{'fa-thumbs-up' if slide.user_vote == 1 else 'fa-thumbs-o-up'}" role="img" aria-label="Likes" title="Like"></i>
                        <span t-field="slide.likes" t-options="{'format_decimalized_number': True}"/>
                    </span>
                    <span t-attf-class="d-inline-block text-center ms-1 o_wslides_js_slide_like_down #{'disabled' if not channel.can_vote else ''}" tabindex="0" data-bs-toggle="popover" t-att-data-slide-id="slide.id" t-att-data-user-vote="slide.user_vote">
                        <i t-attf-class="fa fa-1x #{'fa-thumbs-down' if slide.user_vote == -1 else 'fa-thumbs-o-down'}" role="img" aria-label="Dislikes" title="Dislike"></i>
                        <span t-field="slide.dislikes" t-options="{'format_decimalized_number': True}"/>
                    </span>
                </div>
            </div>
        </div>
    </div>
</template>

<!-- (Option) Course: Overlap
    Display the cover image and the content in the course page
-->
<template id="opt_course_cover_overlap" name="Cover Overlap" inherit_id="website_slides.course_main"/>

<!-- (Option) Course: Top
    Display the cover image at the top of the course page
-->
<template id="opt_course_cover_top" name="Cover Top" inherit_id="website_slides.course_main" active="False"/>

<!-- (Option) Course: Inside Content
    Display the course content inside the cover image
-->
<template id="opt_course_cover_inside" name="Cover Inside" inherit_id="website_slides.course_main" active="False"/>

</data></odoo>
