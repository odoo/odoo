<?xml version="1.0" ?>
<odoo><data>

<!-- Channels home template -->
<template id='courses_home' name="Odoo Courses Homepage">
    <t t-set="body_classname" t-value="'o_wslides_body'"/>
    <t t-call="website.layout">
        <div id="wrap" class="wrap o_wslides_wrap my-4">
            <t t-set="opt_slides_list_columns" t-value="is_view_active('website_slides.opt_slides_list_columns')"/>
            <div class="oe_structure oe_empty"/>
            <div class="container o_wslides_home_main">
                <div class="row">
                    <t t-set="has_side_column" t-value="is_view_active('website_slides.toggle_leaderboard')"/>
                    <div t-att-class="'col-12 col-lg-8 col-xl-9 pe-lg-5' if has_side_column else 'col'">
                        <div class="o_wprofile_email_validation_container">
                            <t t-call="website_profile.email_validation_banner">
                                <t t-set="redirect_url" t-value="'/slides'"/>
                                <t t-set="additional_validation_email_message"> and join this Community</t>
                                <t t-set="additional_validated_email_message"> You may now participate in our eLearning.</t>
                            </t>
                        </div>
                        <section class="d-flex flex-column flex-lg-row align-items-lg-center gap-2 mb-3">
                            <div class="d-flex align-items-center gap-2">
                                <a class="o_wslides_home_all_slides btn btn-light" href="/slides/all">All courses</a>
                                <t t-call="website.website_search_box_input">
                                    <t t-set="_form_classes" t-valuef="d-none d-md-block d-lg-none flex-grow-1 me-3"/>
                                    <t t-set="search_type" t-valuef="slides"/>
                                    <t t-set="action" t-valuef="/slides/all"/>
                                    <t t-set="display_description" t-valuef="true"/>
                                    <t t-set="display_detail" t-valuef="false"/>
                                    <t t-set="placeholder">Search courses...</t>
                                    <input type="hidden" name="prevent_redirect" value="True"/>
                                </t>
                                <a class="btn d-block d-lg-none ms-auto p-0" data-bs-toggle="offcanvas" href="#o_wslides_overview_offcanvas" role="button" aria-controls="o_wslides_overview_offcanvas">
                                    <t t-call="website_slides.slides_misc_user_image">
                                        <t t-set="img_class" t-value="'o_wslides_user_avatar rounded-circle'"/>
                                    </t>
                                </a>
                            </div>
                            <t t-call="website.website_search_box_input">
                                <t t-set="_form_classes" t-valuef="d-md-none d-lg-block ms-lg-auto"/>
                                <t t-set="search_type" t-valuef="slides"/>
                                <t t-set="action" t-valuef="/slides/all"/>
                                <t t-set="display_description" t-valuef="true"/>
                                <t t-set="display_detail" t-valuef="false"/>
                                <t t-set="placeholder">Search courses...</t>
                                <input type="hidden" name="prevent_redirect" value="True"/>
                            </t>
                        </section>
                        <div t-if="invite_error_msg" role="alert" class="o_not_editable alert alert-danger text-center" t-esc="invite_error_msg"/>
                        <div class="o_wslides_home_content_section mb-5"
                            t-if="not channels_popular">
                            <p class="h2">No Course created yet.</p>
                            <p groups="website_slides.group_website_slides_officer">Click on "New" in the top-right corner to write your first course.</p>
                        </div>
                        <t t-if="channels_my">
                            <div class="o_wslides_home_content_section mb-5">
                                <h2 class="h5 mb-0">My courses</h2>
                                <ul class="list-group list-group-flush">
                                    <t t-foreach="channels_my" t-as="channel">
                                        <t t-call="website_slides.my_courses"/>
                                    </t>
                                </ul>
                            </div>
                        </t>
                        <div class="o_wslides_home_content_section mb-5"
                            t-if="channels_popular">
                            <h2 class="h5 mb-3">Most popular courses</h2>
                            <div class="row g-4 g-lg-3 g-xxl-4">
                                <t t-foreach="channels_popular" t-as="channel">
                                    <t t-call="website_slides.course_card"/>
                                </t>
                            </div>
                        </div>
                        <div class="o_wslides_home_content_section mb-3"
                            t-if="channels_newest">
                            <h2 class="h5 mb-3">Newest courses</h2>
                            <div class="row g-4 g-lg-3 g-xxl-4">
                                <t t-foreach="channels_newest" t-as="channel">
                                    <t t-call="website_slides.course_card"/>
                                </t>
                            </div>
                        </div>
                    </div>
                    <t t-if="is_public_user">
                        <div t-if="has_side_column" class="col-lg-3 order-3 order-lg-2">
                            <t t-call="website_slides.slides_home_users_small"/>
                        </div>
                    </t>
                    <div t-else="" class="col-lg-4 col-xl-3 d-none d-lg-block">
                        <t t-set="has_side_column" t-value="True"/>
                        <div class="o_wslides_home_aside_loggedin d-flex flex-column gap-4">
                            <div t-call="website_slides.slides_home_user_profile_small"/>
                            <div t-call="website_slides.slides_home_user_achievements_small"/>
                            <div t-call="website_slides.slides_home_achievements_small"/>
                            <div t-call="website_slides.slides_home_users_small"/>
                        </div>
                    </div>
                    <div class="offcanvas offcanvas-end" tabindex="-1" id="o_wslides_overview_offcanvas" aria-labelledby="o_wslides_overview_offcanvas_header">
                        <div class="offcanvas-header">
                            <h2 class="h5 offcanvas-title" id="o_wslides_overview_offcanvas_header">Overview</h2>
                            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"/>
                        </div>
                        <div class="offcanvas-body o_wslides_home_aside_loggedin d-flex flex-column gap-4">
                            <t t-if="is_public_user and has_side_column">
                                <t t-call="website_slides.slides_home_users_small"/>
                            </t>
                            <t t-else="">
                                <div t-call="website_slides.slides_home_user_profile_small"/>
                                <div t-call="website_slides.slides_home_user_achievements_small"/>
                                <div t-call="website_slides.slides_home_achievements_small"/>
                                <div t-call="website_slides.slides_home_users_small"/>
                            </t>
                        </div>
                    </div>
                </div>
            </div>
            <t t-call="website_slides.courses_footer"></t>
        </div>
    </t>
</template>

<!-- Channel all/main template -->
<template id='courses_all' name="Odoo All Courses">
    <t t-set="body_classname" t-value="'o_wslides_body o_wslides_all_courses'"/>
    <t t-call="website.layout">
        <div id="wrap" class="wrap o_wslides_wrap my-4">
            <t t-set="opt_slides_list_columns" t-value="is_view_active('website_slides.opt_slides_list_columns')"/>
            <div class="container">
                <section class="mb-3">
                    <div class="d-flex flex-column flex-md-row gap-2">
                        <a href="/slides" class="d-flex align-items-center me-auto text-decoration-none text-reset">
                            <i class="oi oi-chevron-left me-1"/>
                            <h1 class="h4 mb-0">
                                <t t-if="search_my">
                                    My Courses
                                </t>
                                <t t-elif="search_slide_category == 'certification'">
                                    Certifications
                                </t>
                                <t t-else="">
                                    All courses
                                </t>
                            </h1>
                        </a>
                        <t t-set="search_tag_groups" t-value="search_tags.mapped('group_id')"/>
                        <div class="d-none d-lg-block">
                            <t t-foreach="tag_groups" t-as="tag_group">
                                <t t-set="group_frontend_tags" t-value="tag_group.tag_ids.filtered(lambda tag: tag.color)"/>
                                <t t-set="active_tags" t-value="search_tags.filtered(lambda tag: tag.group_id == tag_group)"/>
                                <t t-if="group_frontend_tags">
                                    <a t-att-class="'dropdown-toggle btn btn-light %s' % ('active' if tag_group in search_tag_groups else '')"
                                        href="/slides/all"
                                        t-att-data-bs-target="'#navToogleTagGroup%s' % tag_group.id"
                                        role="button" data-bs-toggle="dropdown"
                                        aria-haspopup="true" aria-expanded="false">
                                        <t t-out="tag_group.name"/>
                                        <span t-if="len(active_tags)" t-out="len(active_tags)" class="badge bg-primary ms-1"/>
                                    </a>
                                    <div class="dropdown-menu" t-att-id="'navToogleTagGroup%s' % tag_group.id">
                                        <t t-foreach="group_frontend_tags" t-as="tag">
                                            <span t-att-class="'post_link cursor-pointer dropdown-item %s' % ('active' if tag in search_tags else '')"
                                                t-att-data-post="slide_query_url(tag=slugify_tags(search_tags.ids, toggle_tag_id=tag.id), my=search_my, search=search_term, slide_category=search_slide_category, prevent_redirect=True)"
                                                t-esc="tag.name"/>
                                        </t>
                                    </div>
                                </t>
                            </t>
                        </div>
                        <div id="o_wslides_index_offcanvas" class="o_website_offcanvas offcanvas offcanvas-end d-lg-none p-0 overflow-visible" aria-labelledby="o_wslides_index_offcanvas_header">
                            <div class="offcanvas-header">
                                <h5 class="offcanvas-title" id="o_wslides_index_offcanvas_header">Filters</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"/>
                            </div>
                            <div class="offcanvas-body p-0">
                                <div class="accordion accordion-flush">
                                    <div class="accordion-item" t-foreach="tag_groups" t-as="tag_group">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed"
                                                type="button"
                                                data-bs-toggle="collapse"
                                                t-attf-aria-controls="o_wslide_offcanvas_cat_#{tag_group.id}"
                                                t-att-data-bs-target="'.o_wslide_offcanvas_cat_%s' % tag_group.id"
                                                aria-expanded="false">
                                                <t t-out="tag_group.name"/>
                                            </button>
                                        </h2>
                                        <div t-attf-id="o_wslide_offcanvas_cat_#{tag_group.id}" t-attf-class="o_wslide_offcanvas_cat_#{tag_group.id} accordion-collapse collapse">
                                            <div class="accordion-body pt-0">
                                                <t t-set="group_frontend_tags" t-value="tag_group.tag_ids.filtered(lambda tag: tag.color)"/>
                                                <t t-set="active_tags" t-value="search_tags.filtered(lambda tag: tag.group_id == tag_group)"/>
                                                <ul class="list-group list-group-flush">
                                                    <t t-foreach="group_frontend_tags" t-as="tag">
                                                        <li t-if="tag.color" class="list-group-item border-0 px-0">
                                                            <div t-att-class="'post_link cursor-pointer dropdown-item %s' % ('active' if tag in search_tags else '')"
                                                                t-att-data-post="slide_query_url(tag=slugify_tags(search_tags.ids, toggle_tag_id=tag.id), my=search_my, search=search_term, slide_category=search_slide_category, prevent_redirect=True)"
                                                                t-att-title="tag.name">
                                                                <div class="form-check">
                                                                    <input class="form-check-input pe-none" type="checkbox" t-attf-name="#{tag.color}" t-att-checked="tag in search_tags"/>
                                                                    <label class="form-check-label" t-attf-for="#{tag.color}" t-out="tag.name"/>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </t>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex gap-2">
                            <t t-call="website.website_search_box_input">
                                <t t-set="_form_classes" t-valuef="flex-grow-1"/>
                                <t t-set="search_type" t-valuef="slides"/>
                                <!-- No action: remain on same URL -->
                                <t t-set="display_description" t-valuef="true"/>
                                <t t-set="display_detail" t-valuef="false"/>
                                <t t-set="placeholder">Search courses...</t>
                                <t t-set="search" t-value="original_search or search_term"/>
                                <input t-if="search_my" type="hidden" name="my" t-att-value="1"/>
                                <input t-if="search_slide_category" type="hidden" name="slide_category" t-att-value="search_slide_category" />
                                <input type="hidden" name="prevent_redirect" value="True"/>
                            </t>
                            <button class="o_not_editable btn btn-light position-relative d-lg-none"
                                data-bs-toggle="offcanvas"
                                data-bs-target="#o_wslides_index_offcanvas">
                                <i class="fa fa-sliders"/>
                                <span t-if="search_term or search_tags" class="position-absolute top-0 start-100 translate-middle rounded-circle bg-danger p-1"><span class="d-none">Active tags</span></span>
                            </button>
                        </div>
                    </div>
                    <div class="o_wprofile_email_validation_container mb16 mt16">
                        <t t-call="website_profile.email_validation_banner">
                            <t t-set="redirect_url" t-value="'/slides'"/>
                            <t t-set="additional_validation_email_message"> and join this Community</t>
                            <t t-set="additional_validated_email_message"> You may now participate in our eLearning.</t>
                        </t>
                    </div>
                    <!-- Display tags -->
                    <t t-if="search_my">
                        <span class="align-items-baseline border d-inline-flex ps-2 rounded mb-2">
                        <i class="fa fa-tag me-2 text-muted"/>
                        My Courses
                        <span t-att-data-post="slide_query_url(tag=slugify_tags(search_tags.ids), search=search_term, prevent_redirect=True)"
                            class="post_link cursor-pointer btn border-0 py-1">&#215;</span>
                        </span>
                    </t>
                    <t t-if="search_term">
                        <span class="align-items-baseline border d-inline-flex ps-2 rounded mb-2">
                        <i class="fa fa-tag me-2 text-muted"/>
                        <t t-esc="search_term"/>
                        <span t-att-data-post="slide_query_url(tag=slugify_tags(search_tags.ids), my=search_my, slide_category=search_slide_category, prevent_redirect=True)"
                            class="post_link cursor-pointer btn border-0 py-1">&#215;</span>
                        </span>
                    </t>
                    <t t-foreach="search_tags" t-as="tag">
                        <span class="align-items-baseline border d-inline-flex ps-2 rounded mb-2">
                            <i class="fa fa-tag me-2 text-muted"/>
                            <t t-esc="tag.display_name"/>
                            <span t-att-data-post='slide_query_url(tag=slugify_tags(search_tags.ids, tag.id), my=search_my, search=search_term, slide_category=search_slide_category, prevent_redirect=True)'
                                class="post_link cursor-pointer btn border-0 py-1">&#215;</span>
                        </span>
                    </t>
                </section>
            </div>
            <div class="container o_wslides_home_main pb-5">
                <div t-if="not channels and not search_term and not search_slide_category and not search_my and not search_tags">
                    <p class="h2">No Course created yet.</p>
                    <p groups="website_slides.group_website_slides_officer">Click on "New" in the top-right corner to write your first course.</p>
                </div>
                <div t-elif="search_term and not channels" class="alert alert-info mb-5">
                    No course was found matching your search <code><t t-esc="search_term"/></code>.
                </div>
                <div t-elif="not channels" class="alert alert-info mb-5">
                    No course was found matching your search.
                </div>
                <t t-else="">
                    <div t-if="original_search" class="alert alert-warning mb-5">
                        No results found for '<span t-esc="original_search"/>'. Showing results for '<span t-esc="search_term"/>'.
                    </div>
                    <div class="row g-4 g-lg-3 g-xxl-4">
                        <t t-foreach="channels" t-as="channel">
                            <t t-call="website_slides.course_card"/>
                        </t>
                    </div>
                </t>
            </div>

            <t t-call="website_slides.courses_footer"></t>
        </div>
    </t>
</template>

<template id='courses_footer'>
    <section class="s_banner">
        <div class="oe_structure oe_empty" id="oe_structure_website_slides_course_footer_1"/>
    </section>
</template>

<template id='course_card' name="Course Card">
    <t t-if="opt_slides_list_columns">
        <t t-set="opt_slide_size" t-value="'col-12 col-sm-6 col-xl-3' if 'o_wslides_all_courses' in body_classname or (is_public_user and not has_side_column) else 'col-12 col-sm-6 col-xl-4'"/>
    </t>
    <t t-else="" t-set="opt_slide_size" t-value="'col-12'"/>
    <a t-attf-href="/slides/#{slug(channel)}" t-title="channel.name" t-attf-class="text-decoration-none text-reset #{opt_slide_size}">
        <div t-attf-class="o_wslides_course_card #{'o_wslides_course_unpublished' if not channel.is_published else ''} #{'card h-100' if opt_slides_list_columns else 'row mx-0'}" t-cache="channel if is_public_user and not search_tags else None">
            <t t-set="channel_frontend_tags" t-value="channel.tag_ids.filtered(lambda tag: tag.color)"/>
            <div t-if="channel.is_member and channel.completed" class="o_ribbon o_ribbon_left text-bg-success z-1">
                Completed
            </div>
            <div t-elif="not channel.is_published" class="o_ribbon o_ribbon_left text-bg-danger z-1">
                Unpublished
            </div>
            <t t-if="channel.partner_has_new_content" t-call="website_slides.course_card_information"/>
            <div t-attf-class="card-header #{opt_slides_list_columns and 'ratio ratio-16x9' or 'position-relative col-4 col-lg-3 rounded overflow-hidden'}">
                <div class="d-block h-100 w-100">
                    <t t-call="website.record_cover">
                        <t t-set="_record" t-value="channel"/>
                    </t>
                </div>
            </div>
            <div t-attf-class="card-body #{'col-8 col-lg-9 ps-3' if not opt_slides_list_columns else ''}">
                <h3 class="h6 card-title o_wslides_desc_truncate_2" t-out="channel.name"/>
                <div class="card-text">
                    <div class="o_wslides_desc_truncate_3 small" t-field="channel.description_short"/>
                    <div t-if="channel_frontend_tags" t-attf-class="o_wslides_desc_truncate_2_badges d-flex flex-wrap gap-1 small #{'mb-3' if not opt_slides_list_columns else ''}">
                        <t t-foreach="channel_frontend_tags" t-as="tag">
                            <t t-if="search_tags">
                                <span t-att-data-post="slide_query_url(tag=slugify_tags(search_tags.ids, toggle_tag_id=tag.id), my=search_my, search=search_term, slide_category=search_slide_category, prevent_redirect=True)"
                                    t-attf-class="post_link cursor-pointer badge o_badge_clickable #{'o_color_'+str(tag.color) if tag in search_tags else 'o_wslides_channel_tag o_color_0'}" t-esc="tag.name"/>
                            </t>
                            <t t-else="">
                                <span t-att-data-post="slide_query_url(tag=slugify_tags(search_tags.ids, toggle_tag_id=tag.id), my=search_my, search=search_term, slide_category=search_slide_category, prevent_redirect=True)"
                                    t-attf-class="post_link cursor-pointer badge o_badge_clickable o_wslides_channel_tag #{'o_color_'+str(tag.color)}" t-esc="tag.name"/>
                            </t>
                        </t>
                    </div>
                    <t t-if="not opt_slides_list_columns" t-call="website_slides.course_card_footer"/>
                </div>
            </div>
            <t t-if="opt_slides_list_columns" t-call="website_slides.course_card_footer"/>
        </div>
    </a>
</template>

<template id="course_card_information" name='Course Information'>
    <t id="course_card_information_content">
    </t>
</template>

<template id="course_card_information_arrow" inherit_id="website_slides.course_card_information"
    active="True" name='New Content Ribbon'>
    <xpath expr="//t[@id='course_card_information_content']" position="inside">
        <span class="o_ribbon o_ribbon_left text-bg-info z-1">New Content</span>
    </xpath>
</template>

<template id='slides_home_achievements_small' name="Users">
    <t class="o_wslides_home_aside">
    </t>
</template>

<template id="toggle_latest_achievements" inherit_id="website_slides.slides_home_achievements_small" active="True" name='Display Achievements'>
    <xpath expr="//t[hasclass('o_wslides_home_aside')]" position="inside">
        <div t-if="achievements">
            <h3 class="h6 mb-3">Latest achievements</h3>
            <div class="d-flex flex-column gap-3">
                <t t-foreach="achievements" t-as="achievement">
                    <t t-call="website_slides.achievement_card"/>
                </t>
            </div>
        </div>
    </xpath>
</template>

<template id='achievement_card' name="Achivement Card">
    <div class="d-flex gap-2">
        <t t-call="website_slides.slides_misc_user_image">
            <t t-set="user" t-value="achievement.user_id"/>
        </t>
        <div>
            <div class="lh-1" t-esc="achievement.user_id.name"/>
            <small class="text-muted" t-esc="achievement.badge_id.name"/>
        </div>
    </div>
</template>

<template id='slides_home_users_small' name="Users">
    <div class="o_wslides_home_aside">
    </div>
</template>

<template id="toggle_leaderboard" inherit_id="website_slides.slides_home_users_small" active="True" name='Display Leaderboard'>
    <xpath expr="//div[hasclass('o_wslides_home_aside')]" position="inside">
        <div class="d-flex justify-content-between">
            <h3 class="h6 mb-3">Leaderboard</h3>
            <a t-if="users" href="/profile/users">View all</a>
        </div>
        <t t-if="users">
            <div class="d-flex flex-column gap-3">
                <t t-foreach="users" t-as="user">
                    <t t-call="website_slides.user_quickkarma_card"/>
                </t>
            </div>
        </t>
        <t t-else=""><p class="text-muted">No leaderboard currently :(</p></t>
    </xpath>
</template>

<template id='user_quickkarma_card' name="User QuickKarma Card">
    <div class="d-flex align-items-start gap-2">
        <t t-call="website_slides.slides_misc_user_image"/>
        <div class="flex-grow-1">
            <div class="lh-1" t-esc="user.name"/>
            <div class="d-flex align-items-center">
                <small class="text-muted" t-esc="user.rank_id.name"/>
            </div>
        </div>
        <div class="small">
            <span class="badge bg-light"><t t-esc="user.karma"/> xp</span>
        </div>
    </div>
</template>

<template id='slides_home_user_profile_small' name="User Profile">
    <div class="position-relative d-flex justify-content-between gap-3 mb-3">
        <div class="d-flex gap-2">
            <t t-call="website_slides.slides_misc_user_image">
                <t t-set="img_class" t-value="'o_wslides_user_avatar rounded-circle'"/>
            </t>
            <div class="lh-1">
                <h6 t-esc="user.name" class="mb-0"/>
                <span class="text-muted"><t t-out="user.karma"/>XP</span>
            </div>
        </div>
        <a class="stretched-link" t-att-href="'/profile/user/%s' % user.id">View</a>
    </div>
    <div class="o_wslides_home_aside rounded p-3 bg-100">
        <div t-if="user.rank_id" t-call="website_profile.profile_next_rank_card" class="d-flex flex-column gap-3"/>
        <t t-set="next_rank_id" t-value="user._get_next_rank()"/>
        <div t-if="next_rank_id" t-field="next_rank_id.description_motivational" class="mt-3"/>
        <div t-else="" class="mt-3">Congratulations, you have reached the last rank!</div>
    </div>
</template>

<template id='slides_home_user_achievements_small' name="User Achievements">
    <div class="o_wslides_home_aside flex-grow-1">
        <div class="d-flex justify-content-between">
            <h3 class="h6 mb-3">Badges</h3>
            <a href="/profile/ranks_badges?badge_category=slides">View all</a>
        </div>
        <t t-foreach="challenges" t-as="challenge">
            <t t-set="challenge_done" t-value="challenge in challenges_done if challenges_done else False"/>
            <div t-attf-class="d-flex #{'opacity-50' if challenge_done else ''}">
                <div t-if="challenge.reward_id.image_1920" class="flex-shrink-0" t-field="challenge.reward_id.image_1920"
                    t-options="{'widget': 'image', 'preview_image': 'image_128', 'class': 'me-2', 'style': 'max-height: 36px'}"/>
                <img t-else="" t-attf-src="'/website_profile/static/src/img/badge_%s.svg' % (challenge.reward_id.level)" t-att-alt="challenge.reward_id.name" style="max-height: 36px" class="flex-shrink-0 me-2"/>
                <div class="flex-grow-1">
                    <div class="lh-1" t-esc="challenge.reward_id.name"/>
                    <small class="text-muted" t-esc="challenge.reward_id.description"/>
                </div>
                <i t-if="challenge_done" class="fa fa-check text-success" aria-label="Done" title="Done" role="img"/>
            </div>
        </t>
    </div>
</template>

<template id='slides_misc_user_image' name="User Avatar">
    <img t-attf-class="o_avatar {{img_class or 'rounded-circle'}}"
        t-att-style="img_style if img_style else ''"
        t-att-src="'/profile/avatar/%s?field=avatar_128' % user.id"
        t-att-alt="user.name"/>
</template>

<template id="my_courses" name="My Courses">
    <li t-attf-class="list-group-item px-0 py-3 d-flex flex-row gap-0 gap-md-3 #{'border-bottom' if len(channels_my) == 1 else ''}">
        <a t-attf-href="/slides/#{slug(channel)}" t-title="channel.name" t-field="channel.name" class="flex-grow-1 text-truncate"/>
        <div t-attf-class="d-none d-md-flex align-items-center flex-basis-50 flex-shrink-0">
            <div class="d-flex align-items-center flex-basis-50 me-3">
                <t t-if="0 &gt; channel.completion &gt; 100">
                    <div class="progress flex-grow-1" role="progressbar" aria-label="Course progression" t-att-aria-valuenow="str(channel.completion)+'%'" aria-valuemin="0" aria-valuemax="100" style="height:.5rem;">
                    <div class="progress-bar" role="progressbar" t-att-aria-valuenow="channel.completion" aria-valuemin="0" aria-valuemax="100" t-attf-style="width:#{channel.completion}%;" aria-label="Progress bar"/>
                    </div>
                    <small class="ms-2"><t t-esc="channel.completion"/>%</small>
                </t>
                <t t-elif="channel.is_member and channel.completed">
                    <span class="badge text-bg-success pull-right"><i class="fa fa-check"/> Completed</span>
                </t>
                <t t-else="">
                    <small class="text-muted"><i class="fa fa-check me-1" role="img"/>You are enrolled</small>
                </t>
            </div>
            <div t-if="not channel.completed" class="ms-auto small text-muted">
                <t t-esc="channel.total_time - sum(channel.slide_partner_ids.filtered(lambda sp: sp.partner_id == user.partner_id and sp.completed).mapped('slide_id.completion_time') or [0])" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format': 'narrow'}"/>
                left
            </div>
        </div>
        <a t-attf-href="/slides/#{slug(channel)}" class="d-md-none" title="Continue">Continue <i class="oi oi-arrow-right" role="img"/></a>
    </li>
</template>

<template id="course_card_footer" name="Course Card Footer">
    <div class="card-footer d-flex justify-content-between align-items-center">
        <t t-if="0 &gt; channel.completion &gt; 100">
            <div class="d-flex align-items-center gap-2 flex-basis-50">
                <div class="progress flex-grow-1" style="height: 6px">
                    <div class="progress-bar" role="progressbar" t-att-aria-valuenow="channel.completion" aria-valuemin="0" aria-valuemax="100" t-attf-style="width:#{channel.completion}%;" aria-label="Progress bar"/>
                </div>
                <small><t t-out="channel.completion"/>%</small>
            </div>
            <button class="btn btn-sm btn-primary">Continue</button>
        </t>
        <t t-elif="channel.is_member and channel.completion == 0">
            <small t-if="channel.total_time" t-esc="channel.total_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format': 'narrow'}"/>
            <button class="btn btn-sm btn-primary">Start now</button>
        </t>
        <t t-else="">
            <small t-if="channel.total_time" t-esc="channel.total_time" t-options="{'widget': 'duration', 'unit': 'hour', 'round': 'minute', 'format': 'narrow'}"/>
            <small><t t-esc="channel.total_slides"/> steps</small>
        </t>
    </div>
</template>

<template id="opt_slides_list_columns" inherit_id="website_slides.course_card" active="True" name="Layout â€¢ Columns"/>
</data></odoo>
