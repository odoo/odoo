<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="website.slide.upload.modal">
        <div>
            <div class="o_w_slide_upload_modal_container">
                <t t-call="website.slide.upload.modal.select"/>
            </div>
        </div>
    </t>

    <!--
        Slide Type Selection template
    -->
    <t t-name="website.slide.upload.modal.select">
        <div class="row p-1 mt-4">
            <div t-foreach="widget.slide_type_data" t-as="slide_type" class="col-6 col-md-3">
                <t t-set="type_data" t-value="widget.slide_type_data[slide_type]"/>

                <a href="#" t-att-data-slide-type="slide_type"
                    class="content-type d-flex flex-column align-items-center mb-4 o_wslides_select_type btn rounded border text-600 p-3">
                    <i t-attf-class="fa #{type_data['icon']} mb-2 fa-3x"/>
                    <t t-esc="type_data['label']"/>
                </a>
            </div>
        </div>
        <t t-if="widget.modulesToInstall">
            <t t-foreach="widget.modulesToInstall" t-as="module_info">
                <a class="o_wslides_js_upload_install_button w-100 text-center mb-4 btn rounded border text-600 p-3"
                    href="#" t-att-title="module_info['name']"
                    t-att-data-module-id="module_info['id']">
                    <i class="fa fa-trophy"></i> <t t-esc="module_info['motivational']"/>
                </a>
            </t>
        </t>
    </t>

    <!--
        Uploading template
    -->
    <t t-name="website.slide.upload.modal.uploading">
        <div class="text-center" aria-hidden="true" role="status">
            <div class="fa-3x">
                <i class="fa fa-spinner fa-pulse"></i>
            </div>
            <h4>Uploading document ...</h4>
        </div>
    </t>

    <!--
        Import module template
    -->
    <t t-name="website.slide.upload.modal.import">
        <p id="o_wslides_install_module_text"/>
    </t>

    <!--
        Slide Type common form part template
    -->
    <t t-name="website.slide.upload.modal.common">
        <div class="form-group">
            <label for="name" class="col-form-label">Title</label>
            <input id="name" name="name" placeholder="Title" class="form-control" required="required"/>
        </div>
        <div t-if="!widget.defaultCategoryID" class="form-group">
            <label for="category_id" class="col-form-label">Section</label>
            <input class="form-control" id="category_id"/>
        </div>
        <div class="form-group">
            <label for="tag_ids" class="col-form-label">Tags</label>
            <input id="tag_ids" name="tag_ids" type="hidden"/>
        </div>
        <div class="form-group">
            <label for="duration" class="col-form-label">Duration</label>
            <div class="input-group">
                <input type="number" id="duration" min="0" name="duration" placeholder="Estimated slide completion time" class="form-control"/>
                    <div class="input-group-prepend">
                    <span class="input-group-text">Minutes</span>
                </div>
            </div>
        </div>
    </t>

    <!--
        Slide Type templates
    -->
    <t t-name="website.slide.upload.modal.presentation">
        <div>
            <form class="clearfix">
                <div class="row">
                    <div id="o_wslides_js_slide_upload_left_column" class="col">
                        <div class="form-group">
                            <label for="upload" class="col-form-label">Choose a PDF or an Image</label>
                            <input id="upload" name="file" class="form-control" accept="image/*,application/pdf" type="file" required="required"/>
                        </div>
                        <canvas id="data_canvas" class="d-none"></canvas>
                        <t t-call="website.slide.upload.modal.common"/>
                    </div>
                    <div id="o_wslides_js_slide_upload_preview_column" class="col-md-6 d-none">
                        <div class="img-thumbnail">
                            <div class="o_slide_preview">
                                <img src="/website_slides/static/src/img/document.png" id="slide-image" title="Content Preview" alt="Content Preview" class="img-fluid"/>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </t>

    <t t-name="website.slide.upload.modal.webpage">
        <div>
            <form class="clearfix">
                <div class="row">
                    <div id="o_wslides_js_slide_upload_left_column" class="col">
                        <div class="form-group">
                            <label for="upload" class="col-form-label">Choose a Cover Image</label>
                            <input id="upload" name="file" class="form-control" accept="image/*" type="file" required="required"/>
                        </div>
                        <canvas id="data_canvas" class="d-none"></canvas>
                        <t t-call="website.slide.upload.modal.common"/>
                    </div>
                    <div id="o_wslides_js_slide_upload_preview_column" class="col-md-6 d-none">
                        <div class="img-thumbnail">
                            <div class="o_slide_preview">
                                <img src="/website_slides/static/src/img/document.png" id="slide-image" title="Content Preview" alt="Content Preview" class="img-fluid"/>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </t>

    <t t-name="website.slide.upload.modal.video">
        <div>
            <form class="clearfix">
                <div class="row">
                    <div id="o_wslides_js_slide_upload_left_column" class="col">
                        <div class="form-group">
                            <label for="url" class="col-form-label">Youtube Link</label>
                            <input id="url" name="url" class="form-control" placeholder="Youtube Video URL" required="required"/>
                        </div>
                        <canvas id="data_canvas" class="d-none"></canvas>
                        <t t-call="website.slide.upload.modal.common"/>
                    </div>
                    <div id="o_wslides_js_slide_upload_preview_column" class="col-md-6 d-none">
                        <div class="img-thumbnail">
                            <div class="o_slide_preview">
                                <img src="/website_slides/static/src/img/document.png" id="slide-image" title="Content Preview" alt="Content Preview" class="img-fluid"/>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </t>

    <t t-name="website.slide.upload.quiz">
        <div>
            <form class="clearfix">
                <canvas id="data_canvas" class="d-none"></canvas>
                <t t-call="website.slide.upload.modal.common"/>
            </form>
        </div>
    </t>

    <t t-name="website.slide.image.upload">
         <div role="dialog" class="modal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <header class="modal-header">
                        <h3 class="modal-title">Upload Image</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">Ã—</button>
                    </header>
                    <div class="text-center" style="display:none" aria-hidden="true" role="status">
                        <h4><i class='fa fa-spinner fa-spin'></i> Uploading Image...  </h4>
                    </div>
                    <main class="modal-body">
                        <form class="clearfix">
                            <div class="form-group row">
                                <div class="col-md-4">
                                    <div class="img-thumbnail">
                                        <div class="o_slide_preview">
                                            <img src="/website_slides/static/src/img/document.png" id="slide-image" title="Content Preview" alt="Content Preview" class="img-fluid"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <ul class="list-group">
                                        <li class="list-group-item">
                                            <h5 class="list-group-item-heading">
                                                <label for="upload" class="col-form-label">Image File</label>
                                            </h5>
                                            <input id="upload" name="file" class="form-control" accept="image/*,application/pdf" type="file"/>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <canvas id="data_canvas" style="display: none;"></canvas>
                        </form>
                    </main>
                    <footer class="modal-footer">
                        <button type="button" data-loading-text="Loading..." data-published="true" class="btn btn-primary save">Upload</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Discard</button>
                    </footer>
                </div>
            </div>
        </div>
    </t>

    <t t-name="website.slide.list.category.item">
        <li class="o_wslides_slide_list_category o_wslides_js_list_item mb-2" t-att-data-slide-id="widget.category.id" t-att-data-category-id="widget.category.id">
            <div t-att-data-category-id="widget.category.id"
                    class="o_wslides_slide_list_category_header position-relative d-flex justify-content-between align-items-center mt8 o_wslides_js_category bg-white shadow-sm border-bottom-0">
                <div class="d-flex align-items-center pl-3 o_wslides_slides_list_drag">
                    <div class="o_wslides_slides_list_drag py-2 pr-3">
                        <i class="fa fa-bars"/>
                    </div>
                    <span  t-field="widget.category.name" t-esc="widget.category.name"/>
                    <small t-if="widget.category.slides" class="ml-1 text-muted category-empty" t-att-data-category-id="widget.category.id"><b>(empty)</b></small>
                </div>
                <div t-if="widget.channel.can_upload" class="o_text_link d-flex border-left">
                    <a  class="o_wslides_js_slide_upload created-category px-3 py-2"
                        role="button"
                        aria-label="Upload Presentation"
                        href="#"
                        t-att-data-modules-to-install="widget.modulesToInstallString"
                        t-att-data-channel-id="widget.channel.id"
                        t-att-data-category-id="widget.category.id"
                        t-att-data-can-upload="widget.channel.can_upload"
                        t-att-data-can-publish="widget.channel.can_publish">
                        <i class="fa fa-plus mr-1"/> <span class="d-none d-md-inline-block">Add Content</span>
                    </a>
                </div>
            </div>
            <ul t-att-data-category-id="widget.category.id" class="o_wslides_slide_list list-unstyled pb-1 border-top">
                <li class="o_wslides_slides_list_slide o_not_editable border-0"/>
                <li class="o_wslides_js_slides_list_empty border-0"/>

                <t t-foreach="widget.category.slides" t-as="slide">
                    <t t-call="website.slide.list.slide.item" />
                </t>
            </ul>
        </li>
    </t>

    <t t-name="website.slide.list.slide.item">
        <li t-att-data-slide-id="widget.slide.id" t-att-data-category-id="widget.slide.category_id" class="o_wslides_slides_list_slide o_wslides_js_list_item o_wslides_slide_pulse  bg-white-50 border-top-0 d-flex align-items-center pl-2">
            <div class=" o_wslides_slides_list_drag border-right p-2">
                <i class="fa fa-bars mr-2"></i>
            </div>
            <t t-call="website.slide.icon">
                <t t-set="slide" t-value="widget.slide"/>
            </t>
            <div class="text-truncate mr-auto">
                <a class="o_wslides_js_slides_list_slide_link" t-att-href="'/slides/slide/' + widget.slide.slug +'?fullscreen=1'">
                    <span t-esc="widget.slide.name"/>
                </a>
            </div>

            <div class="d-flex flex-row">
                <a href="#">
                    <span t-att-data-slide-id="widget.slide.id" class="o_wslides_js_slide_toggle_is_preview created-slide badge font-weight-normal px-2 py-1 m-1 badge-light badge-hide border">Free preview</span>
                </a>
                <a name="o_wslides_list_slide_add_quizz" t-att-href="'/slides/slide/' + widget.slide.slug + '?quiz_quick_create'">
                    <span class="badge badge-light badge-hide border font-weight-normal px-2 py-1 m-1"><i class="fa fa-plus mr-1"/>Add Quiz</span>
                </a>
                <span class="badge badge-info badge-arrow-right font-weight-normal px-2 py-1 m-1">New</span>
            </div>

            <div class="pt-2 pb-2 border-left ml-2 mr-2 pl-2 d-flex flex-row align-items-center o_wslides_slides_list_slide_controls">
                <i class="check-done fa fa-circle-o text-500 px-2"></i>
                <span class="d-none d-md-flex">
                    <a class="px-2 o_text_link text-primary" target="_blank" t-att-href="widget.slide.edit_link"><span class="fa fa-pencil"/></a>
                    <a href="#" t-att-data-slide-id="widget.slide.id" class="o_text_link text-danger px-2 o_wslides_js_slide_archive created-slide"><span class="fa fa-trash"/></a>
                </span>
            </div>
        </li>
    </t>

    <t t-name="website.slide.icon">
        <i t-if="slide.slide_type == 'document'" class="fa fa-file-pdf-o py-2 mx-2"></i>
        <i t-if="slide.slide_type == 'presentation'" class="fa fa-file-pdf-o py-2 mx-2"></i>
        <i t-if="slide.slide_type == 'infographic'" class="fa fa-file-picture-o py-2 mx-2"></i>
        <i t-if="slide.slide_type == 'video'" class="fa fa-play-circle py-2 mx-2"></i>
        <i t-if="slide.slide_type == 'link'" class="fa fa-file-code-o py-2 mx-2"></i>
        <i t-if="slide.slide_type == 'webpage'" class="fa fa-file-text py-2 mx-2"></i>
        <i t-if="slide.slide_type == 'quiz'" class="fa fa-question-circle py-2 mx-2"></i>
    </t>
</templates>
