// Retrive the tab's height by summ its properties
$o-wslides-tabs-height: ($nav-link-padding-y*2) + ($font-size-base * $line-height-base);

// Overal page bg-color: Blend it 'over' the color chosen by the user
// ($body-bg), rather than force it replacing the variable's value.
$o-wslides-color-bg: mix($body-bg, #efeff4);

$o-wslides-color-dark1: #47525f;
$o-wslides-color-dark2: #1f262d;
$o-wslides-color-dark3: #101216;
$o-wslides-fs-side-width: 300px;

// Truncate text descriptions to a specific number of lines.
// If '-webkit-line-clamp' is not supported, a less effective
// 'line-height' fallback will be used instead.
$truncate-limits: 2, 3, 10;
$line-height-truncate: 1.5em;

@each $limit in $truncate-limits {
    .o_wslides_desc_truncate_#{$limit} {
        max-height: $limit * $line-height-truncate;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: normal;
        line-height: $line-height-truncate;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: $limit;
    }
    .o_wslides_desc_truncate_#{$limit}_badges {
        @extend .o_wslides_desc_truncate_#{$limit};
        max-height: $limit * $line-height-truncate * 1.2;
    }
}

.o_wslides_body {
    --o_wslides-main-offset: -3.5rem;

    .o_wslides_home_main {
        --Avatar-size: 35px;
    }

    .o_wslides_course_main {
        &.o_wslides_cover_above {
            margin-top: var(--o_wslides-main-offset);

            .o_wslides_nav_tabs {
                --nav-link-color: #{rgba(white, $o-opacity-muted)};
                --nav-pills-link-active-bg: white;
                --nav-pills-link-active-color: #{color-contrast(white)};
                --nav-link-hover-color: white;
            }
        }

        .o_record_cover_container.o_wslide_slide_cover_inside {
            min-height: 12rem;
        }

        .o_wslides_js_slides_list_container li:first-child {
            margin-top: 0 !important;
        }
    }

    .o_wslides_course_header {
        padding: calc(#{map-get($spacers, 4)} - var(--o_wslides-main-offset)) calc(var(--gutter-x) * 0.5);

        &, .o_wslides_header_text, .o_wslides_back, .breadcrumb-item.active span, .breadcrumb-item a:hover {
            color: white;
        }

        .breadcrumb-item a, .o_wslides_back:hover, .breadcrumb-item + .breadcrumb-item::before {
            color: rgba(white, $o-opacity-muted);
        }
    }
}

.o_wslides_fs_sidebar_section {
    a[aria-expanded="true"] i.fa-caret-down{
        display: none;
    }
    a[aria-expanded="false"] i.fa-caret-up{
        display: none;
    }
}

// Embed PDFViewer
// **************************************************
#PDFViewer.o_wslides_fs_pdf_viewer {
    background-image: linear-gradient(120deg, $o-wslides-color-dark2, $o-wslides-color-dark3);

    #PDFViewerNav {
        background-image: linear-gradient(120deg, $o-wslides-color-dark1, $o-wslides-color-dark2);
    }

    .oe_slides_panel_footer span[role="button"],
    .oe_slides_panel_footer a,
    .oe_slides_share_bar span[role="button"],
    .oe_slides_share_bar a {
        cursor: pointer;
        user-select: none;
        @include o-hover-text-color(rgba(white, 0.7), white);

        &.disabled {
            @include o-hover-text-color(rgba(white, 0.2), rgba(white, 0.2));
            cursor: default;
        }
    }

    .oe_slide_embed_option {
        @include o-position-absolute(0,0,0,0);
    }

    .disabled {
        // remove JS events for disabled elements
        pointer-events: none;
    }

    .o_slide_navigation_buttons {
        user-select: none;
    }
}

.oe_slides_share_bar{
    padding: 10px 0;
}

.o_wslides_js_lesson_quiz_question {
    .list-group-item  {
        @include font-size(1rem);

        input:checked + i.fa-circle {
            color: $primary !important;
        }
    }

    &.disabled {
        opacity: 0.5;
        pointer-events: none;
    }

    &.completed-disabled{
        pointer-events: none;
    }
}

a.o_wslides_js_quiz_is_correct {
    color: black;
    input:checked + i.fa-check-circle-o {
        color: $success !important;
    }
}

