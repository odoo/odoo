<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">

    <t t-name="website_slides.SlideQuizFinishDialog" owl="1">
        <Dialog
            contentClass="'o_wslides_quiz_modal shadow-lg'"
            footer="!this.state.hideDismissBtns"
            size="'md'"
            technical="false"
        >
            <t t-set-slot="header">
                <h5 class="modal-title" t-out="title"/>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" t-on-click.prevent="() => this.props.close()"/>
            </t>
            <div class="mb-5 fade" t-att-class="state.animateKarmaGain ? 'show in': ''">
                <t t-if="props.quiz.quizKarmaWon > 0">
                    You gained <small class="text-primary fw-bold"><t t-out="props.quiz.quizKarmaWon"/> XP</small>!
                </t>
                <t t-else="">You did it!</t>
            </div>
            <SlideXPProgressBar
                previousRank="props.quiz.rankProgress.previous_rank"
                newRank="props.quiz.rankProgress.new_rank"
                levelUp="props.quiz.rankProgress.level_up"
            />
            <div class="pb-3 o_wslides_quiz_modal_rank_motivational" t-att-class="{'fade': state.fadeRankMotivational, 'show in': state.showRankMotivational}">
                <t t-if="props.quiz.rankProgress.last_rank" t-out="props.quiz.rankProgress.description"/>
                <t t-else="" t-out="props.quiz.rankProgress.new_rank.motivational"/>
            </div>
            <t t-set-slot="footer">
                <a t-if="props.quiz.rankProgress.level_up" type="button" target="_blank" t-attf-href="/profile/user/#{props.userId}" class="btn btn-light me-1">
                    Check Profile
                </a>
                <button t-if="props.hasNext" type="button" class="btn btn-light" t-on-click="onClickNext">
                    Next <i class="oi oi-chevron-right"/>
                </button>
                <a t-else="" type="button" href="/slides" class="btn btn-primary">End course</a>
            </t>
        </Dialog>
    </t>

</templates>
