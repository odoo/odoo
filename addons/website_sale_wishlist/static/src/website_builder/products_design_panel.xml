<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

<t
    t-name="website_sale_wishlist.ProductsDesignPanel"
    t-inherit="website_sale.ProductsDesignPanel"
    t-inherit-mode="extension"
>
    <BuilderRow id="'o_wsale_buttons_opt'" position="after">
        <BuilderRow
            t-if="props.recordName === 'shop_opt_products_design_classes'"
            label.translate="Wishlist"
            level="1"
        >
            <BuilderButton
                title.translate="Wishlist"
                icon="'fa-heart'"
                classAction="'o_wsale_products_opt_has_wishlist'"
            />
            <BuilderSelect t-if="isOnHoverAvailable">
                <BuilderSelectItem
                    classAction="''"
                    t-if="this.isActiveItem('wsale_products_opt_actions_inline')"
                >
                    Inline
                </BuilderSelectItem>
                <BuilderSelectItem classAction="'o_wsale_products_opt_wishlist_fixed'">
                    Fixed
                </BuilderSelectItem>
                <BuilderSelectItem
                    classAction="'o_wsale_products_opt_wishlist_fixed o_wsale_products_opt_wishlist_fixed_onhover'"
                >
                    Fixed - On Hover
                </BuilderSelectItem>
            </BuilderSelect>
            <div t-else="" class="d-content pe-none flex-grow-1 opacity-75">
                <!--
                    Fake controller to showcase the user that the option is locked to "Inline"
                -->
                <BuilderSelect>
                    <BuilderSelectItem classAction="''">
                        <span class="opacity-50">Inline</span>
                    </BuilderSelectItem>
                </BuilderSelect>
            </div>
        </BuilderRow>
    </BuilderRow>

    <BuilderSelectItem id="'wsale_products_opt_actions_onhover'" position="replace">
        <!--
            Replace the regular buttons position controller. When this is set on "On Hover", force
            the wishlist button to "Fixed" trough the `o_wsale_products_opt_wishlist_fixed` class.
            The combination "On Hover" buttons + "Inline" wishlist is indeed NOT possible.
        -->
        <BuilderSelectItem
            id="'wsale_products_opt_actions_onhover'"
            classAction="'o_wsale_products_opt_actions_onhover o_wsale_products_opt_wishlist_fixed'"
        >
            On Hover
        </BuilderSelectItem>
    </BuilderSelectItem>

    <BuilderRow label.translate="Gap" position="replace">
        <!--
            Override the Gap row to use wishlist-specific action and make it always visible
        -->
        <BuilderRow label.translate="Gap">
            <BuilderRange
                t-if="props.recordName === 'wishlist_opt_products_design_classes'"
                action="'wishlistSetGap'"
                min="0"
                max="28"
                unit="'px'"
                displayRangeValue="true"
            />
            <BuilderRange
                t-else=""
                action="'setGap'"
                min="0"
                max="28"
                unit="'px'"
                displayRangeValue="true"
            />
        </BuilderRow>
    </BuilderRow>
</t>

<t
    t-name="website_sale_wishlist.ProductsDesignPanelPresetsOverride"
    t-inherit="website_sale.ProductsDesignPanelPresets"
    t-inherit-mode="extension"
>
    <BuilderSelectItem id="style.id" position="attributes">
        <attribute name="actionParam">[
            {
                action: 'classActionWithSave',
                actionParam: {
                    className: style.className,
                    suggestedClasses: style.suggestedClasses,
                }
            },
            {
                action: (props.recordName === 'wishlist_opt_products_design_classes' ? 'wishlistSetGap' : 'setGap'),
                actionValue: style.gap + 'px'
            }
        ]</attribute>
    </BuilderSelectItem>
</t>

</templates>
