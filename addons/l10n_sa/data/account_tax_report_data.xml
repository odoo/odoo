<?xml version="1.0" encoding="utf-8"?>
<odoo auto_sequence="1">
    <record id="tax_report_vat_filing" model="account.report">
        <field name="name">VAT Return</field>
        <field name="root_report_id" ref="account.generic_tax_report"/>
        <field name="country_id" ref="base.sa"/>
        <field name="allow_foreign_vat" eval="True"/>
        <field name="availability_condition">country</field>
        <field name="column_ids">
            <record id="tax_report_vat_filing_amount" model="account.report.column">
                <field name="name">Amount</field>
                <field name="expression_label">base</field>
            </record>
            <record id="tax_report_vat_filing_vat_amount" model="account.report.column">
                <field name="name">VAT Amount</field>
                <field name="expression_label">tax</field>
            </record>
        </field>
        <field name="line_ids">
            <record id="tax_report_line_vat_on_sale" model="account.report.line">
                <field name="name">VAT on Sales:</field>
                <field name="hierarchy_level">0</field>
            </record>
            <record id="tax_report_line_standard_rated_sale" model="account.report.line">
                <field name="name">1. Standard rated sales</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_1</field>
                <field name="foldable">True</field>
                <field name="expression_ids">
                    <record id="tax_report_line_standard_rated_sale_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">-1(B)</field>
                    </record>
                    <record id="tax_report_line_standard_rated_sale_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">-1(T)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_ph_pe_fh" model="account.report.line">
                <field name="name">2. Private Healthcare / Private Education / First house sales to citizens</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_2</field>
                <field name="expression_ids">
                    <record id="tax_report_line_ph_pe_fh_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">2(B)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_zero_rated_domestic_sale" model="account.report.line">
                <field name="name">3. Zero rated domestic sales</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_3</field>
                <field name="expression_ids">
                    <record id="tax_report_line_zero_rated_domestic_sale_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">-3(B)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_exports" model="account.report.line">
                <field name="name">4. Exports</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_4</field>
                <field name="expression_ids">
                    <record id="tax_report_line_exports_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">-4(B)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_exempt_sale" model="account.report.line">
                <field name="name">5. Exempt sales</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_5</field>
                <field name="expression_ids">
                    <record id="tax_report_line_exempt_sale_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">-5(B)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_total_sale" model="account.report.line">
                <field name="name">6. Total Sales</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_6</field>
                <field name="expression_ids">
                    <record id="tax_report_line_total_sale_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">sa_1.base + sa_2.base + sa_3.base + sa_4.base + sa_5.base</field>
                    </record>
                    <record id="tax_report_line_total_sale_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">sa_1.tax</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_vat_on_purchase" model="account.report.line">
                <field name="name">VAT on Purchases:</field>
                <field name="hierarchy_level">0</field>
            </record>
            <record id="tax_report_line_standard_rated_domestic_purchase" model="account.report.line">
                <field name="name">7. Standard rated domestic purchases</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_7</field>
                <field name="foldable">True</field>
                <field name="expression_ids">
                    <record id="tax_report_line_standard_rated_domestic_purchase_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">7(B)</field>
                    </record>
                    <record id="tax_report_line_standard_rated_domestic_purchase_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">7(T)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_imports_subject_to_vat_paid_at_customs" model="account.report.line">
                <field name="name">8. Imports subject to VAT paid at customs</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_8</field>
                <field name="foldable">True</field>
                <field name="expression_ids">
                    <record id="tax_report_line_imports_subject_to_vat_paid_at_customs_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">8(B)</field>
                    </record>
                    <record id="tax_report_line_imports_subject_to_vat_paid_at_customs_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">8(T)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_imports_subject_to_vat_reverse_charge" model="account.report.line">
                <field name="name">9. Imports subject to VAT accounted for through reverse charge mechanism</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_9</field>
                <field name="foldable">True</field>
                <field name="expression_ids">
                    <record id="tax_report_line_imports_subject_to_vat_reverse_charge_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">9(B)</field>
                    </record>
                    <record id="tax_report_line_imports_subject_to_vat_reverse_charge_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">9(T)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_zero_rated_purchase" model="account.report.line">
                <field name="name">10. Zero rated purchases</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_10</field>
                <field name="expression_ids">
                    <record id="tax_report_line_zero_rated_purchase_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">10(B)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_exempt_purchase" model="account.report.line">
                <field name="name">11. Exempt purchases</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_11</field>
                <field name="expression_ids">
                    <record id="tax_report_line_exempt_purchase_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">11(B)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_total_purchase" model="account.report.line">
                <field name="name">12. Total Purchases</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_12</field>
                <field name="expression_ids">
                    <record id="tax_report_line_total_purchase_base" model="account.report.expression">
                        <field name="label">base</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">sa_7.base + sa_8.base + sa_9.base + sa_10.base + sa_11.base</field>
                    </record>
                    <record id="tax_report_line_total_purchase_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">sa_7.tax + sa_8.tax + sa_9.tax</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_total_vat_due_for_current_period" model="account.report.line">
                <field name="name">13. Total VAT due for current period</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_13</field>
                <field name="expression_ids">
                    <record id="tax_report_line_total_vat_due_for_current_period_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">sa_6.tax - sa_12.tax</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_corrections_from_previous_period" model="account.report.line">
                <field name="name">14. Corrections from previous period (between +- SAR 5000)</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_14</field>
                <field name="expression_ids">
                    <record id="tax_report_line_corrections_from_previous_period_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">14(T)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_vat_credit_carried_forward_from_previous_period" model="account.report.line">
                <field name="name">15. VAT credit carried forward from previous period</field>
                <field name="hierarchy_level">1</field>
                <field name="code">sa_15</field>
                <field name="expression_ids">
                    <record id="tax_report_line_vat_credit_carried_forward_from_previous_period_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">tax_tags</field>
                        <field name="formula">15(T)</field>
                    </record>
                </field>
            </record>
            <record id="tax_report_line_net_vat_due" model="account.report.line">
                <field name="name">16. Net VAT due (or claim)</field>
                <field name="hierarchy_level">0</field>
                <field name="code">sa_16</field>
                <field name="expression_ids">
                    <record id="tax_report_line_net_vat_due_tax" model="account.report.expression">
                        <field name="label">tax</field>
                        <field name="engine">aggregation</field>
                        <field name="formula">sa_13.tax + sa_14.tax + sa_15.tax</field>
                    </record>
                </field>
            </record>
        </field>
    </record>
</odoo>
