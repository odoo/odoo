<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="event_ticket_registration" name="Modal for tickets registration" inherit_id="website_event.modal_ticket_registration">
        <xpath expr="//t[@t-set='seats_max']" position="before">
            <t t-set="seats_max_limit" t-value="ticket.tickets_per_registration + 1 if ticket.tickets_per_registration > 0 else 10"/>
        </xpath>
        <xpath expr="//t[@t-set='seats_max']" position="attributes">
            <attribute name="t-value">min(seats_max_limit, seats_max_ticket , seats_max_event)</attribute>
        </xpath>
        <xpath expr="//select[hasclass('d-inline', 'w-auto', 'form-select')]//t[@t-set='seats_max']" position="before">
            <t t-set="seats_max_limit" t-value="tickets.tickets_per_registration + 1 if tickets.tickets_per_registration > 0 else 10"/>
        </xpath>
        <xpath expr="//select[hasclass('d-inline', 'w-auto', 'form-select')]//t[@t-set='seats_max']" position="attributes">
            <t t-if="tickets">
                <attribute name="t-value">min(seats_max_limit, seats_max_ticket , seats_max_event)</attribute>
            </t>
            <t t-else="">
                <attribute name="t-value">seats_max_event</attribute>
            </t>
        </xpath>
    </template>
</odoo>
