<odoo>
    <!-- Define the server action for releasing quotations -->
    <record id="action_release_quotations" model="ir.actions.server">
        <field name="name">Release Orders</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="binding_model_id" ref="sale.model_sale_order"/>
        <field name="binding_view_types">form,list</field>
        <field name="state">code</field>
        <field name="code">action = records.action_release_quotations()</field>
    </record>
    
    <!-- Adding the action to the form view as a button -->
    <record id="view_order_form_inherit" model="ir.ui.view">
        <field name="name">sale.order.form.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <button name="%(action_release_quotations)d" string="Release Orders" type="action" class="oe_highlight"/>
            </xpath>
            <xpath expr="//sheet" position="inside">
                <group>
                
                    <field name="is_released"/>
                </group>
            </xpath>
        </field>
    </record>

    <!-- Adding the action to the list view (tree view) and making is_released visible -->
    <record id="view_order_tree_inherit" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="inside">
                <field name="is_released"/>
                <button name="%(action_release_quotations)d" string="Release Orders" type="action" class="oe_highlight"/>
            </xpath>
        </field>
    </record>

    <record id="view_order_tree_inherit_is_released" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit.is_released</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="inside">
                <field name="is_released" optional="show"/>
            </xpath>
        </field>
    </record>



     <record id="view_order_form_inherit_custom_fields" model="ir.ui.view">
        <field name="name">sale.order.form.inherit.custom.fields</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet" position="inside">
                <group string="Delivery Details">
                    <field name="customer_name"/>
                    <field name="customer_address"/>
                    <field name="customer_suburb"/>
                    <field name="customer_state"/>
                    <field name="customer_postcode"/>
                    <field name="customer_email"/>
                    <field name="customer_phone"/>
                </group>
            </xpath>
        </field>
    </record>
</odoo>

