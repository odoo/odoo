<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <div t-name="stock.ReceptionReportMain" class="o_action">
        <ControlPanel/>
        <div class="o_report_reception o_report_reception_no_print container-fluid justify-content-between">
            <div class="o_report_reception_header my-4">
                <h1>
                    <t t-if="data.docs">
                        <div t-foreach="data.docs" t-as="doc" t-key="doc.id">
                            <a href="#" t-on-click.prevent="() => this.onClickTitle(doc.id)" view-type="form" t-esc="doc.name"/>
                            <span t-esc="doc.display_state" t-attf-class="ms-1 align-text-top badge rounded-pill bg-opacity-50 {{ doc.state == 'done' ? 'bg-success' : 'bg-info' }}"/>
                        </div>
                        <div class="mt-2 d-flex gap-2">
                            <button t-on-click="onClickPrint" class="btn btn-primary" title="Print">Print</button>
                            <button t-on-click="onClickAssignAll" class="btn btn-secondary" t-att-disabled="isAssignAllDisabled">Assign All</button>
                            <button t-on-click="onClickPrintLabels" class="btn btn-secondary" t-att-disabled="isPrintLabelDisabled">Print Labels</button>
                        </div>
                    </t>
                    <t t-else="">
                        <span t-esc="data.reason"/>
                    </t>
                </h1>
            </div>
            <t t-if="hasContent">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Available</th>
                            <th>Quantity</th>
                            <th class="text-center">Reserved</th>
                            <th>For</th>
                            <th>Date</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="state.productLines" t-as="lines" t-key="lines">
                            <ReceptionReportTable
                            index="lines"
                            lines="state.productLines[lines]"
                            labelReport="receptionReportLabelAction"
                            showUom="data.show_uom"
                            precision="data.precision"/>
                        </t>
                    </tbody>
                </table>
            </t>
            <p t-else="">
                No allocation need found.
            </p>
        </div>
    </div>

</templates>
