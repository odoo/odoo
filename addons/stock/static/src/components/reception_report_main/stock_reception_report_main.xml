<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <div t-name="stock.ReceptionReportMain" class="o_action">
        <ControlPanel display="this.controlPanelDisplay">
            <t t-set-slot="control-panel-buttons">
                <button t-on-click="this.onClickPrint" type="button" class="btn btn-primary" title="Print">Print</button>
                <button t-on-click="this.onClickAssignAll" class="btn btn-secondary" t-att-disabled="this.isAssignAllDisabled">Assign All</button>
                <button t-on-click="this.onClickPrintLabels" class="btn btn-secondary" t-att-disabled="this.isPrintLabelDisabled">Print Labels</button>
            </t>
        </ControlPanel>
        <div class="o_report_reception o_report_reception_no_print container-fluid justify-content-between">
            <div class="o_report_reception_header my-4">
                <h1>
                    <t t-if="this.data.docs">
                        <div t-foreach="this.data.docs" t-as="doc" t-key="doc.id">
                            <a href="#" t-on-click.prevent="() => this.onClickTitle(doc.id)" view-type="form" t-esc="doc.name"/>
                            <span t-esc="doc.display_state" t-attf-class="ms-1 align-text-top badge rounded-pill bg-opacity-50 {{ doc.state == 'done' ? 'bg-success' : 'bg-info' }}"/>
                        </div>
                    </t>
                    <t t-else="">
                        <span t-esc="this.data.reason"/>
                    </t>
                </h1>
            </div>
            <t t-if="this.hasContent">
                <table class="table table-sm">
                    <ReceptionReportTable
                        t-foreach="this.state.sourcesToLines" t-as="source" t-key="source"
                        index="source"
                        scheduledDate="this.data.sources_to_formatted_scheduled_date[source]"
                        lines="this.state.sourcesToLines[source]"
                        source="this.data.sources_info[source]"
                        labelReport="this.receptionReportLabelAction"
                        showUom="this.data.show_uom"
                        precision="this.data.precision"/>
                </table>
            </t>
            <p t-else="">
                No allocation need found.
            </p>
        </div>
    </div>

</templates>
