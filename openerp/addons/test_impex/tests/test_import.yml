-   |
    YAML Import reference scenario:
    Check that importing into a "reference" type field works with YAML using
    both implicit references and !ref.

-   |
    Given menu entries imitating the following entry from the base module:
    <menuitem id="menu_module_tree" parent="menu_management" name="Local Modules"
              sequence="5" action="open_module_tree" />

    taken from openerp/addons/base/module/module_view.xml

-   >
    A Menu item using !record and implicit xml_id lookup and sequence cast:
-
    !record { model: ir.ui.menu, id: test_menu_0 }:
        name: "Local Modules 0"
        parent_id: base.menu_management
        sequence: 90
        action: base.open_module_tree

-   >
    A Menu item using !record and explicit !ref and sequence !eval
-
    !record { model: ir.ui.menu, id: test_menu_1 }:
        name: "Local Modules 1"
        parent_id: !refid base.menu_management
        sequence: !eval 91
        action: !refid base.open_module_tree
-   >
    A Menu item using !menuitem
-
    !menuitem {
        id: test_menu_2,
        name: "Local Modules 2",
        parent: base.menu_management,
        sequence: 92,
        action: base.open_module_tree
    }
-   >
    Another menu item using !menuitem
-
    !menuitem {
        id: test_menu_3,
        name: "Local Modules 3",
        parent: base.menu_management,
        sequence: 93,
        action: base.open_module_tree
    }

-   >
    Then these menu items should be present, properly configured and
    pointing to the same action.
-
    !assert { model: ir.ui.menu, id: test_menu_0, string: menu item 0 is properly configured }:
        - name == 'Local Modules 0'
        - sequence == 90
        - parent_id.name == 'Modules'
        - action.name == 'Local Modules'
-
    !assert { model: ir.ui.menu, id: test_menu_1, string: menu item 1 is properly configured }:
        - name == 'Local Modules 1'
        - sequence == 91
        - parent_id.name == 'Modules'
        - action.name == 'Local Modules'
-
    !assert { model: ir.ui.menu, id: test_menu_2, string: menu item 2 is properly configured  }:
        - name == 'Local Modules 2'
        - sequence == 92
        - parent_id.name == 'Modules'
        - action.name == 'Local Modules'
-
    !assert { model: ir.ui.menu, id: test_menu_3, string: menu item 3 is properly configured  }:
        - name == 'Local Modules 3'
        - sequence == 93
        - parent_id.name == 'Modules'
        - action.name == 'Local Modules'
-
    !python { model: ir.ui.menu, id: test_menu_3 }: |
        try: import IPython; IPython.embed()
        except: import pdb; pdb.post_mortem() ; raise
