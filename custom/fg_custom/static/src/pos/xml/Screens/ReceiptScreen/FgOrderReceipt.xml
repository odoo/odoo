<?xml version="1.0" encoding="UTF-8"?>
<templates id="point_of_sale.template" xml:space="preserve">
    <t t-name="OrderReceipt"  t-extend="OrderReceipt" t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension"
       owl="1">

    	<xpath expr="//img[@class='pos-receipt-logo']" position="replace" />

        <xpath expr="//div[@class='pos-receipt-contact']" position="replace">
                <div class="pos-receipt-contact">
                    <t t-if="receipt.company.name">
                        <div><t t-esc="receipt.company.name" /></div>
                    </t>
<!--                    <t t-if="receipt.company.partner_id">-->
<!--                        <div><t t-esc="receipt.company.partner_id[1]" /></div>-->
<!--                    </t>-->
<!--                    for the meantime: company address display will depends on the setup of Header in pos-->
                    <t t-if="receipt.header_html">
                        <t t-raw="receipt.header_html" />
                    </t>
                    <t t-if="!receipt.header_html and receipt.header">
                        <div style="white-space:pre-line"><t t-esc="receipt.header" /></div>
                    </t>

                    <t t-if="receipt.company.vat">
                        <div><t t-esc="receipt.company.vat_label"/>:<t t-esc="receipt.company.vat" /></div>
                    </t>

<!--                    <t t-if="receipt.company.phone">-->
<!--                        <div>Tel:<t t-esc="receipt.company.phone" /></div>-->
<!--                    </t>-->

                     <t t-if="receipt.cashier">
                        <div class="cashier">
                            <div>--------------------------------</div>
                            <div>Served by <t t-esc="receipt.cashier" /></div>
                        </div>
                    </t>
                </div>

        </xpath>

        <xpath expr="//div[@class='pos-receipt-contact']" position="after">

            <div>----------------------------------------------------</div>

            <t t-if="receipt.client">
                <t t-if="receipt.client.name">
                    <div style="font-size: 70%">Sold To: <span t-esc='receipt.client.name'/></div>
                </t>
                 <t t-else="">
                    <div style="font-size: 70%">Sold To: _____________________________</div>
                </t>

                <t t-if="receipt.client.address">
                    <div style="font-size: 70%">Address: <t t-esc='receipt.client.address'/></div>
                </t>
                 <t t-else="">
                    <div style="font-size: 70%">Address: _____________________________</div>
                </t>

                <t t-if="receipt.client.vat">
                    <div style="font-size: 70% ">TIN No.: <t t-esc='receipt.client.vat'/></div>
                </t>
                <t t-else="">
                    <div style="font-size: 70%">TIN: _____________________________</div>
                </t>

                <t t-if="receipt.client.x_type_of_business">
                    <div style="font-size: 70%">Business Style: <t t-esc='receipt.client.x_type_of_business'/></div>
                </t>
                <t t-else="">
                    <div style="font-size: 70%">Business Style: _____________________________</div>
                </t>
            </t>
            <t t-else="">
                 <div style="font-size: 70%">Sold To: _____________________________________________</div>
                 <div style="font-size: 70%">Address: ____________________________________________</div>
                 <div style="font-size: 70%">TIN: _________________________________________________</div>
                 <div style="font-size: 70%">Business Style: _____________________________________</div>
            </t>

            <div>----------------------------------------------------</div>
    	</xpath>


        <xpath expr="//div[@class='before-footer']" position="inside">
            <t t-if="receipt.x_receipt_note">
                <b>Notes:</b> <t t-esc='receipt.x_receipt_note'/>
            </t>
            <br/><br/>
            <div>
                <t t-if="receipt.client">
                    <t t-if="receipt.client.x_pwd_id">
                        <div style="font-size: 70%">PWD ID: <t t-esc='receipt.client.x_pwd_id'/></div>
                    </t>
                    <t t-elif="receipt.client.x_senior_id">
                        <div style="font-size: 70%">Senior ID: <t t-esc='receipt.client.x_senior_id'/></div>
                    </t>
                </t>
            </div>
        </xpath>

       <!-- Payment Lines -->

        <t t-foreach="receipt.paymentlines" t-as="line" t-key="line.cid">
            <br/><br/>
            <t t-if="line.name == 'Check' ">
                <div style="font-size: 70%">Check No:    <t t-esc='line.x_check_number'/></div>
                <div style="font-size: 70%">Issuing Bank:   <t t-esc='line.x_issuing_bank'/></div>
                <div style="font-size: 70%">Check Date:     <t t-esc='line.x_check_date'/></div>
                <br/>
                <div style="font-size: 70%">Signature: __________________________</div>
            </t>
            <t t-elif="line.name == 'Debit Card' or line.name == 'Credit Card' " >
                <div style="font-size: 70%">Card Name:  <t t-esc='line.x_card_name'/></div>
                <div style="font-size: 70%">Card No:    <t t-esc='line.x_card_number'/></div>
                <div style="font-size: 70%">Approval No:    <t t-esc='line.x_approval_no'/></div>
                <div style="font-size: 70%">Batch Number:   <t t-esc='line.x_batch_num'/></div>
                <br/>
                <div style="font-size: 70%">Signature: __________________________</div>
            </t>
            <t t-elif="line.name == 'Gift Card' " >
                <div style="font-size: 70%">Gift Card No:   <t t-esc='line.x_gift_card_number'/></div>
                <div style="font-size: 70%">Signature: __________________________</div>
            </t>
            <t t-elif="line.name == 'GCash' " >
                <div style="font-size: 70%">GCash Reference No:     <t t-esc='line.x_gcash_refnum'/></div>
                <div style="font-size: 70%">GCash Customer:     <t t-esc='line.x_gcash_customer'/></div>
                <br/>
                <div style="font-size: 70%">Signature: __________________________</div>
            </t>
            <t t-if="line.name == 'Gift Check' ">
                <div style="font-size: 70%">Gift Check Voucher No:    <t t-esc='line.x_gc_voucher_no'/></div>
                <div style="font-size: 70%">Gift Check Voucher Name:   <t t-esc='line.x_gc_voucher_name'/></div>
                <div style="font-size: 70%">Gift Check Customer:     <t t-esc='line.x_gc_voucher_cust'/></div>
                <br/>
                <div style="font-size: 70%">Signature: __________________________</div>
            </t>
        </t>

    </t>
</templates>
